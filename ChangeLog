commit eb25228d7a14b6fbf4586dce2702013eb1d33969
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 10:43:02 2022 +0900

    Remove obsolete files.

commit 372baeeed7fbee34762a28e681214a1a3f1b581e
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 10:41:46 2022 +0900

    Remove very unused macros.

commit bbcac421fd5efeca3f385efa667d1f8a887f3467
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 10:21:24 2022 +0900

    Remove unneeded checks.

commit 2c7a9f97ace249f10f430372dc5e42595e1c10a1
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 09:39:54 2022 +0900

    Remove very obsolete macros.

commit 4fb9dbf5bc65c26ca84dda8cf76520d6717eec82
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 09:29:48 2022 +0900

    Update obsolete macro.

commit 55836e1e0657fab67f81a09faf987bd02ee3bb0c
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 09:29:22 2022 +0900

    Update obsolete macro.

commit 19391b30940c4f567443e88395395ea91019cef4
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 09:21:43 2022 +0900

    Update obsolete macro.

commit fc92ee509af409e1ace2b71a71c5331661d66eb3
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 09:15:31 2022 +0900

    Nuke RETSIGTYPE.

commit bcb4d9982e9e38d7a5b1b892e390b1ce832d434f
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 09:12:05 2022 +0900

    Modernize configure.ac, part one.

commit 18cf2cbb5bf048f96a7c7687c109f924d5bfaea3
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Sun Jul 24 09:05:48 2022 +0900

    Ignore all .AppleDouble directories.

commit 6c57b51122d386a723975abe34a0a6b244306f29
Author: Chris Kobayashi <10285168+christopherkobayashi@users.noreply.github.com>
Date:   Mon Jul 18 06:45:07 2022 +0900

    Use correct BSD make syntax.

commit b026313ffc4603d237ae7d85121c90f3d7296511
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Thu Mar 24 14:53:26 2022 +0900

    Move variable declaration to beginning of function, as required by the prophecy.

commit e6b3b4fa3d7836c767db9fbb5e776efb8a3bf93d
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Mar 24 14:33:08 2022 +0900

    Enable sqlite CNID backend (still work-in-progress, don't use)

commit 2d33725362acdd5c21d4a6595aa9244401548b4c
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Mar 24 14:18:57 2022 +0900

    Checkpoint -- this compiles now.

commit afc139b6c9a2a374a31312c8354112e4a63f0d86
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Mar 24 13:20:38 2022 +0900

    Checkpoint.

commit 02f7509ed1d56886025705b4df1198a946ee3516
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Mar 24 10:52:05 2022 +0900

    Add sqlite3.

commit 7499ea0aa32491cf85999e8ce5c142308841e88e
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Mar 24 10:51:25 2022 +0900

    Add sqlite3.[ch]

commit 36e17139175848a1c8eaf1bb4e1d4c86f2eb15a2
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Mar 24 09:57:06 2022 +0900

    Checkpoint.

commit deffb17522efd4aa782dfe843b8bd2fc72e4639b
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Mar 24 08:59:32 2022 +0900

    Checkpoint.

commit c0c5fe9325335fc0d1220ec0c40019ecf51a169e
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Mar 24 08:28:44 2022 +0900

    Checkpoint.

commit 0b4087c1c26810f9ccc4697108f73e6435ac3728
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Wed Mar 23 14:45:53 2022 +0900

    Add work-in-progress sqlite CNID backend.

commit fbf37b1b3994965f96d81b2152a66bf9837e8348
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Wed Mar 23 10:27:33 2022 +0900

    Ignore another working directory.

commit be3976de6a117e21bc461bad05bf7c3bf3abad4b
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Wed Mar 23 10:23:02 2022 +0900

    CVE-2022-23123: libatalk: add defines for icon lengths
    
    From https://www.ietf.org/rfc/rfc1740.txt

commit 30cd7bc5025bbc1ced6c7401de34a74733dfaf66
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Wed Mar 23 10:21:33 2022 +0900

    CVE-2022-23125: harden copyapplfile()

commit 0797d87a8c15bec612b9480f3aff3f2c66520021
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Wed Mar 2 14:03:35 2022 +0900

    Use fseek() here too.

commit 8f276f6e03fd3855ed6515dc96c5722e9e30cf6d
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Tue Mar 1 12:05:19 2022 +0900

    Use explicitly sized types.

commit a6f689343162d9cf6f2b5b5a7a1631eb88a7506f
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Tue Mar 1 10:22:50 2022 +0900

    options->transports is unused (will remove from struct later)

commit 5c4969d19e6296c441f344f88f47355f8b81b663
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Tue Mar 1 10:21:15 2022 +0900

    Remove obsolete options.

commit e10c3b4f88c6cb1090b4851274ecd4642d9e5dec
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Tue Mar 1 10:01:50 2022 +0900

    fseek() instead of fflush() -- both work, but fseek() is more correct.

commit de1afba6777278a21d8b0bee11bc8988ce50247a
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Mon Feb 28 12:38:51 2022 +0900

    Argh, fix cut-and-paste.

commit 2e28f9ff46e4e8f4135b5ee57d1c7b1cb41180f5
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Mon Feb 28 12:36:47 2022 +0900

    Check return value of ASPConfigInit() and handle error case.

commit e1c0259f2eaaba15766c2145634edc050fbacc2e
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Sat Feb 26 22:16:50 2022 +0000

    Clean up indentation and fix a misplaced brackets issue introduced when merging.

commit 2380609763b3cf40df89962bd68dd003cacbd6d8
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Sat Feb 26 21:22:42 2022 +0000

    Fix merge conflict resolution mistake, and clean up code style after merging the papd patches.

commit b86c41de66c17a3d78c6bb2cb445b5d4c94dd6b1
Merge: 0f532a85 e6cdcc9d
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sat Feb 26 14:59:44 2022 +0900

    Merge pull request #16 from christopherkobayashi/rdmark-remove-force-uidgid
    
    Remove the Force UID/GID feature, which has been broken for ages.

commit 0f532a85653ae42f03a6453ba55fd36332acc7c7
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Sat Feb 26 14:55:49 2022 +0900

    Regen.

commit d8716351f29283bf8038de06866130523f0b51d7
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Sat Feb 26 14:55:17 2022 +0900

    Don't hardcode perl path, use proper indent to placate gcc -Werror

commit e6cdcc9dc0b7b640d30d70cebf37c72bc89bf8c5
Merge: 6fa6b423 8a81f182
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sat Feb 26 14:28:11 2022 +0900

    Merge branch 'netatalk-classic' into rdmark-remove-force-uidgid

commit 8a81f1825837838212bc83f1913d9f61dd493f36
Merge: 2011fd04 fbf46949
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sat Feb 26 14:26:48 2022 +0900

    Merge pull request #12 from christopherkobayashi/rdmark-unicode-14
    
    Unicode 14.0

commit 2011fd0417764f3089df89e81cff4e2571d6a19b
Merge: b5b9fe1c a346882a
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sat Feb 26 14:25:42 2022 +0900

    Merge pull request #13 from christopherkobayashi/rdmark-cleanup-config
    
    Clean up references to deprecated features

commit b5b9fe1c8440950e0e22648a40a0246cf30ae708
Merge: 311b7c4d 19968987
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sat Feb 26 14:24:43 2022 +0900

    Merge pull request #10 from christopherkobayashi/rdmark-ports-from-netatalk3
    
    Backport patches from Netatalk 3

commit 311b7c4d2d939ab21373ed6954785b154cda88e0
Merge: 2a5d0a0f 125e4be0
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sat Feb 26 14:23:25 2022 +0900

    Merge pull request #11 from christopherkobayashi/rdmark-papd-patches
    
    papd patches for improved compatibility with old LaserWriter drivers and slow networks

commit 2a5d0a0f8ad579c78c9fd80d450e087bcea2e730
Merge: b0d6521b 2a3059e4
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sat Feb 26 14:21:22 2022 +0900

    Merge pull request #8 from christopherkobayashi/rdmark-enable-start-services
    
    Enable and start systemd services with make.

commit b0d6521b565a1664ea0847a022b9b2561ef4f55f
Merge: 438f3de9 87be4bbf
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sat Feb 26 14:20:27 2022 +0900

    Merge pull request #15 from christopherkobayashi/rdmark-fix-afppassword
    
    Resolve gcc warnings to make afppassword compile with cracklib

commit 438f3de99ad7f62c53017297e61185e5470e967b
Merge: 0ea4fea6 ec390a4c
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sat Feb 26 14:19:43 2022 +0900

    Merge pull request #14 from christopherkobayashi/rdmark-fce-stragglers
    
    Clean up FCE stragglers

commit 0ea4fea6cc21754455eb4eb7dbe74e03a6cf9c23
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Sat Feb 26 14:16:22 2022 +0900

    Restore comments.

commit 778684c993076e0388cf841dca99f5a7701863f8
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Sat Feb 26 14:14:56 2022 +0900

    Unbreak this.
    
    This reverts commit 5cd17be2ccedc98f96116ccb818991e700afd634.

commit 6fc3e95115b5f1e35a68141d7f14934a5c83bde7
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Sat Feb 26 13:43:18 2022 +0900

    Initialize variable to placate NetBSD.

commit 6fa6b42369759606fb2a948397baa74177c8395a
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Thu Feb 24 22:30:39 2022 -0800

    Remove the Force UID/GID feature, which had been broken for ages.

commit 87be4bbfe09ac2c7170d3e18d910a8d62c061b52
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Thu Feb 24 14:14:43 2022 -0800

    Resolve gcc warnings to make afppassword compile when cracklib is enabled.

commit ec390a4cd8b4093e64ee60b9b05144a2c752b050
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 23 22:15:42 2022 -0800

    Remove more FCE straggler code.

commit d13331986fe8e798b26adb81717e5de63a7154fc
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 23 21:49:50 2022 -0800

    Remove straggler references to FCE.

commit a346882a315170a1b2ca58d46358b582081a31b9
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 23 22:15:58 2022 -0800

    Remove deprecated man page.

commit 902587a0baa1b09bd7ba1f505f56495b7e461448
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 23 21:52:53 2022 -0800

    Remove documentation for deprecated features.

commit 82518c18a236bd1f4ba900ccb79bfe8c4ab10352
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 23 21:30:26 2022 -0800

    Remove deprecated options from config templates.

commit a31a623f5149a4cab5170797ceb154673d16e069
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 23 09:58:36 2022 -0800

    Clean up configure script, macros, and makefiles to remove references to removed functionality.

commit fbf46949913ce32a94b54aad16259b47e8c82f36
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Thu Feb 17 20:48:34 2022 -0800

    Run the unicode source make scripts against the latest UnicodeData.txt from unicode.org (v14.0)

commit 125e4be08ec7bbb927ae0ea6ba37778bea94304e
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Fri Jan 28 14:58:16 2022 -0800

    papd: Send replies to client when printing to prompt more data to be sent. Original patch by Nat Sloss.

commit 0f7bfa17320c811af9eb11054c3098936f57bc28
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Fri Jan 14 03:59:49 2022 -0800

    Add support for %%?Begin/EndFontListQuery. Sends font names in individual PAP packets vs. one large packet to be consistent with other PAP servers and real PostScript printers. Needed by LaserWriter 7.x and GS/OS driver.

commit 46342a07082f05f8639f4cc97e628f6d7570ea21
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Fri Jan 14 03:56:55 2022 -0800

    Add support for Product queries (return's printer model name). LaserWriter 7 queries this to enable/disable driver features.

commit 3beb23a8abc0d380b1f3b09fbdd728e799c25b0b
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Fri Jan 14 03:53:17 2022 -0800

    Properly support %%EOF termination of queries. Needed for GS/OS driver.

commit 3f87f3e788f67f38cda92f17d98fbefe05a81d48
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Fri Jan 14 03:47:35 2022 -0800

    Clear input queue and switch to query mode if Postscript magic string is detected after first line of text is sent to papd. This is needed for the GS/OS driver since that driver sends raw Postscript to the printer in order to change it's PAPStatus display before sending the magic string. This is poor driver behavior on Apple's part, but other PAP servers had no problem handling it.

commit 2b135b1bdc12f8b93f769f77876ef33158236112
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Thu Feb 17 18:25:37 2022 -0800

    Apple LaserWriter 8 drivers don't respect line lengths

commit 2a3059e405c3c9af81395cb845194c0c894815c9
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Thu Feb 17 18:16:45 2022 -0800

    Introduce --enable-systemd-start configure option which turns on enabling and starting systemd services with make install.

commit 1996898702b97c8f55f7723abf523462e427ee79
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 16 20:39:21 2022 -0800

    Use u_int## orthography consistently.

commit f6bde44f97dec73e3abed82c9130971a400d03c8
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 16 18:12:57 2022 -0800

    Use tabs for indentation.

commit 23b70dca774279762d4423963f8fa485d435ddaf
Merge: c479a637 a1120f81
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Thu Feb 17 10:48:54 2022 +0900

    Merge pull request #9 from christopherkobayashi/rdmark-sundry-patches
    
    Sideport patches from Netatalk 2.x

commit c479a637e7ab04e5209d8faef7c89abe2984f1b7
Merge: 91835940 2f267a78
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Thu Feb 17 10:41:24 2022 +0900

    Merge pull request #7 from christopherkobayashi/rdmark-ifdef-cleanup
    
    Sundry obsolete platform ifdef stragglers

commit a1120f8131e4962d871e0e25227955056fafbc70
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 16 17:11:20 2022 -0800

    Remove .gitignore from .gitignore

commit 29ec2d0350c74006bff50cf6b3d2575190ca7e5b
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 16 16:16:54 2022 -0800

    Add .gitignore

commit 02c04895f251982f8e1e04d8a04a48ec8fdd4cc7
Author: Scott Talbert <scott.talbert@wdc.com>
Date:   Thu Jan 19 15:11:37 2017 -0500

    Update Netatalk volume capacity reporting to match Samba behavior
    
    Currently, Netatalk's reported volume capacity will shrink as the difference
    between 'free' and 'available' blocks increases.  This updates the reporting
    to not do this, which matches Samba's behavior.
    
    Signed-off-by: Scott Talbert <scott.talbert@wdc.com>
    Reviewed-by: Ralph Boehme <slow@samba.org>
    Reviewed-by: HAT <hat@fa2.so-net.ne.jp>

commit b7d5647a0d5691180d7073fde544a3f8c90e37d0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 11 15:22:31 2012 +0200

    Fix possible alignment violations due to bad casts

commit 411b1807d45104de85ac21f8780ca11c2a53c60b
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Wed Jan 8 01:30:47 2014 +0100

    Removing ressource fork AppleDouble fails, bug #542
    
    When the AFP client uses FPSetForkParms to set the ressource fork
    length to 0, Netatalk will call unlink() in ad_rtruncate() in
    libatalk/adouble/ad_write.c in order to to unlink the files
    AppleDouble ressource fork.
    
    The function ad_rtruncate() gets just the filename as path from the
    caller, so obviously at this point the caller should have ensured that
    it had called chdir() to the enclosing directory of the file.
    
    Fixes bug #542.

commit 3790565727a62598afed48097c0bdc22712b9938
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Mon Jan 24 14:50:34 2022 -0800

    afpd: Return the correct error for non-existent volume  (#2)
    
    * afpd: Return the correct error for non-existent volume
    
    Backport from 3.x to fix bug# 577
    
    https://sourceforge.net/p/netatalk/bugs/577/
    
    Co-authored-by: NJRoadfan <NJRoadfan@users.noreply.github.com>

commit d568302b41a6ba145a867493ddf3d6f52979070c
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 16 15:41:33 2022 -0800

    Use correct version macro.

commit 069462f76f84b4cf290800403aa2065684034c01
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Sun Jan 23 20:46:23 2022 -0800

    Update init script templates to start/stop a2boot daemon. Adapted from patch by NJRoadfan.

commit 10d681a5bbb3e9eff5c9ce4ad61102a9c7cc1b8a
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Fri Jan 28 14:54:33 2022 -0800

    afpd: Add option to disable afp session timeouts. Original patch by Nat Sloss.

commit 21bdcae9b2ea706a6c620ef369e3326a35da548c
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Fri Jan 14 17:59:57 2022 -0800

    Allow non-unicode volume to be scanned by the repair tool.

commit 425a6832b495d1d7d946810f24f44d7547c0acbe
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 16 10:06:42 2022 -0800

    Clean up manpage gitignore

commit 2ab3c7d7582403f3785d6c2d1d0156faf2b39975
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Jan 12 18:42:49 2022 -0800

    Introduce templatized man page for timelord, that also documents the -l option. Removes the old static man page.

commit d0e02792e44d99767a5a3af468e98c93ce6872b2
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Jan 12 18:40:10 2022 -0800

    Introduce code for returning the server's localtime, instead of the default GMT. Introduce command line option -l for syncing with localtime. Based in part on the work by cheesestraws.

commit 9f2884eb28369f1db7b711584cf0a56de1358a1c
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Jan 12 18:31:33 2022 -0800

    Removed deprecated and unused timezone struct

commit dde9180157b991c11b7c0f14d488ac44b9ef3b80
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Jan 12 18:29:21 2022 -0800

    Make timelord work on systems other than 32-bit big-endian ones. Patch by cheesestraws.

commit 69d1785a22e839d711978c5870039070ee2f963c
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Sun Jan 9 13:47:14 2022 -0800

    Set interface address correctly for phase 1 networks on NetBSD. Downstream patch by nat

commit d78bec0e147401bc05077ee110bf0cc293d65758
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Fri Jan 14 15:33:10 2022 -0800

    Prevent an erronous return value from ps(). Patch by nat.

commit 79a5f8cd2b421f8679149d6887fbf37bf3c71ccf
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Wed Feb 16 09:41:59 2022 -0800

    Enable and start systemd services with make.

commit 2f267a78e908ab3f214a4ab7ba2607b98c5e35e5
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Tue Feb 15 21:27:43 2022 -0800

    Remove more obsolete platform ifdefs.

commit 8852baf895a8e828d77607e6426d989835f06fc5
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Tue Feb 15 21:23:34 2022 -0800

    Remove more obsolete platform ifdefs.

commit 1cd3a9fb7ed778af5965b3929cc9dec0ae48202b
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Tue Feb 15 21:21:33 2022 -0800

    Remove and simplify platform ifdefs.

commit 91835940a9981c885e49b92b106521ac39affd02
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Wed Feb 16 08:11:34 2022 +0900

    Fix idiotic mistake -- thanks @rdmark

commit e7c034c0477c4c75203c776e58ffedd4be313534
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Tue Feb 8 14:50:10 2022 +0900

    Use properly sized types for clarity.

commit 5cd17be2ccedc98f96116ccb818991e700afd634
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Tue Feb 8 13:37:49 2022 +0900

    Use explicit types and add comments for clarity.

commit 11c03bdfd418d6ac789f222ed3a70a6b411a685e
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Tue Feb 8 07:31:50 2022 +0900

    Add long-forgotten patch to make papd safer.

commit 94c20b3a08438a7ff95096c931189e231406efd6
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 13:27:48 2022 +0900

    Note to self: don't do releases when sleep-deprived.

commit a1747e4b6cdf1c10a8498e7d8ea955a774b6e929
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 13:25:02 2022 +0900

    Oops, bump version.

commit a2837c0ccb09ac5a21432a1e448a67a20c097e37
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 13:17:51 2022 +0900

    Argh, it's 2022, not 2021.

commit b786bb57ad053575aeae92d8ef02e9c889f1fdac
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 13:17:26 2022 +0900

    Release notes for -20220128

commit 6fd99a8f2415afb56f316c8534c079fdeb0cd47b
Merge: da1d8dd8 fb0d6b0b
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 13:03:02 2022 +0900

    Merge branch 'netatalk-classic' of github.com:christopherkobayashi/netatalk-classic into netatalk-classic

commit da1d8dd8004a46690892bf16e4359bbf5939b50f
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 13:01:57 2022 +0900

    That should be the end of DSI.

commit dcbde2c92c6b7014e1e396ab316b91174f98f844
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 12:44:36 2022 +0900

    We use AppleDouble version 2.

commit 5edfe3466e5d87e78c60291b5ceb9e89f8d677d7
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 12:36:32 2022 +0900

    Disambiguate logic and remove unused variable.

commit 03a59a61138b4800d66032d75bdcc740df7c84f7
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 12:30:07 2022 +0900

    Remove always-true check.

commit fb0d6b0bff6e4df31a833d2d526bb7550c3d80b5
Author: Christopher Kobayashi <software+github@disavowed.jp>
Date:   Fri Jan 28 11:20:00 2022 +0900

    If we're on NetBSD, we're using BSD make.

commit ff410e682f442f239770519f233c2b1c7ee018fe
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 10:09:39 2022 +0900

    Fully remove unused stuff.

commit 130f2a3b5cc4dccdf2d718177aee7a19f0f2b1cf
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 09:45:22 2022 +0900

    These need to be unsigned.

commit 14f266daf24151caf7679ac6713739af8a26577f
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 09:37:18 2022 +0900

    Remove unused (but harmless) printf()s

commit a4ea6efaedce7f7dfd90d40b2966dcc1211f29dd
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 09:33:47 2022 +0900

    Initialize string to placate cppcheck.

commit 8bbc134df15aa214db1b714ab648e88c77856265
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 09:33:36 2022 +0900

    Reap dead code (cppcheck)

commit 0c11f0e868f20da1b5380de266ef5274a0db0cd5
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 09:28:14 2022 +0900

    Reap more dead code (cppcheck)

commit 292351c076478c29f21eb9a5c085915ae85caff0
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 09:04:14 2022 +0900

    Remove for good.

commit bfc0007c33719c979eefe9e06eeacfde69cf1785
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 06:32:29 2022 +0900

    Explicitly use unsigned/sized types for bitwise operations.

commit c5951fea24c683105fd1b8dafdaf4c23ae2e5159
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 06:20:17 2022 +0900

    Fix realloc() failure mode (cppcheck)

commit d2527f92971cbacb9c96d62ba9b430121fa2a4a8
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 06:12:02 2022 +0900

    Remove dead code (cppcheck).

commit 00d68e9449e777246a0e2807fdac1c41d55b4b8e
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 06:09:58 2022 +0900

    Remove dead code (cppcheck).

commit e3ce4ea20b671273f8791a7991308b5572721218
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 06:07:32 2022 +0900

    Nuke unused code.

commit 0e400c2763fd96b58aa1d521de4b0865e4e9a178
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 06:00:52 2022 +0900

    Eeek - fix integer overflow (cppcheck)

commit b4910e8cc5ffae7c66f431969bf95e40e2afc8c2
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 05:58:32 2022 +0900

    Remove dead code, part 2.

commit 04d86b9f883be8be55a0c89243c01b5950c17f42
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 05:55:00 2022 +0900

    Remove dead code identified by cppcheck, part 1.

commit 27d275782c9a8fd1177a9f5f90ecf27c949f0e2c
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 05:51:27 2022 +0900

    Remove extattrs.

commit 12d1bc7b97b3743b0068b2ca2fb60f4c32aa2eb8
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 05:33:55 2022 +0900

    Oops, forgot to check *.h for DSI.

commit 4c6580e9452687296f428491e873bc0080cc9567
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 05:31:23 2022 +0900

    Remove #ifdef'ed DSI code.

commit 3a179c11eb703fa9369a9b69d2c946e739fa5c8a
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 05:17:37 2022 +0900

    Remove obsolete comment.

commit caf6c3995fe9f7d97e39a6ef89fb079ca30ec49c
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 05:14:29 2022 +0900

    Remove dead code.

commit 4d9f0bd2e6426489a60f4bdf12e0afdc6dd9743e
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 05:10:42 2022 +0900

    Don't assume sizeof(void *) == sizeof(unsigned long).

commit d1c043bff52b01820447b075b896488afd28ebad
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 04:49:13 2022 +0900

    Remove insanely dangerous afprun().

commit 1c1e986c70df39d6e79e6fc03adccfed42759e21
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 04:34:59 2022 +0900

    We don't use ACLs, remove.

commit b784d76ff79c5e251553239882222b76a67feb4a
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 04:32:10 2022 +0900

    Use snprintf()/strlen().

commit 000d99dc8c5b5b11d7cdf1a2392d7fa06fdc6d04
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Fri Jan 28 04:24:10 2022 +0900

    Nuke more AFP3 code.

commit daaed65a8a8deb2475c3d60778f1467ea682204e
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Jan 27 15:09:08 2022 +0900

    What the hell?!?

commit 76e7f0c05c91d7c9aa08a9a5d5b1ae8c3261d4db
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Jan 27 14:54:18 2022 +0900

    Remove a little more AFP3

commit 8276c48bb529c9bc42cea2075da54887fca1af84
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Jan 27 14:47:27 2022 +0900

    Remove more AFP3.x code revealed by @rdmark 's radar against upstream.

commit a84cc322c0806ec76bf180be0706c299062f2a42
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Thu Jan 27 14:43:32 2022 +0900

    Commit forgotten fix.

commit 7673f6d692246f85eb18ddb52bc31ff7b581447f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Jan 27 14:28:17 2022 +0900

    This was fixed in upstream -3.x branch, but apparently they forgot to backport.

commit 9c34e224ff20e75355bf2224751757536e649c4a
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Wed Jan 19 12:57:57 2022 +0900

    Make it blindly obvious what this routine is doing.

commit 74c916187cf4e79445f9310b66cdff2f0e3bb809
Merge: 3d903360 ed47f9e0
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Tue Jan 18 10:12:01 2022 +0900

    Merge pull request #6 from rdmark/rdmark-fix-makefile-uninstall
    
    Fix the uninstall hook for systemd.

commit ed47f9e0ad90382915e09ae8c9eaedc7299ccfac
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Mon Jan 17 16:06:35 2022 -0800

    Fix the uninstall hook for systemd.

commit 3d9033603c08b1333f5ee15939ab127701c3fffd
Merge: b01f5447 99837d73
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Mon Jan 17 11:19:58 2022 +0900

    Merge pull request #5 from rdmark/rdmark-atalkd-systemd-forking
    
    The atalkd daemon needs to run as a forking systemd service.

commit 99837d7344722ee1b5633702b76c031b1614ba87
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Sun Jan 16 18:09:03 2022 -0800

    The atalkd daemon needs to run as a forking systemd service.

commit b01f54475264b7b309fdcfadf6faaf1bc75aca38
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 16:37:47 2022 +0900

    Remove FCE.

commit a19649c02398dec79d35e1126211f462ac88dc6d
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 16:29:55 2022 +0900

    Make this less obtuse.

commit 88e60b78e944c54437de6a64efb9e6c46181cd61
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 15:56:13 2022 +0900

    Nuke a Kerberos straggler.

commit 438cf697f72a354773f780dce62098731aa6a44f
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 15:53:07 2022 +0900

    Remove pointless ifdef block.

commit 1ef8c106ac2befbbb0cde23aaa6bf1b221a4a7cc
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 15:51:56 2022 +0900

    We use writev()

commit 237a104a8261914b47c39f2263a2de8a5ca6c72d
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 15:48:56 2022 +0900

    Untangle seteuid() mess.

commit 5c507e6142966adc65a1a860928745629072e79f
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 15:37:05 2022 +0900

    Remove pointless ifdef block.

commit a5e856236c5f70369bc2778a40dff73d5a47e1f8
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 15:29:25 2022 +0900

    Stub out DSI code in preparation for removal.

commit 4b05e79088b9ae9715ffcfb2140fb8331e84843d
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 14:16:15 2022 +0900

    Remove more AFP3-only code.

commit 8b6ed909451135d45c784efd0cb10f142798d607
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 14:03:43 2022 +0900

    We don't support AFP3; remove AFP3-specific code.

commit d0b02c71aca44b88e0072d0dff18b12bc02857b3
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sun Jan 16 13:46:27 2022 +0900

    Use explicitly-sized types when doing bitwise arithmetic.

commit 15830e1fbc86c6c8bf87c681a096b4e5b3846668
Merge: fbf19577 c823ad5b
Author: christopherkobayashi <christopherkobayashi@users.noreply.github.com>
Date:   Sun Jan 16 13:39:16 2022 +0900

    Merge pull request #4 from rdmark/rdmark-fix-32bit-compile
    
    Linux 32 bit compilation fixes

commit c823ad5b2cb1dbbbc3364fafe4c7a4e764a2f2c9
Author: Daniel Markstedt <markstedt@gmail.com>
Date:   Sat Jan 15 20:08:09 2022 -0800

    Resolve gcc10 errors on 32 bit Linux, pertaining to long integers. Also, removed one #pragma warn that was hindering compilation.

commit fbf19577882f33f8e0ff7d743441f02a79cfd3e1
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sat Jan 15 17:26:02 2022 +0900

    Add casts to permit compilation on 32-bit platforms.

commit 77fad15cb4a7d95739b50b013caa64062a891926
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sat Jan 15 17:25:39 2022 +0900

    Initialize variable.

commit af6280dc686885acfc4db048ba29276664ade463
Author: Christopher RYU <software+github@disavowed.jp>
Date:   Sat Jan 15 15:19:31 2022 +0900

    Remove harmless-but-confusing reference to AFP3.

commit f17fd5c710cc3f8f3521f0b9aab92a03295164ac
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Jan 11 12:37:54 2021 +0900

    Untangle #ifdef mess.

commit e53c7f08123e5f0ca0862384d4f4569635725999
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Jan 11 12:27:23 2021 +0900

    Untangle ifdef mess.

commit cb1d2c6ec4e3fb1c1db0822a53ccb572d33e154e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Jan 11 11:58:38 2021 +0900

    Add a giant warning at the top.

commit 2684ced17b776b29bc2d2c00d51094509b756f27
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Jan 11 11:51:54 2021 +0900

    Bring in Rob Braun's abridge for future inclusion.

commit 8c55aa1965321ff18d6fbbdb8cce3ebf023fe7da
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Jan 8 21:33:53 2021 +0900

    Nuke KRB.

commit 4abfe998cc0a799e13e08d0d80fa65ffe4e8c0d6
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Jan 6 15:06:14 2021 +0900

    Adjust ignored files.

commit d8dc486ebf1b98d590e21f45c6e7531e1a521a5a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Jan 6 15:03:25 2021 +0900

    Add NetBSD rc script for macipgw.

commit 8d3556986da2bea9c93afa890c7a6004e0662d5b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Jan 6 15:00:01 2021 +0900

    Remove obsolete rc scripts.

commit 72ff0cb5c590e93d1e40fedf623abbaaf8b73dd6
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Jan 6 14:54:57 2021 +0900

    Remove obsolete init script schemes.

commit ce9443b6dc0d74c2fa51efcb681caf648dc9e17a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Jan 6 14:54:28 2021 +0900

    Rework systemd service files.

commit 8a8cee7fe997e637fcd16c09b388406c99d0b09e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Jan 6 14:52:38 2021 +0900

    Ignore now-obsolete systemd/ subdirectory

commit 7fc90cd0d4c4885c6a03bda798b4d406522b889c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Jan 6 14:26:50 2021 +0900

    Add systemd service file templates.

commit 06445b470095d305f0986c2ac2410af07083a47c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Jan 5 20:25:24 2021 +0900

    Avoid using uninitialized memory.

commit 90671f16cb70848d973bc173dcdd539f9234a8bf
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Jan 5 20:19:22 2021 +0900

    Initialize memory before use.

commit 1646d81ce1e65f33e8cc2b7c448afb1c656e7f75
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Jan 5 16:09:13 2021 +0900

    Add a bit of purpose and compilation help.

commit 650cc7647e0bff353ea9ce47a4259e7c760343a2
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Jan 5 15:39:47 2021 +0900

    Properly initialize empty string.

commit eba123ad68e8c4d8b511e297e3d7ac57b0587f9f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Jan 5 15:31:33 2021 +0900

    Remove another unused Werror override.

commit 3e38c9a40b013f64f7a5539f7d35d538a259a7ef
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Jan 5 15:25:50 2021 +0900

    Use temporary variable to fool bstring access macros (TODO: nuke bstring)

commit 527b5c6b53bdc1b607045c7aec303c512e944534
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Jan 4 19:22:01 2021 +0900

    Remove compiler warning override.

commit afce5035df0995c7b30858d7f464a75e5cde3c93
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Jan 4 19:20:58 2021 +0900

    Unused, but ANSIfy anyway.

commit d5ae47fd655c0a188b6f28bd96c0fe113a89f26e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Jan 4 19:18:48 2021 +0900

    Unilaterally pull in /usr/pkg/{include,lib} on NetBSD.

commit 05540627ad6a96f79229ce7aabc43d7156d8b8a9
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Jan 4 18:54:54 2021 +0900

    *sigh* More buffer overflow issues.

commit 7eaf7b0bb034655a163d76721dc0c89848ada581
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Jan 4 18:51:48 2021 +0900

    Argh, allow for trailing '\0'

commit 3e33fd48c7f84cccc5f4025803c7cbcfe2268c67
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sun Jan 3 17:02:32 2021 +0900

    Handle possible string overflow (reported by Florian Kolb)

commit 3f0319b1b99845f66e384d9a68cf5d0c9b87ad2a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Oct 31 15:06:16 2020 +0900

    Indent.

commit 8981a93ebbef57a4c9d9d0216553b6dd99c5d06a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 29 22:09:04 2020 +0900

    We're going to try very hard to remove perl as a dependency.

commit 4958714ccfcaf5bff2a01002d7ca9bd931baaa8f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 29 22:07:48 2020 +0900

    Make "macusers" script less obtuse.

commit e1326c7ade4f6a5dff83de461523e29fbb19c0a8
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Sep 24 10:49:51 2020 +0900

    Use sane defaults for DDP, disable non-DDP config directives.

commit f1292e99af614d70078bcb33e141a63701f76627
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 15:27:27 2020 +0900

    Disable compat and tsdb.

commit a905bfd40abc791e871b8ccc267b06ba7d065157
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 15:20:45 2020 +0900

    Move compat to attic/

commit 23c969470f80a0d7f965fe77c07ad7562bffd66f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 15:19:42 2020 +0900

    Use memmove() instead of bcopy()

commit 616a13a48eeaba09e7712c6d430b33fe742b93ba
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 15:18:23 2020 +0900

    Move tdb to attic/

commit 03ffeba285aa264e6ffe34afeaa547ff0bc88627
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 15:15:34 2020 +0900

    Indent.

commit f9a9918a39d0b9f0decf7690194cc64844aefcb3
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 15:14:29 2020 +0900

    We have/don't have these functions.

commit 642d269ba14a75602b99364b8da0745972420a51
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 15:12:36 2020 +0900

    Indent.

commit 4179b44b6c49835f0d9f9b10ea2e9936adda7612
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 14:05:08 2020 +0900

    !Xiaoting :)

commit 48facee9efa801683b0f532f79165f95626a8298
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 14:03:02 2020 +0900

    Release notes for 20200923.

commit e108ec6b1584df6ac236504ba83ef168a0615400
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 14:02:53 2020 +0900

    Version 20200923

commit dea72cdcdf6642247b641c671e7a55fbf989baeb
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 14:02:34 2020 +0900

    Use localtime instead of zulu.

commit 11ec17bf16c0a3d5c92defe89c182387196028c3
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 13:46:04 2020 +0900

    Re-enable log levels.

commit b8b26619b4d5591ee95205a9ad4c3bfde8e8bfa5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 13:45:41 2020 +0900

    Change default log level to INFO.

commit b2c680af44188ec858630248f8cf23c31d1b72e0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 13:31:04 2020 +0900

    Remove excess spaces from log string.

commit 2eaede4cb558ff2fda17ea87888180e5c7767e80
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 13:27:02 2020 +0900

    Add missing include.

commit d0aac6539ca31ef3e7a83fe99b6de1349b81d256
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 13:25:50 2020 +0900

    Add timestamps to log.

commit 21507999745ba47b4f1a70eb6c42519bc804185d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 13:00:18 2020 +0900

    More seteuid() failure checks.

commit 85cada00a6c836d900b1c203e42c8f3f7c515db5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 12:55:49 2020 +0900

    One more return value handled.

commit 25b1d27a26187cc87f67ac2faa630ae6e51ab6d5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 12:51:25 2020 +0900

    Handle write failure.

commit 8f5e71afa2798733bf2597f7207f588ee12fec1b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 12:50:32 2020 +0900

    Test write() return value.

commit b26bc6e54516c6b5d8be23450b54442cf8da9ffe
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 12:50:06 2020 +0900

    Use fprintf() instead of write(2, ...)

commit 44d547a3ee01bcbed331fe184a8905689d20444a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 12:45:56 2020 +0900

    More return values.

commit 5e4c93b10a69d0fc6e7537b144bf8af95462a951
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 12:43:50 2020 +0900

    More return values.

commit ffa41898429596a5980dfaefd76746534fcf87fc
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 12:04:52 2020 +0900

    Handle return values for failed system calls.

commit edb046909f12a63fc09f018d29be58dfd3798626
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 12:00:49 2020 +0900

    Error for failed chown()

commit 0cb1de234d96831d3eb1b934500e2e59ca195fbf
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:58:12 2020 +0900

    Emit errors for failed e[gu]id shenanigans.

commit 796f098d71a4590c1fd7747f52ff461ef8acea5e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:51:19 2020 +0900

    Honor fchdir() return value.

commit 5883c6222293629c66cb7f066dc2620911f6bbc6
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:49:42 2020 +0900

    Honor writev() return value (and indent)

commit 561367dfe7841cf69769e6a922cbf4474e38d71d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:46:52 2020 +0900

    Handle chdir() return codes (and indent, as usual)

commit 3a343d6cdd5d72ea92c3fc0deeb7bd320fac0f57
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:44:51 2020 +0900

    Handle failed chdir()

commit 2494aad5b010995e1166d0feffb5b8561c7eb757
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:38:35 2020 +0900

    Be much more careful about effective-UID shenanigans.

commit 9bb933d1a52860c623ae7efd0e9480fef407b4fa
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:28:53 2020 +0900

    Add a note about changing -Wall -Werror.

commit c5364570233ff4183fda3c0e0e54bf8076770d3c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:16:04 2020 +0900

    Indent.

commit 91c688749a282eae7c14aef4f314fc1a3f330def
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:13:35 2020 +0900

    Indent.

commit 6080cf4447ec65366e84565d23ec619473980c68
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:11:45 2020 +0900

    Remove compat/ from build infra.

commit c4d0573ec23e0985ea3bd610ef3d3f5c980fc0ac
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:10:00 2020 +0900

    Indent.

commit 3673a73ae5b75c3579ae95f739caee6d31888b6b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:07:47 2020 +0900

    Rework Solaris compatibility define.

commit 77057738ab9af7c9e5230b96216afaff2546a8e8
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:05:17 2020 +0900

    Indent.

commit a878e9815b4dad011cdf2d712461b25af9c6cd2a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:03:46 2020 +0900

    Move unused backends to attic/

commit 5569533b7f8441f3f1fed3b51db190a5c10f2da0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:03:19 2020 +0900

    Remove references to dead backends.

commit 5c768035f83c7981cd4f84b5b5aeeebe5e99b4b0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Wed Sep 23 11:01:30 2020 +0900

    Indent.

commit 8dbc14c16da4db4511d06b915ca4680f7bf306cf
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 22 18:08:12 2020 +0900

    Plug memory leak.

commit f923599c256d3b81cbeb1e4e58fe49dce9677e5c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 22 11:49:00 2020 +0900

    Remove more dead code.

commit 4aeda2faae21cad0654ae82d88385aaf605ef1f9
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 22 11:47:42 2020 +0900

    Remove most "if 0"'d code (but leave in some that may be useful later)

commit 2c6a81643999140b419b4d1dbb2270e6c13b5b69
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 22 11:38:20 2020 +0900

    Move files into doc/

commit b2ee5ddd2034530a06e9614a06cbb15ef1687927
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 22 11:37:09 2020 +0900

    Sigh, use the correct define for .img.

commit 1ffe898ec3e114c4c4d7d9d85b9ccd2896ba4fb7
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 22 07:29:29 2020 +0900

    Add /usr/pkg to search path for NetBSD.

commit 87d710f77c89f8f1201c285a3bc57b37f357d90d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 22 07:24:36 2020 +0900

    Cosmetic ifdef.

commit aae1828a0ba8cd1c361d0c91def75e584d2a28fd
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Tue Sep 22 07:21:14 2020 +0900

    Indent.

commit a883c03fb80f7ee6e3107ff4157a7539b8075687
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 15:20:10 2020 +0900

    Uncomment, sort, and add my disk image types.

commit f78e0d76c3eebeab8d365c295decf5e36df98b0c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 10:01:24 2020 +0900

    Markdown.

commit 96182c298741a85607008f0d93c18d80192e4879
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 10:00:38 2020 +0900

    Version 20200921

commit dde37e348634d7de6a1fc4806822d13b49b8c698
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 09:32:46 2020 +0900

    Remove long-unused code.

commit d7e7516af8ad2f7a25f0100c4d4631f16c3fbc81
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 09:29:24 2020 +0900

    Move unused modules to attic (aka "keep around just in case")

commit 5d4cb2c6946db552735af24c0c8cb792e540461a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 09:07:31 2020 +0900

    Remove conditionals for obsolete platform support.

commit 9f76ce35da5582c78d48fb45ac2cdcad2a7bd691
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 09:06:09 2020 +0900

    Grr, glibc doesn't have getprogname().

commit 6c500a1a6acc8bd550bfdcf140320e886ab0ade1
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 08:50:37 2020 +0900

    Keep file locking enabled.

commit 4deea8f1e22c2a19051b448f950dee44666168ba
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 08:45:27 2020 +0900

    Remove long-ifdef'ed-out code.

commit 0c18319eb9d7793c0450cf16d35754b028ed017f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 08:40:56 2020 +0900

    realpath() takes null.

commit b545cd6c3e1d5628c19c24a469e6e9b97718ec20
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Mon Sep 21 08:37:25 2020 +0900

    We HAVE_ATFUNCS.

commit cc910ca3d9ae804c676953f56b14e839134510bb
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sun Sep 20 12:21:43 2020 +0900

    Make can be *so picky sometimes.

commit 18749cf4093632cf288ee4f89b854435f1d55251
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sun Sep 20 12:17:47 2020 +0900

    Use a simpler logging scheme -- this will be less verbose when I'm happy with it.

commit 2979e25ddcd057086105e803f8b623fc7ac1cfbd
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sun Sep 20 12:17:13 2020 +0900

    Oops, remove install hook for modules that aren't built.

commit 490321c97a24e8729597f01c3269ee88c96e0428
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sun Sep 20 11:36:46 2020 +0900

    Explicitly initialize variable to quell warning on NetBSD.

commit a294ab99561e9e07d0aff9e4211a1e68631ebe69
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:33:29 2020 +0900

    We don't support ACLs.

commit 404c0711b4cd5db269bbfb18471538053117bef1
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:32:41 2020 +0900

    Remove an unholy amount of unused ifdefs.

commit 53ec7a487e956bc0329c2362c70b8339d0080ca3
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:15:52 2020 +0900

    Enable -Wall -Werror -- the codebase now passes this test.

commit 4f1158347b9e11cf49cc893a540e1c303b46b37f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:15:31 2020 +0900

    Disable TDB, it's not used anymore.

commit 4ac9e4451ead5a6905dc608372f74d1c53851183
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:15:04 2020 +0900

    Remove unused variable.

commit 1e2e3dd6d3095cd9eaba2622963e810db0e79fe0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:14:10 2020 +0900

    Remove unused code.

commit 78eb7180767c07f785bb3e8f6d6a157b332180ee
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:12:20 2020 +0900

    Properly ifdef unused function.

commit ab8e27a202418e69ab2ebdc438eca4826ef575f5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:10:56 2020 +0900

    Placate gcc.

commit c34504a59143fb64dce20668963e2eb67f8f9b15
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:09:55 2020 +0900

    Prevent possible buffer overflow.

commit 920e12597e4911bceef8aada164d1c86469ce679
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:06:19 2020 +0900

    Unused variables and sign conflicts.

commit 8f18d1d6b8f8643ffbd151fd1e75561aeb5e9009
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:04:43 2020 +0900

    Handle unused variables.

commit 429ccdca99d35d5bd28f52278c07c4cb1a956128
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 14:00:34 2020 +0900

    Indent to placate gcc.

commit 40c436a089a34f4cebbd543c0866856be1c7525e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:59:32 2020 +0900

    Actually return status (was always returning 0).

commit 99560f72537fc99a37c41aef1a16374f0fd76725
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:57:51 2020 +0900

    Indent to placate gcc.

commit 58f4213b67a2dd440bb307c7b7140741dba5ce82
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:56:58 2020 +0900

    Indent to placate gcc.

commit 6933800644b97b8908dd69d9dbcb8a714eea075c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:55:36 2020 +0900

    Remove unused variables and disambiguate test conditions.

commit 399474d7203a93b8100f5ff8a8d38a77e9bd95c9
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:52:57 2020 +0900

    Remove unused variables.

commit e9325ee0d2dd111d906ef67f1e3f1cb6aa27cdf2
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:50:49 2020 +0900

    Remove unused variable.

commit 15489973f8d9506781ffea90eb7b62041d7b7227
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:47:30 2020 +0900

    Resolve const conflicts.

commit 8f98be645552c8d1c704ec4888d0ecd847f85f97
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:47:12 2020 +0900

    Remove unused variable.

commit 81dc6c8d11c46eacf0902d8d58a7f3a01869903a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:45:53 2020 +0900

    Resolve const assignment conflicts.

commit 714ac9b8632d54a3edd1317eb79c3645b3592db6
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:42:08 2020 +0900

    Initialize variables.  (Why comment that it's okay instead of initializing?)

commit 8bbecaedcbe81a1c275f40891480674eaf04b84e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:40:03 2020 +0900

    Indent.

commit 7275771df2b8ecb11b6ece2b1e2b8d613a478915
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:39:41 2020 +0900

    Indent.

commit 0ee3204c7273137453fb89d545969f92d5ab016d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:32:11 2020 +0900

    Move testing-only function into test ifdef.

commit 536ad269b2a2b036a996b3ba4bd08fd4bcbf7f7d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:29:44 2020 +0900

    Disable buggy gcc warning.

commit 642a1b26eb443b3a6ffa89e825f14577d3f5b36c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 13:03:04 2020 +0900

    Disable a buggy gcc warning.

commit 3f2838b86aeffb29ab9dde7fe03a54064cfa291b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 12:50:03 2020 +0900

    Disable CDB and TDB CNID backends.

commit 48a69bf5eeb6092bef99ee97e1bffa6cd172e6d2
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 12:13:03 2020 +0900

    Revert "Remove obsolete kernel AppleTalk module (and all of the <netatalk/endian.h> includes)"
    
    This reverts commit bd9a869964a1112ceca79de549bab7c2f3dcd759.

commit fa0323dc001da3860cdf285ca9efccd1afce8126
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 09:33:47 2020 +0900

    Fix function declaration.

commit 8aadcc6c156e89ee19645973c23ce2c366782598
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 09:32:05 2020 +0900

    Remove unused function.

commit ebb45254bbbe6a38d736ac566ceb9c37752f4d57
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 09:29:50 2020 +0900

    Remove unused variable.

commit 92a73efc96248febdc198c19b8a7c39d48a1dc05
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 09:29:18 2020 +0900

    Remove unused variable.

commit 6ca9a404fcc28ac76fce42e93b1d07f2985d9698
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 09:14:29 2020 +0900

    Carefully remove more DSI code.

commit 9a1b167656521016c0ed1ec5b91c3ac704a2f556
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 09:11:45 2020 +0900

    We have <strings.h>

commit ae8da509da0fa071f7eb210dcf234c4c5d501c8a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 09:07:02 2020 +0900

    Rearrange for readability.

commit a82b8faf5985a215d622288bcfd38ff7e8f249a4
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:58:08 2020 +0900

    Remove ACL code.

commit acece060dc7c1e1ec7e7d40f99570368658d46d2
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:55:19 2020 +0900

    We don't have this header.

commit d5104c4674d5c7c73f55d9314852f78ddebcd921
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:53:24 2020 +0900

    We have pread()/pwrite()

commit 43ba86a5738fc80b26c55eb48aed9aa617f3d870
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:51:45 2020 +0900

    We have <netdb.h>

commit 19ae88b835fec5a59d86de16d311c18e72376202
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:50:16 2020 +0900

    We have <strings.h>

commit f63ad315326e3b407b268d6ebfc534d2d0b82b3b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:49:06 2020 +0900

    We have atfuncs.

commit c00beb10913f46d6adf8faa33ae59a580fc92de6
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:46:52 2020 +0900

    Remove more Solaris-specific code.

commit c41376a9597fea8f07f3fbfeee13f1f0679bbef1
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:44:37 2020 +0900

    We don't support MacOS X.

commit 7f0d4cdbdf491b0ece36c573e7fa06d71da25a7c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:43:46 2020 +0900

    iconv works on both Linux and NetBSD.

commit 612e7ebdc76fad0829724c0cc7340ee52e7a3a91
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Sep 19 08:42:09 2020 +0900

    Remove Solaris ACL code.

commit bd9a869964a1112ceca79de549bab7c2f3dcd759
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 21:19:00 2020 +0900

    Remove obsolete kernel AppleTalk module (and all of the <netatalk/endian.h> includes)

commit 3cb8d2e077c70c0020a5c98d4ef3d10601039f42
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 21:08:32 2020 +0900

    We have mmap().

commit 9588cbc9ee93bbabb46c292e03456b5d770819b7
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 21:05:45 2020 +0900

    We don't use spinlocks.

commit 1ca0fb1a13559b9b390521e7205e96e02a51042b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 21:03:26 2020 +0900

    Remove a lot of orphaned code.

commit 2150776a537d15de96ed635e483ab447d26980a2
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:56:16 2020 +0900

    Remove ancient broken sendfile() code -- server hardware is fast enough.

commit 29dd1f82ccf86064eb444a73fc5ad4bfc56e27c3
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:53:21 2020 +0900

    gcc's memcpy() has been fixed for two decades.

commit 5f472bece47a9cdeb2782ced915e409b25924b46
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:49:52 2020 +0900

    Remove unsupported platform defines.

commit 0ec5c277cab2feca92099bd917d8dfdfda10330e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:45:11 2020 +0900

    Reduce perhaps-unused define down to brass tacks.

commit 1536b5076df0e7fe9a1fca8354a99d071487182c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:38:10 2020 +0900

    Replace BSD4_4 with __NetBSD__.

commit abe20476437efa0527c7d13a66a909867fd9d0f6
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:31:17 2020 +0900

    Remove unused ifdef.

commit c2d9c560838f60f9b32f463dc145e65c63084d1c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:28:13 2020 +0900

    Remove quota bits.

commit 090832666a481aedf1c18f4fb9b7fbd179e55e07
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:27:16 2020 +0900

    Remove quota support.

commit 69f3c549909336867bf9786bfcac8ec3f71226c0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:22:08 2020 +0900

    Remove gcrypt link.

commit 14438df670b8d7b13fce7dc04d43b06282e6864a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:19:36 2020 +0900

    Remove incompatible UAMS options.

commit 2a89ac48bbad97997a76bdd380ff21296f9aa7c4
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:16:45 2020 +0900

    Remove kerberos4 UAMS.

commit 60bf7ea79b27ecb5540cb038262dd68c6112c04a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:13:41 2020 +0900

    Remove krb4.

commit 12320d30776a062f28c34ac654aaef3386558058
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:13:20 2020 +0900

    Remove stuff that doesn't work with DDP.

commit bbb176a92e85fb7b337822e7be34b598ed8f2cc4
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:11:37 2020 +0900

    Remove PGP.

commit 8728d15bf9658c34fbb242f961b8e245f612a7bb
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:10:00 2020 +0900

    Remove GSSAPI.

commit 371a8e8f352c23e8f326d6f277bdbc7e48c4ed97
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:05:29 2020 +0900

    Remove UAM_DHX2.

commit ea57c67ee7cfc30257477bf6aff1064587e2020a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 20:04:46 2020 +0900

    Remove UAM_DHX2.

commit f45e520c9db70423ca38d402da45febafc88b789
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 19:58:38 2020 +0900

    Streamline a bit after DSI removal.

commit e55fcea9a681061458dd2bb899d907274b6ffa8f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 16:55:43 2020 +0900

    Fix a couple of typos.

commit 7112b20ab71976bbacf43943d391c61539917c4f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 16:43:36 2020 +0900

    Carefully remove dsi.h include.

commit e702dde8c9428290bbc4a65d046eaf6e478d59e6
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 16:37:18 2020 +0900

    Revert "Remove more DSI code." -- this broke coping files to share with a "disk full" error.
    
    This reverts commit fdf641d16007e960cef758ddbe821790006ab31b.

commit a66510ab2e8881df40db86296db14f6da251200e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 16:27:31 2020 +0900

    Revert "Cosmetic for readability." -- this is sadly an AppleTalk version string.
    
    This reverts commit efe55cdffc27f6f3f88c6c9f383fca848a5dac35.

commit 0cd8f92ab72ad8441e75b42940343b47238dae71
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:43:28 2020 +0900

    Set default umask to sane value!

commit 5ab29fd6c0fd57c1b1f80a637a75373d69075288
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:41:17 2020 +0900

    Remove afp_dsi.c

commit ad3c3f9c53c930d62118ba685cc4017c4b46ca6e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:38:28 2020 +0900

    Oops, add backslash.

commit fdf641d16007e960cef758ddbe821790006ab31b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:36:32 2020 +0900

    Remove more DSI code.

commit e341341bffec2423ad101b740b7f185f26b6d114
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:22:27 2020 +0900

    Remove more DSI code.

commit 40b37e862eec54fbfd550161ddce429632c9f00b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:20:55 2020 +0900

    Remove more DSI references.

commit 8692b15705716867b55936efb20a77bcff10dc22
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:11:59 2020 +0900

    Remove check for AFPPROTO_ASP -- it's always true.

commit efe55cdffc27f6f3f88c6c9f383fca848a5dac35
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:04:27 2020 +0900

    Cosmetic for readability.

commit 528355cfe400659e8c5c92482f6e50509dc5449c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:03:22 2020 +0900

    Remove unused directory.

commit 1aeff451a376144bbce4b4e374b780339a23a856
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 10:02:45 2020 +0900

    We always speak AppleTalk.

commit d449aacb11192b44164e8b3dfcb0f87887422e0f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 09:58:59 2020 +0900

    DSI delenda est.

commit bccf724cad369099cfd486b57b1482cf81599551
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 09:56:28 2020 +0900

    Sigh, one more tcpwrapper reference.

commit d95046d7859d280e48b2c8d9d4e14dec51d83180
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 09:54:33 2020 +0900

    Remove a few more tcpwrapper references.

commit de22428c06709adcbab59bc814913a9b4cd54d82
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 09:49:38 2020 +0900

    Remove tcpwrappers support (we don't speak TCP/IP).

commit 689ae309947d13a28023b2044895da1b9e5a1878
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 09:46:42 2020 +0900

    Spelling.

commit d97713a4b1a80b7b78c1cbdd85e5f4f22582e939
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 09:37:01 2020 +0900

    More debug for euid issues.

commit 25f581cc2def6d8e32d5df10da5b525c06d7c231
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 09:36:22 2020 +0900

    Don't seteuid() if process is already running as that uid.

commit 6a9b06e82c94da399a5c748d6a20e117c90d72ef
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 09:07:17 2020 +0900

    Sprinkle debug to triage umask issue.

commit 80bd48384a00c3a277bf8182beeaf58a7e9b9abd
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Sep 18 08:55:56 2020 +0900

    Don't read-lock config file.

commit d230ee2e32cf4d112358e23b88b19c81a65da63c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 17:06:47 2020 +0900

    Same here.

commit 78349b5daa7cb3ffca5a2f5c82b16e3da4190415
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 17:05:30 2020 +0900

    Revert until I can figure out what this is actually supposed to do.

commit fe4f1ec23502ba2a0519c9b6cf2ac5ee6df5c7f9
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 17:00:35 2020 +0900

    Use mkstemp()

commit 68d9b7c0ea661850b041e7f9a1d21d55c3c735e5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 16:40:36 2020 +0900

    Remove DSI (Appletalk-over-TCP).

commit fd8e2148a48678d688b05cc3d5f5dcbc64806188
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 16:40:15 2020 +0900

    Remove DSI (AFP-over-TCP).

commit 9fb411f909fa9b06f84f0f3d2d0c6c9df22fad77
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 11:05:28 2020 +0900

    Casts and uninitialized variables.

commit c64fe4236d97480ff8e4393573790e646d7b6999
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 11:03:08 2020 +0900

    Indent.

commit 291224067fa7853987fef9acf8e7645ff112d4f9
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 11:01:39 2020 +0900

    Remove unused variable.

commit 22b36f5d4acfe8aa1118e9886c892e22507beba5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 11:00:14 2020 +0900

    Indent.

commit 39e1054777ead039f7ea996588667568130c66a7
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:59:15 2020 +0900

    Remove unused label.

commit ce79b3ae0e726a846c7269be1c07ee68bea22e1f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:58:53 2020 +0900

    Oops, removed wrong one.

commit b10e8a9601582d6c967253ac035d16c9bb7256c0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:57:54 2020 +0900

    Reap unused variables.

commit 8b111e2326582ec13f80619f635abb71e863672d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:56:43 2020 +0900

    Indent.

commit f55a28fcc151000259dfcb4e2549d0a0824837a1
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:56:00 2020 +0900

    Indent.

commit 257245cf48ddd9c4af272f73377a32f2b7948921
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:51:17 2020 +0900

    Indent.

commit e6e6b813f4b7febfe4a1c295426f61901ab85823
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:50:36 2020 +0900

    Change signedness of variable.

commit fa105f62e17a0a0ffe05fb81843ac58cff3690c9
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:48:50 2020 +0900

    CVE-2018-1160: libatalk/dsi: add correct bound checking to dsi_opensession

commit e471f68d9d923da46cff40dd21a092b377219d42
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:23:54 2020 +0900

    Indent.

commit 74767513c67cb5101fce36cd9860a5681d519317
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:21:22 2020 +0900

    Indent.

commit 70b59bc5d74ae05b4cc8e676297aaa44c25be835
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:19:38 2020 +0900

    Just indent first -- saves a lot of heartache.

commit 0ef0ea138600d9f7a6ac14ab302b36dd9627a981
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:18:39 2020 +0900

    Gratuitous variable handling after fork() to mollify gcc.

commit d86ec062ea5533c2697ece7cd31f304339b7dce5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:15:01 2020 +0900

    Normalize indentation.

commit b9bca379ddb4fafbc88e0abcceea349ad0ff3edc
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:13:56 2020 +0900

    Normalize indentation.

commit db56cf61698d2c728850bad93bace743a7917893
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:12:54 2020 +0900

    Fix duplicated string op.

commit 09f5fa0559255a1a2df73320d2ce34151c0bc966
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:05:57 2020 +0900

    Fix indentation.

commit 5ba524672acc61ab4f2211d4f838e7ce6fc5ecb4
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 10:03:56 2020 +0900

    Remove TimeMachine routines.

commit 80d5464be8c7bb23907a6f33f18f70f1e825cf8c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:56:26 2020 +0900

    Reap more unused variables.

commit 7e9df788f00727c9c2055cfe1e65b13c5f5cf128
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:54:36 2020 +0900

    Reap more unused variables.

commit e9e1d2dbc8a55db93d5afb9ec902a46f57bb9f16
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:48:42 2020 +0900

    Use correct printf format.

commit 39e5203d7f2d2c5db100ad3235c21b7231f37a0f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:48:21 2020 +0900

    Initialize variables.

commit e86873bce9db070ac7aa64b31fd51723f5a22fea
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:46:28 2020 +0900

    Remove unused variables/functions.

commit a8896c22894b2985cb13f29c44fb2065d5983d44
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:45:19 2020 +0900

    Explicitly initialize variables.

commit 8610d91a6702b7a03a9ccaeb93360550560950f6
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:40:59 2020 +0900

    Remove unused variable.

commit d116606fd17ce32255921bf6b76591c27a9eb5d0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:39:57 2020 +0900

    Reformat with "indent -kr -i8" -- it finally got to me.

commit 59c2aca2d208d2db396ab656bae367d30a2ec99e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:30:13 2020 +0900

    More indentation fixes.

commit 2e428d387401b91e5de0611ea022126dd2f540bc
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:28:55 2020 +0900

    Remove unused variable and fix indentation.

commit d44f6fcb5dea53a7ff19fe8bcda6506d7e4b2022
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:27:53 2020 +0900

    Explicit casts to make gcc happy.

commit 0b4a612768577ab9695d60d97bbb8cf1f45e9820
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:24:23 2020 +0900

    Remove unused variable.

commit 396e541c5dd6adf2e6b25cd620b298ab5874cce7
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:23:09 2020 +0900

    Minor fixes to make gcc happy.

commit f76a084abb7c4ba7e107cb2f9044d43765369760
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 09:18:31 2020 +0900

    Include header to silence gcc.

commit bed0dfec0a161401a578dcc2e0f25c9368162150
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 08:40:43 2020 +0900

    Use VERSION instead of NETATALK_VERSION.

commit d250a2e3cba8f9db1849305efdd209501327cfcd
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 08:24:30 2020 +0900

    Add stub README.

commit 7f88cee93d8810a3f9892bf144c22197df4770d7
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 08:15:53 2020 +0900

    Use PACKAGE in version strings, and a few related fixups.

commit fe868baf55a51c98749b9e41f6056238034bd935
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 08:02:28 2020 +0900

    Get version in an automake-compliant way.

commit 6131345f59858a10c81459ebf339fdf6aa05f2c7
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 07:56:10 2020 +0900

    Update.

commit bc6505938efa911776296cf772bad2632abaaa9d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Aug 8 07:54:19 2020 +0900

    Attempt compliance with current automake.

commit a2cc9bbc7fe5ca58cf15edee1040ca2dc41951b2
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 22:10:10 2020 +0900

    Placate automake.

commit 36a801b79b182caca82efc077f1cae83e60b7260
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 22:09:13 2020 +0900

    Placate automake.

commit 855b01286b65483a99b2b2342c478274c8ca352e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 21:46:16 2020 +0900

    Add a file.

commit 560c8f022e4ee3fc641095f53759c1f40f1412ea
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 21:29:19 2020 +0900

    Move /etc/services addition to config subdirectory.

commit c7dad95600c48f9865756208ea705eb0c65b5a78
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 21:27:21 2020 +0900

    Remove webmin hooks.

commit e2bf771fa51e30535682860df4b1b016a59f9ee6
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 21:22:32 2020 +0900

    Nuke Solaris ACLs.

commit fe96dedac7d7c0a9094447dca2e5f3a14d0ce959
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 20:39:33 2020 +0900

    We're going to have unistd.h, full stop.

commit 6617d59cad875a5f5f5d3d0465e8a62f1d41db40
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 20:33:44 2020 +0900

    More AFS removal.

commit c5dcca368efc4c75f96c74fd6cf36072e7c65648
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 20:28:57 2020 +0900

    Remove many deprecated configure options.

commit 2fe8a8b503af54c6fe7d7184e5dfe3d22cc53c0e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 20:19:31 2020 +0900

    Remove AFS code.

commit b6fa693e253d75b67020a36d5a0814d18d694ab3
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 20:18:51 2020 +0900

    Remove AFS code.

commit 6e4e5453cc512d84b3c37fcee4a2519e73212486
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 20:18:20 2020 +0900

    Remove AFS code.

commit 9837145cc9d3538c3da5539755d4bc3efc87da62
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 16:02:41 2020 +0900

    Oops, remove redundant header file.

commit 53bb8646ec4bec6a047e5322b0de34d44e39b7dd
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 14:18:13 2020 +0900

    Remove obsolete web subdirectory.

commit 84a579beffaa10e2d3c4e34ebc8b6d7ef900a2bc
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 14:14:35 2020 +0900

    Move macipgw.8 to common manpage directory.

commit bc44531fd4e401e61d05eedb66a5f851a27302fe
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 14:14:15 2020 +0900

    Lots of cleanup.

commit ca5362caf4306fa6d98991abb6b73f1a3af7bd6e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 13:22:37 2020 +0900

    Build macipgw.

commit 9d31b1b653d2a3ef2ab121893647541127081fcd
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 13:09:44 2020 +0900

    Add macipgw.

commit 53144ab0e172d6e1519e79da230fd5e75492f7fa
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 12:55:56 2020 +0900

    Switch from compile-time debug to run-time debug where applicable.

commit 9b9d14fa19742bae3285a8093fda7991aeb8fb1f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 09:00:31 2020 +0900

    Rewrite logging macro as static inline function.

commit 204070cf389f7fc0a21d18d98a1d2927bf6d9c31
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 09:00:04 2020 +0900

    Finish removing Zeroconf.

commit fd796f7d027fe7aed65872d6b982123428a7ad49
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 08:38:11 2020 +0900

    HAVE_CONFIG_H will always be defined.

commit 294651db698ea89319d8502ef49aa11845a58a25
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 08:09:11 2020 +0900

    Remove unnecessary Zeroconf dependency (and thus Avahi and mDNS).

commit 1568c7eb322a87e9309fd67f606ff12d531ef853
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:44:51 2020 +0900

    We always support DDP, so remove conditionals.

commit f951b3369b234d760ce9bb4024054000822fa39d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:37:41 2020 +0900

    Remove unneeded include override.

commit f9e57bf92db97bfadc613ec268435c523c54e1cc
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:36:48 2020 +0900

    Fix cosmetic typo.

commit bd0cc239adb5f249a9224767b0700b29008553bc
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:32:30 2020 +0900

    Remove now-unneeded options and obsolete platforms.

commit 85a6e897ecebe5456ff6bbb6eba4793022ef8a17
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:28:12 2020 +0900

    Remove SRVLOC.

commit 8ffb9d352709cc71299985d46dab9a199a798457
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:27:28 2020 +0900

    Remove SRVLOC.

commit 0c0215156039712726e6e0b0c4cee4ebc2d9a1e9
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:25:36 2020 +0900

    Remove DROPKLUDGE.

commit 70bb4677bbec10126bd03a3a81055dc6fce31548
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:25:04 2020 +0900

    Remove DROPKLUDGE.

commit a81dddeee2fc1e0d69cc794e6e831db2153100b5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:19:11 2020 +0900

    Remove unneeded NetBSD-specific include.

commit 128b0927ce597bfa1e6ec6dca9afbce5619df5c5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:07:18 2020 +0900

    Properly enable quota support.

commit 4536b72de2373ed7e20fc495f173e49908d97f64
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 07:06:27 2020 +0900

    Remove routines that are in (all?) modern C libraries.

commit 87a8f20db03fdaf30957f46e881748e8d8f66f0c
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 06:29:33 2020 +0900

    Remove obsolete platform code.

commit da1190db9f5d52f5c34738cbea4b0f477daeca87
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 06:17:13 2020 +0900

    Remove Solaris support.

commit 18ea861bdf009f0ea13e6e5e3253aa7c9794f796
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 06:15:20 2020 +0900

    Remove references to obsolete platforms.

commit dba8b55595db13a01aa1dafe6c3ab2c8e0445f45
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 06:01:55 2020 +0900

    Remove obsolete platform code.

commit d14dc4c3678cd478739e03aea6b301a18cd4a880
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 06:00:24 2020 +0900

    Remove obsolete platform code.

commit 8d9f0e3c4ba71c1541382a5fb25d720a3bd2b079
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 05:51:12 2020 +0900

    Remove obsolete platform code.

commit 55b8b73ae84dbc2d305299689bda1b3754b6e7ab
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 05:50:44 2020 +0900

    Remove obsolete platform code.

commit 49c62f1c66d07988cdb479162b05e335f426cad0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 05:48:43 2020 +0900

    Remove obsolete platform code.

commit cc9cf6c4f5edd43f5395f9de0fa43cfbcb999dbc
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 05:44:58 2020 +0900

    Remove obsolete platform code.

commit 5b8c1254d616fd57bb572100a274f01811c9eb93
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 05:43:52 2020 +0900

    Remove obsolete platform code.

commit 7c031c50c4adc1efa3cd91fb29a6c75d2545b28d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 05:19:49 2020 +0900

    DDP is always enabled.

commit 3666a0f4f95bad43ffa5946f1fcab911aa26606b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Fri Aug 7 05:19:00 2020 +0900

    Remove AUTHORS (obsoleted by CONTRIBUTORS)

commit 2c95d5079efbcefc4baa3d7be123d4882b607a2b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 22:01:33 2020 +0900

    Remove MacOS X code.

commit 1740725680c5f5e15ad0778311c8bce6dce30220
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 21:52:23 2020 +0900

    We're only supporting STDC.

commit cf1f16368b614241ce0382398bfbbe5f786df722
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 21:47:41 2020 +0900

    Remove TRU64-specific code.

commit 0980c19ee72e651ecd594150b6b7d82a1e5346a0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 21:46:33 2020 +0900

    Remove TRU64-specific code.

commit 1dce919ce826605ad54a9cff1ddce492f33484e8
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 21:43:37 2020 +0900

    Remove TRU64-specific code.

commit ca7a444d07a87e94ee0e093ee346ed5cecec240b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 21:43:03 2020 +0900

    Remove TRU64-specific code.

commit f32a4202bffa5ab9fe95a49e3e308b502f1ae4c5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 21:36:19 2020 +0900

    Remove TRU64-specific code.

commit 4b1508413499b0b6ea3bc1d91dc33c553f9fd2b0
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 21:31:57 2020 +0900

    Remove FreeBSD and Tru64-specific defines.

commit c33026617cbd3a283bbe72a551b7fe4a51bbc8c3
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 19:18:58 2020 +0900

    Re-arrange a bit of code to make it less weird.

commit 9a1ef79497cd25b0cb4c676b0293398bb5c09008
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 17:15:00 2020 +0900

    Enable a2boot by default.

commit e51175a7ee8148a9a5690af69c7895698ef1fdd8
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 17:14:06 2020 +0900

    Add missing include file.

commit d30639eab28c44d9030f6d81432d0128a8d74e0b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 16:25:10 2020 +0900

    Deal with signed/unsigned conflicts, adding casts where necessary.

commit 202e0824b93950731ac5d964351718ed0b2d216a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 16:09:40 2020 +0900

    Remove unused labels/variables to placate gcc.

commit 037651d104e4b26e67e8565c8495a10770e7e21e
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 16:09:21 2020 +0900

    Initialize variables.

commit cdc3cf89fd4c4c40195b32eeef2ab3c50c92f65f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 16:01:18 2020 +0900

    Disambiguate some code to placate -Wall -Werror.

commit 1eb28acb566dc9cf24e348dfb34a2a0219a58bf3
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 15:46:07 2020 +0900

    Use date-based version scheme.

commit 0f16d0e8ccabed9339637b78f99b58952894b082
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 15:45:52 2020 +0900

    We're "netatalk-classic" now.

commit 1504dc411c38d6b884af86d49fbd6b1522d2c948
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 12:41:43 2020 +0900

    Fix possible memory leak.

commit 26d77aaa909b064b33b3b2bbf33f6bbd7159040d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 12:39:30 2020 +0900

    Explicitly null an array to avoid undefined behavior.

commit 20becfa29434e0e0c12c40e6b1a1f76d40ccb10f
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 12:34:40 2020 +0900

    Explicitly fflush() stream to avoid undefined behavior.

commit 6f0a3ef5d5030c69fb950779002d00300114ac8a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 12:34:24 2020 +0900

    Fix wonky indentation.

commit cbdf3f5c9c751c0c09d0bc37339d12c97ed91aaf
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 09:41:27 2020 +0900

    Turns out Linux is using STARTUP_FIRSTNET for something else ... rename.

commit f84f012eb4a92e8e6831eb741ea0ef90df69ce1d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 09:38:12 2020 +0900

    Disable quotas by default (this time in an autoconf-compliant way).

commit ac8167fe7525169ccdd87f00f4ad30d454cc7265
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 09:24:05 2020 +0900

    Disable quota and ACLs by default.

commit 29270c4cf03a2e941533e46df4bb23edabe00148
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 09:22:45 2020 +0900

    Put stubs in for Linux quota support (nonfunctional, though)

commit 3db5d7536a4bf4c46230bc1927c4ee0a06a1f891
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 08:59:08 2020 +0900

    Declare variables as extern to fix Linux build issue.

commit 583fa066af49eff82e97cca6d27a51322666577a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 08:58:38 2020 +0900

    Properly handle DDP-disabled case.

commit 4bfaf7f705a1031331b05357ada518c9a5a371c4
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 08:52:43 2020 +0900

    Enable DDP (AppleTalk) by default.

commit 0fcd770722a559722d0ae4af84d807893fd25c1b
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Thu Aug 6 07:29:43 2020 +0900

    Add MacIPGW as a sub-project.

commit 9c62cc37180efcce74adf0798d430cedaed6f40d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sun Apr 5 16:45:00 2020 +0900

    Support NetBSD.

commit abc4c10a1531024cb9e83bb52ff6021eb361eee2
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Apr 4 14:05:58 2020 +0900

    When a compiler complains about a missing prototype for a libc
    function, just inserting one for what you think the interface might be
    is probably not a good idea.
    
    From NetBSD.

commit 400672fd7b12db8eb1003175ef61b163c1e0d7a1
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Apr 4 14:05:06 2020 +0900

    Allow LDAP to work without ACLs.
    
    From NetBSD.

commit fbdc52f5e1515c8316a979691496451976f9614a
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Apr 4 14:03:44 2020 +0900

    DES functions now are prefixed with DES_
    
    From NetBSD.

commit 6f8be8a0372e8cee36d4c0dc86b2d092e9680d60
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Apr 4 14:03:05 2020 +0900

    Safely generate DH keys.
    
    From NetBSD.

commit 8218f9a6892087ac378d10eebad4e3ad542cee2d
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Apr 4 14:02:10 2020 +0900

    Safely generate DH keys.
    
    From NetBSD.

commit d2ee788a5a2b477be0b9b52c2e366168aa8b0e34
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Apr 4 14:00:55 2020 +0900

    Deprecated functions: Remove obsolete define, and disable compiler
    errors for deprecation warnings, as seen in the darktable print code.
    
    Accessors: Cups has abstracted away access to ipp_t fields, use
    accessor functions.
    
    (from NetBSD)

commit aeaccb4c9e03553f911f33a2494df637b71493fb
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Apr 4 11:14:55 2020 +0900

    Handle FIRSTNET difference between Linux and NetBSD.
    
    From https://bugs.launchpad.net/ubuntu/+source/netatalk/+bug/1839015

commit dbe77b0fc6b80dc4b4b51b66c2506a31c3b4bb02
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Apr 4 11:05:10 2020 +0900

    Invert comparison to accomodate Asant LocalTalk bridge.
    
    Patch from http://ivanx.com/a2server/scripts/a2server-3-sharing.txt
    Original from Steven Hirsch

commit 2f49f046e1f4f9589265b7190eb450afd9d343a5
Author: Christopher Kobayashi <software+android@disavowed.jp>
Date:   Sat Apr 4 11:03:02 2020 +0900

    Preserve file date during a GS/OS folder copy.
    
    From http://ivanx.com/a2server/scripts/a2server-3-sharing.txt
    Original source Steven Hirsch

commit 3aca6bec38d316d6e2dbac59b3f3478e3f06fb38
Author: Ralph Boehme <slow@samba.org>
Date:   Sun Jul 9 13:24:27 2017 +0200

    release: Netatalk 2.2.6
    
    Signed-off-by: Ralph Boehme <slow@samba.org>

commit 4dfa9b1a8762ddf5592b75e88054bb15f398a311
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 16:24:42 2017 +0200

    quota: update checks
    
    - do not disable quota support if some of rpc/rpc.h, rpc/pmap_prot.h,
      rpcsvc/rquota.h are missing.
    
    - fix libquota test to check for the netbsd-6 release quota API, not
      the prerelease proplib-based API in 5.99 that got removed before
      netbsd-6.
    
    This logic should probably be simplified, and expanded some to
    simplify the mess of quota-related ifdefs in the source; the rquotad
    support connected to the rpc headers and -lrpcsvc should be
    independent of the local quota support, and can be probed for
    independently. However, this needs to be coordinated with upstream,
    not done in pkgsrc.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit 096575860727879781fe809b8ef4165ef5ac0297
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 16:22:49 2017 +0200

    Make sure acls are available.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit ddcfd8e781085660e83395822760b41d44103f87
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 16:18:46 2017 +0200

    Don't override the value that recent Heimdal versions set.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit bf1bbf20b105c69712d786465ce3452c3617af9f
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 16:17:16 2017 +0200

    Use the netbsd-6 quota API, not the prerelease stuff from 5.99.x.
    
    Fix some glaring bugs in the code for the 5.99.x quotas (seteuid'ing
    to group ids, using uninitialized group quota values, etc.)
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit f42427a94ad21bda3c907d56178531d1a61deba3
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 16:10:30 2017 +0200

    Correct variable name tyop in assert().
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit de3a82fc0a1655842e3d09a815d9ab0e86e70eae
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 16:03:15 2017 +0200

    struct stat member renaming applies to both {Free,Net}BSD - probably other *BSDs, too?
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit b30713d86fde92afd87b722b61e67bcd78e1a495
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 16:00:33 2017 +0200

    const'ify properly.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit 512bafd043b5f18184e3128f253f255c30047228
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 15:54:50 2017 +0200

    On NetBSD 5.0_STABLE/i386 and 5.1_RC3/i386 systems the cnid_metad
    process from netatalk is failing to reap its children.
    
    See NetBSD PR #43625
    <http://gnats.netbsd.org/cgi-bin/query-pr-single.pl?number=43625>
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit 39959e9fb218a65803ed8d527fbce97b17cea54e
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 15:50:22 2017 +0200

    Fix build on DragonFlyBSD
    
    Fix loading of pam modules on older versions on NetBSD, where the
    dependency of the module on libpam was not explicit.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit 3e34f870f73475428b3eb644ed05d20721d33ebd
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 15:47:57 2017 +0200

    If we have getifaddrs(), use it.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit be7ff3862289111b04bf441b2e742a8d52b8251f
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 15:45:28 2017 +0200

    Use OpenSSL DES functions.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit beda42a2d566f60c94111bc268f9db6a55f9e403
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 15:44:20 2017 +0200

    Use OpenSSL DES functions.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit a1e437e3f682be70962be69785334aa254fbf40c
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 15:40:43 2017 +0200

    Normalize paths, and replace obscure troff2ps with the proper groff(1)
    incantation.
    
    Packagers probably will have to patch tool paths.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit bbc0d89c056be3a2b5efa6bf5428f7ba8f07a1d0
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 15:18:38 2017 +0200

    Net 0 is reserved for lo0, it can't be used on other interfaces.
    
    The original commit message for this patch:
    
        http://mail-index.netbsd.org/source-changes/1999/09/17/0023.html
    
        Patch from Juergen Hannken-Illjes, which should solve PR#8308 (net 0 is
        reserved for lo0, it can't be used on other interfaces).
    
    Here is PR #8308:
    
        http://www.NetBSD.org/cgi-bin/query-pr-single.pl?number=8308
    
    and also the change that exposed the bug:
    
        http://mail-index.netbsd.org/source-changes/1999/08/24/0035.html
    
    and finally, the discussion referred to in the above change:
    
        http://mail-index.netbsd.org/tech-net/1999/06/30/0002.html
        http://mail-index.netbsd.org/tech-net/1999/07/01/0005.html
        http://mail-index.netbsd.org/tech-net/1999/07/01/0007.html
        http://mail-index.netbsd.org/tech-net/1999/07/02/0003.html
        http://mail-index.netbsd.org/tech-net/1999/07/02/0016.html
        http://mail-index.netbsd.org/tech-net/1999/07/02/0017.html
        http://mail-index.netbsd.org/tech-net/1999/07/02/0018.html
        http://mail-index.netbsd.org/tech-net/1999/07/02/0020.html
        http://mail-index.netbsd.org/tech-net/1999/07/02/0022.html
        http://mail-index.netbsd.org/tech-net/1999/07/03/0004.html
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit b649e1ebf0f5535f9fd6ec3a05844b116fa82320
Author: Hauke Fath <hauke@Anscharte.nt.e-technik.tu-darmstadt.de>
Date:   Thu Apr 13 14:30:33 2017 +0200

    Post-1.6 CUPS has deprecated various function calls, and turned
    central data structures opaque, only to be accessed by accessor
    functions.
    
    Since the project offers little help in migrating existing source, we
    follow everybody else in flicking the magic switches to re-enable the
    olde ways.
    
    Eventually, direct accesses to struct members should of course be
    replaced by the eqivalent accessor functions, and deprecated *PPD()
    functions should be replaced by whatever is suitable.
    
    Reviewed-by: Ralph Boehme <slow@samba.org>

commit 876d6a1ad7652133e4562d94d3c69a99993de610
Author: Ralph Boehme <rb@sernet.de>
Date:   Mon Sep 1 19:19:44 2014 +0200

    libatalk: asp: set parent_or_child after fork()
    
    The ASP session manager forks when a new session is created but does
    not set the parent_or_child variable, so load_volumes will not load
    the user-specific volumes nor AppleVolumes.default on ASP.
    
    Set parent_or_child = 1 after this fork(), so clients which use
    ASP/DDP will get the correct user-specific volumes.
    
    Authored-by: Vincent Duvert <vdd@duvert.net>
    Reviewed-by: Ralph Boehme <rb@sernet.de>

commit 30235928fc7407b31551fcbdbe0a8b5516f84861
Author: Ralph Boehme <rb@sernet.de>
Date:   Mon Sep 1 19:15:39 2014 +0200

    afpd: Zeroconf: do not register ASP/DDP instance
    
    The problem is that when both DDP and TCP are enabled, afpd tries to register
    twice on avahi (once for TCP, and once for ASP), with the same service name.
    
    Skip Avahi registration for ASP/DDP configuration, to avoid the double
    registration.
    
    Authored-by: Vincent Duvert <vdd@duvert.net>
    Reviewed-by: Ralph Boehme <rb@sernet.de>

commit 5e4ef45e5a3de163317b5c815f0579aec764a122
Author: Ralph Boehme <rb@sernet.de>
Date:   Wed Mar 12 07:53:59 2014 +0100

    Reduce log level
    
    In certain configurations reading xattrs may be denied by filesystem
    permissions which may result in a large amount of error messages of
    the form
    
       sys_getextattr_size: error: Permission denied
    
    being logged.

commit c3e17c998daafca8c45b895b31b5c0a1f07966d4
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Wed Sep 11 11:38:11 2013 +0200

    Fix handling of large number of volumes
    
    o ensure only a maximum of 255 volumes is returned
    o ensure the reply with the volume list fits in a certain buffer
      size, testing with 10.8.4 saw the maximum size the client would
      accept to be ~4600 bytes
    
    Fixes bug #527

commit 168d053dd73f593ac2c0b2e733dd8deeacbabd6f
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Tue Oct 8 14:13:32 2013 +0200

    Fix error in ad_openat(), bug #532
    
    Saving from Word to a folder that is a symlink to a folder on another filesystem
    results in a crash of the afpd process and the save to fail. This happens only
    if the option "follow symlinks" is enabled

commit 4fd42b6daf62fcca46683ccf20b1eb424d3d3921
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Mon Sep 23 12:41:59 2013 +0200

    Fix setuplog description

commit 322ac21f3f8e17e33d8574157977347b672cb7e2
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Mon Sep 23 11:45:33 2013 +0200

    Enhance handling of connection attempts when hitting the connection limit
    
    Bug #529.
    
    Conflicts:
            NEWS
            include/atalk/globals.h
            libatalk/dsi/dsi_getsess.c

commit 5bc621a52bd0986363accae36ad7f6ca3e4175dd
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Tue Jul 23 14:04:58 2013 +0200

    Fixes for platforms without at funcs and without ACL support

commit 8494416a71361aa160e29000200d8894f37cfe18
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Tue Jul 23 11:09:48 2013 +0200

    make distcheck fixes

commit 54c5f6fe57a9ac24e4137f41316fe66b9e3144fc
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Tue Jul 23 10:01:02 2013 +0200

    Version 2.2.5

commit 920fea1536bcc94ae6f3b5c9c7a21c8d0d29b4ed
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Wed May 22 13:36:16 2013 +0200

    Missing initialisation, may lead to invalid dereference in error code path

commit 76b5a782aac9969d615a7e3d38dfc079262d5ab9
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Fri May 10 11:01:04 2013 +0200

    Change default FinderInfo for directories to be all 0
    
    Fixes bug #514:
    Unable to delete EA com.apple.FinderInfo on folders.

commit e00b2e4e8ff8838855ef135d928731e4b1e0b274
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Wed Apr 10 16:06:11 2013 +0200

    Use ostat in the dircache
    
    Fixes a possible crash in cname() where cname_mtouname calls
    dirlookup() where the curdir is freed because the dircache
    detected a dev/inode cache difference and evicted the object
    from the cache.
    
    Fixes bug #498.

commit 534030591702e03f002ae3e11f638d57925054e8
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Thu Feb 21 11:00:50 2013 +0100

    Reload groups when reloading volumes
    
    Reload the user groups every time the volume configuration changes
    and also to call initgroups() again with the possibly changed groups.
    
    FR #71

commit 2d3b924adf1372af029bd31f42de4a970d063dd8
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Thu Feb 21 09:43:38 2013 +0100

    Fix a bogus duplicate volume name warning

commit b362b6f7b22b6e4e9e74760989f389149677917b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 14 16:02:41 2012 +0100

    Configurable symlink behaviour
    
    Add a new volumes option 'followsymlinks' which modifies Netatalk's
    handling of symlinks. Without the option (default behaviour) symlinks
    are not followed by afpd.
    Setting the volume option causes afpd to follow any symlink on the
    server. symlinks may then point outside of the AFP volume, currently
    afpd doesn't do any checks for "wide symlinks".
    
    In order to provide a somewhat consistent interface, add an API
    of o* function wrappers for filesytem related functions.
    These functions take an an additonal option arg (hence the o) which
    tells the functions whether symlinks shall be followed or not.

commit c267400f7b0ea332a2e8656205cf6e90fee22a6f
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Wed Dec 12 11:11:37 2012 +0100

    Trying to create an EA that already existed returned the wrong AFP error code

commit be13d9b759b7b9a1c200efa88d4c7067224d5ae6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jan 31 11:58:10 2012 +0100

    Add become_root() capability to nfsv4_chmod()

commit bfd24f14e2c97c113e42e7d50e8513cef71589ee
Author: Ralph Boehme <sloowfranklin@gmail.com>
Date:   Thu Dec 6 09:55:53 2012 +0100

    Fix an error where catalog search gave incomplete results
    
    The bug was immediately solved when chaning the current implementation
    of using the function dirlookup_bybath() with paths form the dirstack,
    to dirlook() with dids stored in the dirstack.
    Presumably something dirlookup_bybath() went wrong thus ceratain
    folders weren't searched.
    
    catsearch() used dirlookup() to lookup directories, but then it didn't
    use movecwd() to cd into them, only lchdir(). This resulted in curdir
    not being updated.
    Then, while processing entries of directory and adding them to the
    dircache, in case the dircache hit its maximum size limit, dircache
    eviction would take place.
    The dircache eviction will remove a fixed size number of directories
    from the cache, but for every entry to be freed it will ensure that
    it's nor curdir.
    Unfortunately as catsearch didn't update that, the directory that
    catsearch was working on was freed, which of course resulted in access
    of invalid ressouces and possible crashes.
    The fix is to just use movecwd() instead of lchdir()ing directly.
    
    Fixes bug #479.

commit 5c57c02c64fe20765e6c2cfa3b7dff2cbcbd7f49
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 16 16:24:28 2012 +0100

    2.2.5dev

commit f5bc511328834572ac487f7d039d4c4da09ebf88
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 28 09:48:51 2012 +0200

    Add missing source afp_asp.c

commit 267b3940e12712f91db881b81b9c3cf48acc3aad
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 28 09:28:04 2012 +0200

    Version 2.2.4

commit 93201a64a30dc558d80962e25d429c5e88939a02
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Aug 17 15:40:56 2012 +0200

    Adjust loglevel
    Running dbd on an active volume resulted in a diagnostic warning to be issued that the BerkeleyDB environmnet couldn't be removed.
    This message is now only shown with -v.

commit 7b0d29af36a600a95fbc562a47f932139e26c900
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Aug 17 13:45:18 2012 +0200

    Update NEWS

commit 8301e2125ce4956ff546ec6cb6af7271f5412ff1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Aug 3 08:01:07 2012 +0200

    sendfile on Solaris may return EINTR with bytes written https://issues.apache.org/bugzilla/show_bug.cgi?id=44550 http://wesunsolve.net/bugid/id/6408517

commit a49b66d98f3de80884b15f68285f4b602db19885
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 27 12:01:35 2012 +0200

    Reset signal handlers and alarm timer after successfull PAM authentication
    Fixes a problem with AFP disconnects caused by pam_smbpass.so messing with
    our handlers and timer.

commit b240077720303bd72a0bf9763e42f7dba398b1a6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 23 15:10:41 2012 +0200

    Set PAM_RUSER, some PAM module may need it (looking at you pam_smbpass!)

commit a617cea7730a5d3ae9b5f5029370f11730aa7c81
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 23 13:50:33 2012 +0200

    Update NEWS

commit d8f375c4fbff7a27768ce6efebec64ab193734ee
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 20 15:33:26 2012 +0200

    Fix signal blocking, pthread_sigmask was called before mask initialisation. Also block all sigs instead of only SIGTERM (think I saw SIGHUP somewhere).

commit 25e03ec9edd863136008881a4a57ea9a788d34b3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jun 18 16:26:28 2012 +0200

    Block SIGTERM when calling pam_close_session

commit 61eb0f4ddde2c15ca16ab9aaabce3aa5927b8e05
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 29 16:00:04 2012 +0200

    Missing UAM links

commit 02b860940d3e886ac4eedb7194d7453018ec0bf4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 29 15:54:07 2012 +0200

    2.2.4dev

commit ea238290051dcbaaf8da33a4d831e8d1c6eb54c8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 22 13:28:53 2012 +0200

    2.2.3

commit 4154fadfff6f694afacd713e73fbc2b2ce5a5710
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 22 13:13:22 2012 +0200

    Fix ressource leak, from Riccardo Magliocchetti

commit b35812db1e932c31154b7da72c564dabe95fd03d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 21 15:58:46 2012 +0200

    Enhance logging

commit 059f025646f2ba147872f608ba44955a0f3bbe1d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 21 15:56:45 2012 +0200

    Only use AI_NUMERICSERV if defined

commit f8fd41f2b0fb7998a48a5a7715921e5c8c09569e
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed May 16 23:26:30 2012 +0900

    nosavepassword is not default

commit aec4478282cf83bbb05812c368e7c94019f3c91d
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue May 15 21:47:44 2012 +0900

    Zeroconf could not advertise non-ASCII time machine volume name, suggested by Oichi

commit 18f2ef43a479721553a989931d8c60e84c5e1cac
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 15 13:43:08 2012 +0200

    Changed behaviour for TimeMachine volumes in case there's a problem
    talking to the CNID daemons. Previously the volume was flagged read-only
    and an AFP message was sent to the client. As this might result in
    TimeMachine assuming the backup sparse bundle is damaged, we now just
    switch the CNID database to an in-memory tdb without the additional stuff.

commit 72a0ebf986c1cb57d160d35a678be4df2d566e33
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri May 4 10:25:32 2012 +0200

    Fix regression introduced by previous IPC fds fix

commit 46f9157a9ee23627639dab84150a6f32efe3ec1f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 26 14:50:08 2012 +0200

    Update news

commit 074d7f764b783b3dcb00b42e2e9caa3d1797017a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 5 08:18:07 2012 +0200

    Closing of the parent IPC fd at the right place

commit fe4626c5d6b380835b3fc1fc35ab6164e6404032
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 26 14:14:43 2012 +0200

    Close client side of IPC fd in parent

commit 0cc642580158fcc7b10792354f7d6846a87904b0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 26 13:36:50 2012 +0200

    Close IPC file descriptors inherited from afpd master process

commit 41ec212974b033d23f7b8e115ec4542ca69305b5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Apr 10 12:54:03 2012 +0200

    show_usage was called with a NULL name

commit f041d9920301a0ee526ca58b50ac797896b27441
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Apr 4 15:40:26 2012 +0200

    Backport GSSAPI detectino fix for Solaris from 3.0

commit ee5f263808dcb0c944f5192398d18ed9529d4e0b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 30 10:43:42 2012 +0200

    Don't remove BerkeleyDB if it's still in use by eg cnid_dbd

commit 9c96961cdc7ba769893029d8ae3a9bdd829d4db3
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Mar 24 03:09:05 2012 +0900

    small fix

commit 77fd02ba4db1b769b016e6aafc4b86217569fee6
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Mar 22 00:55:26 2012 +0900

    debian initscript: start avahi-daemon (if available) before atalkd,
    from netatalk_2.2.2-1 deb package

commit c3a0032fd581b227e6bcec08fba7c218f49e526a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 20 14:44:19 2012 +0100

    Ensure TCP_NODELAY is set on the AFP session socket

commit 046892be8267d7d72c2e48e6f4b79e37ba6cdc04
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 19 15:33:47 2012 +0100

    Fix a possible bug handling disconnected sessions, NetAFP Bug ID #16

commit 751630e5eeb504472091c7ae0768a6705b0721ca
Merge: f4fae5d8 0d385a5a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Mar 17 18:10:52 2012 +0100

    Merge remote branch 'sf/master'

commit f4fae5d8f13d10521bb463653aa95ef1063f52d8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Mar 17 18:08:58 2012 +0100

    Cleanup respawn throttling code

commit 0d385a5a09ae1624e547a73afee9f7df389137bb
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Mar 14 00:43:23 2012 +0900

    For the future, conf file version is clarified

commit 87021f8b0b3f9bf6c348fac5170919934e8627a9
Merge: ae725246 4fb4f48f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 9 11:20:56 2012 +0100

    Merge branch 'master' of netafp.com:git/netatalk

commit ae725246497a7bd8b8f69977a886386368e40e6c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 9 11:20:40 2012 +0100

    Fix dependencie on LDAP

commit 4fb4f48f40e2529e3fa2b08c15a785b32ce6ad88
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 7 14:16:44 2012 +0100

    Check if server_name might is GSS_C_NO_NAME

commit 254165761188c86767497dc03359cccf3510d434
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 5 16:37:25 2012 +0100

    Update news

commit e9647a1128fe1de463b162cf7337423418c15eac
Merge: 700dd7a9 22ccb29a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 5 16:36:06 2012 +0100

    Merge branch 'ldap'

commit 700dd7a9a136eb9308f20558eed843284722990f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 5 15:24:14 2012 +0100

    Fixes, from Riccardo Magliocchetti

commit 7b572c8a0d3b26aef57840003d45a61384136d3d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 5 14:30:24 2012 +0100

    Fix, from Riccardo Magliocchetti

commit a2992233525c1655958f39a65a43f01745717690
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 5 13:04:40 2012 +0100

    Fixes, from Riccardo Magliocchetti

commit 22ccb29a67fa835ff86a9b9b635409abda636380
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 5 12:52:05 2012 +0100

    ldap_uuid_string

commit beb44dfc2619bcc4422ee63eb1ae6d0742eb3fed
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Mar 3 01:15:10 2012 +0900

    configure summary and afpd -V: show mDNSResponder or Avahi

commit ccca02d28c1df8aa7b91e025f6b7f285b78bd859
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Feb 29 13:03:59 2012 +0100

    Support for mdnsresponder, from Lee Essen

commit 92ee9e46425880f8d3131a66c282cd6246b7cf69
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Feb 29 11:11:56 2012 +0100

    Use GSS_C_NO_NAME as server principal when Kerberos options -fqdn and -krb5service are not set, from Jamie Gilbertson

commit 9c0bd06843f77fe7ec5b4cb404560be127f4c10c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Feb 24 14:17:36 2012 +0100

    Update new

commit b3f8a44b104a8a1a493fac65e9b4415459e0b8bd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Feb 24 14:16:51 2012 +0100

    Dont use search db when doing partial name search

commit ae3cd33e4023a302d0f559e2d957ed72d5894cf4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Feb 13 06:38:32 2012 +0100

    Fix an error message

commit d24a954821229e8835acb6d629ef1f09a4441e8b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Feb 9 15:39:08 2012 +0100

    Fix broken sendfile on FreeBSD, from Denis Ahrens

commit b6e5771627bb9bd18ac70c9a5f8b79e5e5562e79
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Feb 6 15:57:21 2012 +0100

    Ensure our umask is not altered by eg pam_umask

commit 9e139847d1fbc9be8896c2dd64cb205afd9e2168
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Feb 4 00:26:01 2012 +0900

    experimental systemd service files: always run both afpd and cnid_metad

commit bace3ae00d8f9284502072eea1631eb1b4b06d11
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Feb 1 21:34:03 2012 +0900

    based on Unicode 6.1.0
    use C99 standard fixed width types from stdint.h

commit df66ec1b1bbfb22a1b93c8763fdc0e2660c2758e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jan 16 09:58:46 2012 +0100

    Import manpages from XML

commit e44545ef76ca08f776b8d68b4858a25990c74c5e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jan 12 10:26:15 2012 +0100

    bump

commit 9235b101b7b0789239052ace5667f68ff10b311b
Merge: ec37b011 ad759a00
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jan 4 07:05:44 2012 +0100

    Merge branch 'master' of netafp.com:git/netatalk

commit ec37b011ee5d5626efa04655f6900bfd204cd837
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jan 4 07:05:31 2012 +0100

    Add compat header, from Brad Smith

commit ad759a00d461210886c3246f3cd2aa55b661788c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jan 3 15:20:46 2012 +0100

    Remove bdb env on exit

commit bf00805586b8c539e9341a17537543bd218cc5c1
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Mon Jan 2 11:37:54 2012 +0900

    filename should be compared using lower case.
    Ref: Technical Note TN1150 - HFS Plus Volume Format
    http://developer.apple.com/legacy/mac/library/#technotes/tn/tn1150.html#//apple_ref/doc/uid/DTS10002989
    
    BUG: should be compared using NFKD for fuzzy search.

commit 2f3b0704e93342aaa09d2ec79f936d7c0ebbb828
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jan 1 23:33:53 2012 +0900

    cnid_metad, cnid_dbd, dbd: show version

commit 3ef26e02a9c60c1d85f79f34c0b2342dd905e74b
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Dec 31 15:43:28 2011 +0900

    search of surrogate pair

commit f41dee2f8d3a22bdf629ce82b95cf4057009f93c
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Dec 21 23:26:40 2011 +0900

    suse-sysv: run netatalk after avahi-daemon

commit d2dfd7f30a8ee93137b206159859c026f446ef2f
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue Dec 20 19:44:59 2011 +0900

    NetBSD: Fix afpd startup script, from patch-bk,v 1.1
    Adds command_args to startup script to write the pid file to /var/run
    as intended. Apparently the lack of a pid file  did not affect NetBSD's
    ability to stop the daemon, but it did prevent it on DragonFly BSD.

commit d7bfe0cfb8629075fc3b1d03ef531c44460d8144
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Dec 15 22:30:44 2011 +0900

    afpd -V: sort

commit 8672309dc54bd3ac098ae8aa11e4fc8f0959e177
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Dec 15 22:04:09 2011 +0900

    systemd: run netatalk after slpd and avahi-daemon

commit 242645bb32d3985dd09c899bfa2953a0faf47db5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Dec 8 09:43:24 2011 +0100

    Fix hooks

commit 23863de4cd5df3c60605bcfd7dd91be85881acd0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 6 11:43:16 2011 +0100

    Fixes, from Riccardo Magliocchetti

commit 37a295f6a448b54cf75160bd0fbe280741a2e05b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 6 11:35:02 2011 +0100

    dirfd and standards, oh my

commit e871bb1388f4589af3e55c5e8a932adf5caae05f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Dec 5 16:08:08 2011 +0100

    Solaris compilation environment, request SUSv3 and plus Extensions, Oracle compiler needs this

commit 95513455c9a5b78f14ee26ec8c78f9682625357b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Dec 5 15:05:36 2011 +0100

    Portability fix

commit 08d710224e346b26227e08d5a044350198b1bbd9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Dec 5 14:28:38 2011 +0100

    Fix typo

commit 9b62f824c251c0a39fa8128c90af3a5dd22d3b4d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 30 14:33:20 2011 +0100

    Revert 33068a, Debian Default-Stop runlevel. On request of the Debian package maintainer Jonas Smedegaard

commit f9a95c83ef9379a0cf6d4d46f35ca0a12b84dd9b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 30 14:27:44 2011 +0100

    Several small fixes, from Riccardo Magliocchetti

commit c09a6a6dd71e8597a5ae34b8e483ea2804444153
Merge: 785e6a01 5fd98f42
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 30 11:59:57 2011 +0100

    Merge remote branch 'sf/master'

commit 5fd98f42ff19aa7bef3d05200ff44e50640d9ff3
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Nov 30 00:55:13 2011 +0900

    RANDNUM: somewhat detailed

commit d92a5752b7a8fd29b8152263e751c499ba22e2bf
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue Nov 29 02:51:28 2011 +0900

    new configure option "--enable-suse-systemd" for openSUSE12.1 and later.
    "--enable-suse" is renamed "--enable-suse-sysv".

commit 564374702f2964a25d2cd29b204c5a2f608dfb1a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 28 13:32:52 2011 +0100

    Fixes, from Mark Williams

commit ea7e8ebb173e2e7b2f91e0a37841dc0559b4fbc4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 28 12:53:36 2011 +0100

    Update NEWS

commit ccd3cbc0f8ec5f86b70e0e09bd96858489279276
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 28 12:36:00 2011 +0100

    Fix log messages

commit 1f26e97286e30cfe04c48a5868dc8df538379893
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 28 11:48:22 2011 +0100

    Use uint64_t instead of off_t for VolSpace
    The quota code doesn't work with off_t. Update NEWS.

commit a8ada8f787706fc587df5b5f4509821036ae731f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Nov 27 11:20:51 2011 +0100

    configure fix for systemd stuff

commit a0b50f06fbe75d7141748e21998f1eb0b7c6b185
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Nov 27 08:58:07 2011 +0900

    contrib/systemd/ move to distrib/systemd/

commit 865e4844985b0af1595149af1aa0bf1051796a8d
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Nov 26 23:04:24 2011 +0900

    experimental systemd service files in contrib/systemd/ , suggested by eindl Harald

commit a81e01732928e848891e7cc392355b30dc47b7a1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Nov 26 09:18:31 2011 +0100

    Cleanup

commit 0fe0c9fc53956b6f4d336824c2ee8ee44b657948
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 25 17:42:55 2011 +0100

    Fix for Solaris sendfile

commit 5fd60bee90f24cd522d4cf3cd9335e4c8dce3d58
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 25 17:41:54 2011 +0100

    Add lots of debugging code in the DSI handling routines

commit eba32cd402da5b45e69ef94e6291573abde042c9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 25 10:08:14 2011 +0100

    Adjust log messages

commit fa0722259c77b6bf5069e4a80cfad8fd65bad91d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 24 13:00:38 2011 +0100

    Revert f422a450, read_file() does to many checks to be factored out easily

commit 6121590f3f66f1f4844ada786c7bc2161184a51d
Merge: d9e43153 a61918c9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 24 10:24:13 2011 +0100

    Merge branch 'tmused'

commit a61918c93d9d964a7a2af000a0002d613eeac94c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 23 19:10:05 2011 +0100

    Only add appended data written to files to the TM used size

commit 5ff88f5d146936daaf954efb57279bd43d74f69d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 23 15:14:37 2011 +0100

    Update tm_get_used() function spec

commit a951bdd9b6f82783cc92024da4c2761292db8a5b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 23 14:58:09 2011 +0100

    Rewritten TM used size calculation

commit d9e43153cf13b9307cacb8de155fdd638edf5fb5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 23 12:45:14 2011 +0100

    Disable sendfile() on Solaris for now, there's a bug somewhere

commit 33068a1e0441fc9eee0f5fb361226006ae3cba51
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 23 09:50:11 2011 +0100

    Default stop runlevels on Debian, from Andy

commit 76f5b97838bea8d7252278cf9cc4e342e7a6ff2a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 21 13:28:30 2011 +0100

    Remove broken sendfile on Linux stuff, it wasn't properly used by the upper DSI layer anyway

commit c5f24178cfb6cf76504710b4916eb7cdc0ecea88
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 21 12:26:50 2011 +0100

    Linux sendfile macro fix

commit 7a9ef97721a142329de74ccb15d99a0b0d53d6d3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 21 12:14:16 2011 +0100

    Add Solaris senfile() support and enable sendfile on FreeBSD

commit d738420098c8a4c215f7830202670d0e95f9bb37
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Nov 20 13:23:24 2011 +0100

    rbuflen initialisation was still wrong

commit bce50773d2a976ee9a81a5114476628e573bda94
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Nov 19 16:43:05 2011 +0100

    Fix regression introduced by f422a450f02e1bc95a26a6b10f1446cc291d5007

commit 350501e850d5cb7db956756328c32a2f0ff697dd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 17 17:29:15 2011 +0100

    Dont set ATTRBIT_SHARED, OS X doesn't either

commit 5bca5edc7cc0974727f04eda1d62065f023c2109
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 17 10:06:27 2011 +0100

    Initialize dircache for ASP transport, from Rob Braun

commit 598b99c6c24093f4266a9a018e5af854596e911e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 14 10:32:29 2011 +0100

    64 bit library naming, from Brad Smith

commit f422a450f02e1bc95a26a6b10f1446cc291d5007
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 11 15:07:29 2011 +0100

    Performance tuning in afp_read: factor out an unneccessary filesytem read when sendfile is available

commit 167687f753fd725675a492df5b025d761ab8a343
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 9 16:23:26 2011 +0100

    Convert passwords from legacy encoding (wire format) to host encoding

commit 2da1070e768bb972c63fa23136946067878e41e3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 8 14:04:05 2011 +0100

    Fix POSIX ACL permission mapping

commit 7a93982b3a97b226b6e358e37b35a001416f0337
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 8 11:50:00 2011 +0100

    Fix dircache bug

commit 8426fa6051065101996f014bd9beee56161e0623
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 7 15:23:48 2011 +0100

    Fix catsearch

commit 3537bd5b338bd639f094eb0a1851693f304eaaa5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 4 16:13:14 2011 +0100

    Use env LIBS when checking for GSSAPI stuff

commit 309e4ab1bc757ee2b0d6f78bacd3f862cb69602a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 4 12:48:03 2011 +0100

    OpenBSD portability fix, header ordering, *bleah*

commit df549c19c459cd7df31c6697fdf8d4f0ff72c68c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 4 12:13:20 2011 +0100

    Portability fixes

commit 516ef2d46d69d21d3ebc783cb21bfd61a831d529
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 3 15:14:30 2011 +0100

    Add forgotten header

commit 6dd1fb33fedf945027b2b69ec180af5135ce16c8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 3 14:54:22 2011 +0100

    Posix/SUS portability cleanup

commit 857f1ff91c8d862ccbc7d9692c45ef8b4e2ba446
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 3 13:51:13 2011 +0100

    Fix for filesystem without NFSv4 ACL support on Solaris, Bug ID #3428389

commit b1de2399f759e2e5b2c9b8b32087fea98a030833
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 2 15:04:35 2011 +0100

    Log warnings instead of exiting when increasing rlimits doesn't work out

commit 7d044d603eb2d15b9e59430669d9e89b4a091307
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 29 16:07:11 2011 +0200

    Fix adminauthuser

commit af44f17ed14358be5065498d35e9407751b185d4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 25 13:11:56 2011 +0200

    seteuid() back after seteuid(0)

commit aee9d3f3ac1e6a98d366bbd4c402ca8b14b0c7c5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 24 16:59:40 2011 +0200

    Reset options every time a :DEFAULT: line is found in a AppleVolumes file

commit 4ff1c799cd32091cc780d0d0605fb1ed644861aa
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 24 12:39:56 2011 +0200

    New option afpd.conf adminauthuser

commit 1e547759da3a14364c3528c7a343d2dab75a6831
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 21 17:15:32 2011 +0200

    Fix regression

commit b6d8c035033b47e4e8aad7c852a08ff055b49d8c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 19 10:44:39 2011 +0200

    Fix an error when duplicating files that lacked an AppleDouble file which lead to a possible Finder crash

commit 61488481e161586cb1e957649e412f575afd1c90
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 17 16:53:13 2011 +0200

    Fix CPPFLAGS clobbering iconv macro

commit f5360078613563045abde5e9f5579d10b5e5d89c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 13 17:06:13 2011 +0200

    Update NEWS

commit adadbb34cf0b017868ac7d774229348ae4011d2e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 13 17:02:44 2011 +0200

    Enhanced POSIX ACL mapping semantics from Laura Mueller <laura-mueller@uni-duesseldorf.de>

commit b0f27d04cd6fe2501ba8aad67a929a4f2bb29baf
Merge: cea5233c 51b2ea83
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 13 12:01:35 2011 +0200

    Merge remote branch 'sf/master'

commit cea5233c2f942bb5c90612d0c313b3c91fa7d476
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 13 11:59:38 2011 +0200

    Check for empty EA slots and fix log messag missing parameter

commit e7a060e5c3549605759e4406441bc6ca103267ee
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 12 12:14:22 2011 +0200

    Update NEWS

commit 994470423d031c8fff38c672263054e47daeae61
Merge: ad52194f d5945415
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 12 12:11:47 2011 +0200

    Optional AppleTalk code was not completely sorted out

commit d5945415631bb4568400fc55e3095259938c979d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 12 12:02:05 2011 +0200

    Remove DDP deps

commit 51b2ea83f6df46a784a5f99c5e4caf41226a2d72
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Sep 21 22:42:41 2011 +0900

    RANDNUM uses neither PAM nor SHADOW

commit ad52194f166b10fdba32d4d4170389c43d7dd48d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 20 14:52:58 2011 +0200

    Rename configure.in to configure.ac

commit 5bc10701fe3992bc08ab1a265265ebca5a9fd472
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 20 14:51:02 2011 +0200

    Remove atalk/boolean.h, use stdbool.h instead

commit 04bb047d46a87e09a3e5e95ddc3e093c019c4bd8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Sep 15 10:35:25 2011 +0200

    Wrong define was used

commit cbc8c6f7a5de52fc01395241ef1faaac96c8bca3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 12 14:15:17 2011 +0200

    Move fullpathname() around in libatalk

commit 0cdb9ed00282b36bed199a0352d6dcc3698ad59d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 12 14:14:59 2011 +0200

    Log filename

commit 197547129f6c9a7e59e00b40282dd2761a615f52
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Sep 11 22:58:36 2011 +0900

    afpd.conf: some options

commit 1808b2d8a9004df1ac0c05ac10a9b5030db1f5c2
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Sep 10 01:03:17 2011 +0900

    make-casetable.pl and make-precompose.h.pl moved.

commit 8d15e4f7b53f911ac89c62018796e255dcb02302
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 7 12:28:53 2011 +0200

    Update NEWS

commit 22b8a18da024e6c942995da012a20583476ba40c
Merge: ddec3711 09f66624
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 7 12:26:56 2011 +0200

    Merge branch 'nouuidaclcheck'

commit ddec37115558d3b0b9c8da7b98bb1be55e1048b9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 7 12:24:21 2011 +0200

    Better checking for duplicated or bogus CNIDs from AppleDouble files

commit fca1773880e078c555d112b74ae3a319cc0c777b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 7 12:23:12 2011 +0200

    bump

commit 51b00627bd2239880ab68f6565eb640b0b5d37c6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 6 13:06:49 2011 +0200

    Add cnid.lua to distribution, fix bug #3404322

commit 2d22bc254311ed4f9816405ee811a45e1a922cf3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 6 12:59:49 2011 +0200

    Add make-casetable.pl and make-precompose.h.pl to distribution, Bug #3404322

commit 09f666241bcc68d1fd94d53b082e4a5f4c9adb3a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 6 12:12:31 2011 +0200

    Ignore UUID in FPAccess call

commit 8448400556f92eae2e399d29bad89939c5581c03
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 5 16:53:30 2011 +0200

    Completely disable all AppleTalk stuff if not enabled

commit 161a49369b770630576bdade0939f88eab6f3715
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 5 10:47:29 2011 +0200

    Bump

commit 301e09fe8ca9b801d3879303fb96d46ef261e412
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 5 10:45:18 2011 +0200

    Import updated manpages from XML, add macusers manpage from XML

commit 5116458d279ab86b7b0864e48d23a0812cb0bbab
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 5 10:25:28 2011 +0200

    GNU/kFreeBSD build fix, from Patrick Coulthard

commit 6ff6a7d891858196352d75ec388c4c25f9ad5864
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Sep 2 21:52:22 2011 +0900

    netatalk.conf: small fix

commit 481772c3528fa582441102a8e68775b22e743e02
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 2 13:56:05 2011 +0200

    Function checking and removing malformed ad:ea header files failed to chdir back to the original working directory

commit ff1b6aeb836a29c93e9eac7bd4b6cf9e4eb60c14
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Sep 1 00:50:46 2011 +0900

    .gitignore: small fix

commit 6c671c1402d51e0f0b90383b02bcf492edc9de4d
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Sep 1 00:44:31 2011 +0900

    ad, afppasswd, megatron: show version

commit 3b824bbc2f19fc264acc6259ee2a556685c2c0b4
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Aug 31 22:28:48 2011 +0900

    CNID backend mtab has already gone.

commit 3e5cb6c7f7ee853300e3486c20890813c6182d3f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Aug 28 12:40:56 2011 +0200

    Previous fix 9e4e07c1811edbaf3376ad6e238a1353b405002b resulted in the inability to output error messages to the user, this patch fixes this.

commit 0d7777ad35e6db12c49450a5634621af1ae210ff
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Aug 26 11:28:23 2011 +0200

    Implement proper daemonisation for afpd and cnid_metad, fix for NetAFP #10163.

commit 4be14d76f00ca8e199067d19765627e5a790a7c0
Merge: 628db100 618f5ca6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Aug 31 08:08:59 2011 +0200

    Merge remote branch 'sf/master'

commit 618f5ca64546e096020d61af7a8fca0c859c5c4c
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue Aug 30 23:23:11 2011 +0900

    macusers, apple_dump and asip-status.pl: option "-v" show version.

commit 0a4aa3e38163c846905221edac32651867a68474
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue Aug 30 00:19:54 2011 +0900

    initscripts: describe netatalk version

commit 0f446939144157bb2c7e5ef2b4158b994fc8ce68
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Mon Aug 29 23:13:16 2011 +0900

    afile has already gone.

commit a27e110d3bd303a2b2a0dcee939400935f051984
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Mon Aug 29 00:51:42 2011 +0900

    systemd initscript: some fixes

commit 1a95415d7fcdeb34079f250a89f10aeb50d7835f
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Aug 28 02:16:55 2011 +0900

    useless configure summary

commit 628db100a4c068c5e315672a9c47df82ad26056a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Aug 26 10:03:55 2011 +0200

    Fix misplaced #endif

commit 8ba2fce04e6a86ec350b7e083745fdc1d7f1dcdf
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Aug 26 01:43:47 2011 +0900

    new configure option "--enable-redhat-systemd" for Fedora15 and later.
    "--enable-redhat" is renamed "--enable-redhat-sysv".
    suggested by netatalk-2.2.0-4.fc17.src.rpm

commit a08a44591e69a1e35908f3a7db20d7613338c3b8
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue Aug 23 21:38:38 2011 +0900

    afpd -v: show AFP versions

commit 0da2b716e06b9ef49ae00267d6a102cc0fa64769
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Aug 23 12:25:12 2011 +0200

    Better detection of local (or SMB/NFS) modifications on AFP volumes

commit 2a6fa28b6b7f44e36407557df3be22da169bc4d8
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Mon Aug 22 21:42:19 2011 +0900

    update NEWS

commit c0a116121321d163a43cb35bddd29fa465f90aa4
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Mon Aug 22 21:38:32 2011 +0900

    precompose_w() failed if tail character is decomposed surrogate pair
    It is necessary to check more...

commit 8fbfbd6ee56c6f6649819f6126db827c3dd65276
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Aug 18 14:29:48 2011 +0200

    Add support for new NetBSD quota subsystem, Bug ID 3249879.

commit 6ac1bf48dac5e6de67a77722106954e51f8dfbba
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Aug 18 14:17:51 2011 +0200

    Update NEWS

commit ef96640c06e3c5e7356005f7215a3ac5c4cde47d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Aug 18 14:16:12 2011 +0200

    Include sys/socket.h for sockaddr_storage

commit 520c5cc0476575d588361174cbdad6b2d1b825ab
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Aug 18 14:12:52 2011 +0200

    Don't define feature macros on platforms where it cut's off features.
    Fixes #3380785.

commit b9340af56e544ba2f5a666935bb1e6dc97a98eaf
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Aug 18 14:05:57 2011 +0200

    Don't define feature macros on platforms where it cut's off features.
    Fixes #3380785.

commit 0b56f6f0db4f0b43be94cf0c0309a01859aee9c0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Aug 18 11:04:56 2011 +0200

    afpd crashed when it failed to register with Avahi because eg user service registration is disabled in the Avahi config

commit 9e749c23d31e9942fc1095b05ff962a5fc00d225
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Aug 17 10:33:47 2011 +0200

    Update NEWS

commit 1dbaeab7e53d609a4c6c19f09e65da0a03cd66af
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Aug 17 10:32:48 2011 +0200

    Fix for Debian Bug#637025.

commit c8c84139124a12e99b005a1b4ec8de5937badcb1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Aug 17 09:28:28 2011 +0200

    Compilation error on GNU/kFreeBSD, fixes Bug ID 3392794 and Debian #630349

commit 3ec6eba7c61b202f6671b520d48b2b280f970b5e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Aug 15 15:50:46 2011 +0200

    Import manpages from XML

commit d0c35943f083947fe9faea917cd5f4e9d07f155a
Merge: 2cdba406 e684ac50
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Aug 15 13:52:41 2011 +0200

    Merge remote branch 'sf/master'

commit 2cdba406da6941fbb8cd190c6e81dfa79bf5ffc5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Aug 15 13:51:14 2011 +0200

    locking: use 64 bit offset instead of 32 bit on 64 bit platforms

commit e684ac50c4699209b6032fa81d6f79f8ec2b2401
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Mon Aug 15 17:24:54 2011 +0900

    not CRLF

commit 38be99d9e96e4af9ba50ab7c33f152431224c24b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Aug 13 22:21:12 2011 +0200

    Add a configurable hold time option to FCE file modification event generation, default is 60 s.
    New option "fceholdfmod" to change it.

commit e88619d48cc318ae02508037fbee51a38b74a787
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Aug 12 14:25:42 2011 +0200

    Some cleanup in FCE coalesce. Use bitflags instead of strings.

commit 14f04d917f135e66d18fbd4cedd17222969c73f2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Aug 12 11:02:06 2011 +0200

    Remove sleep state flags when entering disconnected state.

commit a4b39cc483eb3e880bae582ed9f96f85f654343e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Aug 12 09:24:46 2011 +0200

    Return correct user/group type when mapping UUIDs to names.
    For directories add DARWIN_ACE_DELETE ACE if DARWIN_ACE_ADD_SUBDIRECTORY is set.
    From Laura Mller.

commit 9f21058c009cdccaa78db14dc6a1cf4aa86374db
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Aug 11 14:39:14 2011 +0200

    Set disconnect timeout to the same value as sleep timeout.
    Avoid adding an additional option, because without intimate knowledge of the underlying semtantics, noone but the implementor is really able to make an educated choice.

commit 74f1f06eae07928154e212b951848659d56d840b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Aug 11 14:08:36 2011 +0200

    Make IPC reconnect block, switch to non-blocking IO after connect.

commit a920a0e006be3662242e4128090f91c427484f10
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Aug 10 23:39:51 2011 +0900

    case-conversion of surrogate pair

commit 5e2a91cb3a9c25edf595affebcee680a24e16f3d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Aug 10 14:34:19 2011 +0200

    Fix a possible crash at startup when registering with Avahi when Avahi is not running

commit 3c047583a192b6dad0938e4c7fbefcb92755b727
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Aug 10 11:02:59 2011 +0200

    Correct logger setup in afpd and reduce log clutter by reducing loglevel of logger syslog setup

commit 0cd00ae2fb02929c820994b6607497cfe1f1614c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Aug 9 15:16:05 2011 +0200

    Initialize ACL cache entry element in the rootParent directory structure.
    From Laura Mller.

commit 81aedef566a1f007bc16b9a742fa2f1f7944bd56
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Aug 2 10:29:08 2011 +0200

    .volinfo file not created on first volume access if user in rolist

commit 008d21ac1c82e9e3d9640da5b97ea646720ecaa2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Aug 1 16:32:06 2011 +0200

    Fix brokenness with case insensitive username matching with an empty gecos field.

commit 9e1489395e6f1bb4a22fda2574d78bc1ec860fe6
Merge: 247d71c7 409fa014
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Aug 1 14:53:17 2011 +0200

    Merge remote branch 'sf/master'

commit 247d71c7d16196834d9bab03ca6d0640f11a5537
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Aug 1 14:52:44 2011 +0200

    Fix ACL detection, thanks to Rod Yager for spotting this

commit 409fa014b99d7bb011bf6c947a8364205d55b0f2
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jul 31 01:16:22 2011 +0900

    chmod -x fce*.c

commit f1ddfb5e36c7b6a1e88da2de25598c833c6e9dbb
Merge: 40d1f0f6 f09cd053
Author: franklahm <franklahm@googlemail.com>
Date:   Sat Jul 30 07:33:53 2011 -0700

    Merge pull request #1 from knu/freebsd_fix
    
    Fixes for building on FreeBSD

commit f09cd05368bf5920d947a5256a152107edfa261e
Author: Akinori MUSHA <knu@idaemons.org>
Date:   Sat Jul 30 12:33:08 2011 +0900

    FreeBSD needs __BSD_VISIBLE to be defined to pull u_short, u_char, etc. in.

commit 929f0ce989103d1a1a137bee0a29edd989a20a6d
Author: Akinori MUSHA <knu@idaemons.org>
Date:   Sat Jul 30 12:30:49 2011 +0900

    Properly include sys/resource.h for using getrlimit/setrlimit.

commit 8e4b8fe5d2cbb517a1f108923433492b59967437
Author: Akinori MUSHA <knu@idaemons.org>
Date:   Sat Jul 30 12:29:38 2011 +0900

    Implement the non-POSIX.1e function acl_from_mode().

commit d841d6bfb6997a38b14c3ff8cf90d4811c0255f6
Author: Akinori MUSHA <knu@idaemons.org>
Date:   Sat Jul 30 12:28:29 2011 +0900

    Fix HAVE_ACL_GET_PERM_NP never being defined.

commit 40d1f0f6c5c6b67198827f8a8ea553bb3e2271cd
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Jul 29 22:25:30 2011 +0900

    rm config/netatalk.pamd.shadow

commit b20e66f5f20258618d3f286596d1a44b31cb7d54
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Jul 29 22:19:19 2011 +0900

    RIP cobalt

commit a0fa71b4037e0d8d337390beacd376b2f87b317d
Merge: bf057ca4 20eaeb0a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 29 11:34:27 2011 +0200

    Merge remote branch 'sf/master'

commit bf057ca419805d9ffa00d81b033c4ab9b3c90f6a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 29 11:32:24 2011 +0200

    Enhance ACL support detection for volumes
    Enable them per volume if
    1) ACL support is compiled in
    2) the volume supports ACLs
    3) the new option "noacls" is not set for the volume
    The previous behaviour was to enable ACL support for a volume if
    1) it was compiled in and
    2) the volume supported ACLs.
    There was no way to disable ACLs for a volume.

commit 52f85a8c3f044bb3e03e5fa01b440cd78538b2f2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 29 11:11:23 2011 +0200

    Fix volume ACL support detection

commit 20eaeb0a7f6d65dee8403d24e7ccf8d39ba8b25e
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Jul 29 00:34:54 2011 +0900

    What is maccharset?
    "maccharset:UTF8-MAC" is wrong.

commit c1365892ffe63214cf0da04d5bcc26c93aa60f51
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Jul 29 00:07:55 2011 +0900

    typo

commit c53c14bcbe2f2af12fba7c693eb5f4862f6f2b40
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jul 28 16:36:21 2011 +0200

    Fix a crash when searching for a UUID that is not a special local UUID and LDAP support is not compiled in.
    NetAPF bug #10149.

commit 7991e8b9ee61143996c75ce235a7940d399569a6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 27 17:08:29 2011 +0200

    Update NEWS

commit 82da57b1abd33d1b0aa0741731e9d462f9258cfb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 27 16:50:24 2011 +0200

    Slightly change sleep time calculation

commit 660be6c3315fd3ee166d02a45dbea0cbc15dbd8f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 27 16:27:23 2011 +0200

    Add a LOG message telling configured fdset size

commit b3460c7a91a95c030b1019621f1efd73a260ee64
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 27 16:07:59 2011 +0200

    Don't realloc connection handling array.
    That leads to undefined behaviour due to a race condition.

commit 315d5bcac8946b5de7af112d2873be4b29793bff
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 27 12:18:44 2011 +0200

    Don't create IPC reconnect socket if not needed.

commit 9fcb3ed9f1911a4960c82d7f86d82e60fefeeabc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 27 11:27:59 2011 +0200

    Disable continous service feature by default, new option keepsessions to enable it.
    Fix a possible race condition between SIGCHLD handler and new connection attempts.

commit 8b4971374d9f931e0e6cc9976a68ab74f4c3bc09
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 26 17:03:41 2011 +0200

    memmove was moving too much

commit bd41b8cb22627bb18a70860ed5631cb6ae7af600
Merge: f615bb73 c95785ca
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 26 13:58:45 2011 +0200

    Merge branch 'master' of netafp.com:git/netatalk

commit f615bb736b0791e68be2b1020da4b2454d1d22cc
Merge: 77f2fc66 52e4a0b2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 26 13:58:23 2011 +0200

    Merge branch 'master', remote branch 'sf/master'

commit c95785ca3546542d97908ceb1ebaf8c662eca42b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 26 13:08:36 2011 +0200

    fix timeout calculation

commit 6cf2551c673feeb01a2c4f711f869269ae92c31b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 26 11:27:41 2011 +0200

    Give IPC reconnect more time

commit 3566c2b88802d2ebce6ab9af8d99545fe19f0b58
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 26 11:02:52 2011 +0200

    Temporarily disable ECONNRESET detection, it causes primary reconnections failures

commit fee2543695b7324ca9cbc1dad7c156188df14561
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 26 09:46:42 2011 +0200

    Remove forgotten logger flooding check bypass

commit 77f2fc665e6393f17510ebd95956a9bc677091fe
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 22 15:16:50 2011 +0200

    In disconnected state afpd process was still reading from socket every SIGALARM

commit 4a8ff35afc3022b429c99cbdd4477570a3e4b65b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 22 14:39:32 2011 +0200

    Add a log message indicating disconnected state has been entered

commit db0cf6295209a3741736cfda0f90e0c5130f8037
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 22 14:00:40 2011 +0200

    Fix a problem leading to multiple afpd processes for one user when a primary reconnect fails for some reason.
    Fix a problem when sesssion disconnected state was not entered, because the connectivity interruption happened while an AFP command was active.

commit 52e4a0b2c10597b65bc472d1039aabfa5b09d4f4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 22 08:09:48 2011 +0200

    bumo

commit 631499485e36f463ee795f7173c57e5f23de9d20
Merge: 82c657dd 5469b99a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 22 06:35:16 2011 +0200

    Mere sf master

commit 82c657dd1564a4d5cff40277048159e02ffe7b4e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jul 21 15:23:53 2011 +0200

    Fix regression in session IPC handling

commit 5469b99a80ae87f0982534e2bac4b1f43a7a81de
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Jul 20 22:50:15 2011 +0900

    replace "16" with "AFPSTATUS_MACHLEN"

commit 9e1a1ca22bc8a8aa5dd26703e0d4a7677930e092
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 20 11:28:19 2011 +0200

    Abbreviate Netatalk in version string as necessary so that the version number isn't cut off and the whole string fits within the 16 bytes machine type buffer

commit bc062f52e8359a917f0f2e15c71dae8a73c8cd59
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 19 13:41:39 2011 +0200

    Update NEWS

commit 3f250cb8aa09eff4ad0f42c9671e3c0b45aed407
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 19 12:14:38 2011 +0200

    Adjust log message

commit 5a338fdcf3a5f33c7bebba55373172cf0bf2e00e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 19 11:57:35 2011 +0200

    More robust IPC reconnect error handling

commit 8d0b7e144c350b9b7eed69a40c7dcdf34aa00eb5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 19 10:22:38 2011 +0200

    Adjust LOG message

commit 86596e4534afd6f059b3834566109b41f2e8c683
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jul 18 20:05:07 2011 +0200

    ACL access checking was using from directory pointer

commit c87f52eebbe29d5339a9c71931ff9fb843479a50
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jul 18 11:41:17 2011 +0200

    dbd can be run on active volumes

commit 83df4690e046f6bd8315ed67c0bef3b00fd0c189
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jul 18 11:04:19 2011 +0200

    Previous commit removed fix for debug printing large amount of supplementary groups

commit 6de40879a83aac2972e191cd57a2f13dbd380f21
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 15 11:26:24 2011 +0200

    Fix moved header

commit f7942f11fddca7773296b66255f410f0f9f0b618
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Jul 15 00:16:51 2011 +0900

    It seems to have found some mistakes in commit immediately before...

commit 25ca059b795321076af8d8d422ba6a473ef04cf6
Merge: a6101f0b 1789219c
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Jul 15 00:01:13 2011 +0900

    MachineType string is up to 16 characters
    Merge remote-tracking branch 'remotes/origin/branch-netatalk-2-1'

commit 1789219ca8447863ff7daa7cb9e13727a461257a
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Jul 14 23:41:33 2011 +0900

    MachineType string is up to 16 characters

commit 5ad557310d7657213c1132c2ef1ff65f95075288
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 13 11:27:25 2011 +0200

    Create special folders as root, otherwise first time mounting a volume with ro rights fails

commit 40e587a08a3555baabf097757f3d2377d2eeb5c0
Merge: cc2fd806 06f637a1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 13 11:14:54 2011 +0200

    Merge branch 'master' of netafp.com:git/netatalk

commit 06f637a1ee09b7cb904d4a551af496e3a5aa9e98
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 8 11:58:49 2011 +0200

    Workaround for old automake bug

commit cc2fd80613deef519f44da7636cd4b1fd2629391
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jul 4 12:40:41 2011 +0200

    use seteuid(0) and back in savevolinfo

commit f76a2375b3a0401320f9257f47954d20bcc3b688
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 28 14:35:51 2011 +0200

    Implement cnid_dbd option -d, deletes CNID db

commit c3cfd44a4fae2e700d07aa52166aa3609c8e9660
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 28 09:59:12 2011 +0200

    Update NEWS

commit 13ded7f9e298f706b30671e876a1482c8123b499
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 28 09:53:42 2011 +0200

    Correctly define IPC PATH

commit 80280ce85af2a87973d55235bd9a721ed0147160
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jun 27 10:25:31 2011 +0200

    Fix buffer overrun with many groups

commit 51e79fd3970eeefdb98faefc24d600928418c332
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 25 17:29:29 2011 +0200

    Add file for dirfd

commit 5c96b7dccc7424d209debdc93730a649f044eb62
Merge: 2da3659f 196d7995
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 25 17:26:16 2011 +0200

    Merge branch 'master' of rsrc.de:git/netatalk

commit 2da3659fcbd8816b58a589f7e7848d80c9292c8a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 25 17:26:03 2011 +0200

    Add Solaris 10 replacement for dirfd

commit 196d7995b4320dc0082745a1ccf1ab100077a736
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 18 12:48:19 2011 +0200

    globals.h has moved

commit bea0c55cc833ccc859c8a9413d52af5c61cf3593
Merge: 3969c947 a6101f0b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 18 12:45:01 2011 +0200

    Merge sf

commit a6101f0b0ee85861d969058c914f16a09246c8ed
Merge: 3b630e09 7685846a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 18 12:42:53 2011 +0200

    Merge branch 'master' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk

commit 3b630e09af7523213bb5ee703271ede481615eb1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 18 12:42:09 2011 +0200

    Add missing source files

commit 3969c94735f50f4f625e477c17e680836e77c053
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 18 07:56:17 2011 +0200

    Fix merge conflict resolution error

commit f1c0e462cdfe8d19a14bb4e296ed005e3f14bd56
Merge: 3dca08a6 7685846a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jun 16 14:31:42 2011 +0200

    Merge sf

commit 3dca08a69bd2ba21682cf1ec88393d194596f74e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jun 16 14:29:05 2011 +0200

    Update NEWS

commit 7685846a42d98891af3a0804850d5d180718950a
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Jun 16 16:29:50 2011 +0900

    configure script: show LDAP support

commit 8c82b7ebbc814b4e869b277a562dd1764c4aa334
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Jun 15 22:55:38 2011 +0900

    suse initscript: return better status, suggested by Toshihiro Togo

commit 371d4d39c45a6498309cfd8d8caa9b2bc7fa6fb9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 15 14:41:16 2011 +0200

    Import dbd from XML

commit 0c08bcaa1f4026aec4b25f44234a62e486bf7d6f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 15 14:38:39 2011 +0200

    Use -u to upgrade CNID db version

commit 7d52fcdea334c2b0efe0320abd43d8da1b1b60de
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 15 13:48:31 2011 +0200

    Increase locks to 20000, necessary for upgrading large CNID dbs from 2.1 to 2.2

commit 154c130f7a3a407e686eda99a6658773e137b05f
Merge: 4054f4b3 f7aa366a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jun 6 16:08:48 2011 +0200

    Merge branch-2-1

commit f7aa366a27bda773b6c19f3baec23686b1f30f2b
Merge: 0573a522 64d53436
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jun 6 16:07:08 2011 +0200

    Merge branch 'branch-netatalk-2-1' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk into branch-netatalk-2-1

commit 0573a522d0e8a3838a25bdf58248eacb38e611fe
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jun 6 16:06:36 2011 +0200

    wrong path for /etc/default in Debian

commit 9aac0301d44259f19d48037074aedff8f520721b
Merge: e22bbf78 4054f4b3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jun 6 09:40:59 2011 +0200

    Merge sf/master

commit 4054f4b3c85ecab060dafd46c0d3632cadbb5803
Merge: fa390315 64d53436
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jun 5 01:34:36 2011 +0900

    Merge remote-tracking branch 'remotes/origin/branch-netatalk-2-1'

commit 64d534362470c409545849854b80ade4bfce9007
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jun 5 01:06:15 2011 +0900

    suse initscript: merge from netatalk-2.1.5-200603231979.2.src.rpm

commit fa3903158f401ef06aaa524059c64f4412c39c7e
Merge: 7d341431 f9b0a7de
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 4 09:37:26 2011 +0200

    Merge branch-2-1

commit f9b0a7de1541c2209f57aed39362fafdebc38aa8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 4 09:24:52 2011 +0200

    Add AM_MAINTAINER_MODE macro on request of downstream packagers, default is enable which is the current behaviour without the macro

commit e22bbf78a53bf739dd38383de42a23c95d43c15d
Merge: 6f2df6f5 7d341431
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 1 13:57:44 2011 +0200

    Merge sf.net

commit 7d3414317816649023dd7c28eeaa741e4af6c7b3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 1 13:34:09 2011 +0200

    New option -mimicmodel. From Timm Okke

commit de9c03d5d9f719d02837d70780789e4f16c1aae0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 1 13:31:39 2011 +0200

    Import from XML

commit 6f2df6f53efa0ada8df3999c46682fe8e9b085a0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 1 11:34:12 2011 +0200

    Count the amount of data written in afp_write and use it to adjust the cached TM used size count

commit 2b6ffb426517b26bd0589efbb4c3eaec0545c1c4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 31 15:24:44 2011 +0200

    Merge fixes

commit 1f995330836cf20b5db3e5b6076735a2a0f4e81e
Merge: d3fdfefd 50e61079
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 31 15:10:58 2011 +0200

    Merge sf/master

commit 50e61079bd476cb7619ab37d8576cc1f61d4bd16
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 31 14:45:13 2011 +0200

    FCE

commit 745c25530d830676a2323835545b641a7ff9c59c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 31 14:20:01 2011 +0200

    Reduce log clutter

commit 094d73aeaf066d5866b0b7703d0e6cb881e67357
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 31 13:41:18 2011 +0200

    Various fixes

commit 881e57722b18ada0996da0474c3b50cdc14b97c6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 30 17:05:07 2011 +0200

    Sending TM used size

commit 0387b4665bef6a5cb6851581e42cad0ecca3e90c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 30 15:26:38 2011 +0200

    Allow enabling/disabling notifications on a per event type basis

commit 8d863e719b3670e3e9db3001da875d085f4d93f1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 30 14:05:29 2011 +0200

    Convert to getaddrinfo

commit 09fc36d97b784e8d8d66dbfe8c60e9127c30826a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 30 13:32:01 2011 +0200

    Add fce simple test listener, use getopt in main in fce_api

commit 0907ffe248dce98b1b13a23bbf87dd3fc9596ab9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 30 10:50:39 2011 +0200

    Fix line ending

commit 45b8ce0ad389045073c54f3b838e2473bfde59f8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 30 10:46:39 2011 +0200

    Check if there are configured listeners

commit d3fdfefd086be69127da2320f2c83d8b69819fd7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri May 27 15:54:24 2011 +0200

    Reduce sleep time to 5-10 s

commit 134f586dd7e6b81053c7d24d26152ac8946270a2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri May 27 15:30:04 2011 +0200

    Reduce log clutter

commit 530f7449dc692cbb8dc1e80634537de5cafc1ad7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri May 27 15:22:15 2011 +0200

    Reduce log clutter

commit 21d25b10c94cd6031754122bf1c12c9298346a94
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri May 27 15:09:56 2011 +0200

    Reduce log level

commit 8b9b8877d1d19d2490f691d0d4f091e4398cbd30
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri May 27 10:08:31 2011 +0200

    Handling of ECONNRESET in DSI

commit 5304a12e33e5d5508669b1f4bc7a312cbbc7e6c2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu May 26 13:58:23 2011 +0200

    Fix

commit 465246e257d9aff9855e3e35d8fd5983db932b45
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu May 26 13:33:05 2011 +0200

    First working IPC reconnect

commit 38ccba34fde227ceec6253f8537b42ce012da367
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 25 17:44:09 2011 +0200

    Reconnection of disasociated afpd childs

commit 1de6ba9ebc6311506568589ba61f531c34009814
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 25 15:46:40 2011 +0200

    master done

commit 102d8b342b41e714ce5cf36e4c6cade74caeb9fc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 25 12:21:46 2011 +0200

    IPC for disasociated afpd processes via UNIX domain sockets

commit 1d84df3960746643532a0aaf1e075c892997c81d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 24 16:54:05 2011 +0200

    Sleep after sending signal

commit c8e815fa7690538f1a28fa23544377914f1a93e2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 24 16:40:08 2011 +0200

    Terminate old sessions in reconnect

commit a63b299ad0bc4310f314a02908158c8d5b7311b3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 24 15:04:24 2011 +0200

    Add FCE to Makefile.am and fixes

commit 5116ed2346ea7ee6e5a9858dee94f3eacdc00d7e
Merge: cc5fb7fd 33f44ea7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 24 14:32:02 2011 +0200

    Fix fce merge conflict

commit 33f44ea7f93b30678659d7e50b23c5056991dfd0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 24 14:24:41 2011 +0200

    Import FCE

commit 81c70ca014bf35526c86f0b2507dae2fbc3a5142
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 24 12:58:27 2011 +0200

    Add another check to prevent running as root in disconnected state

commit e1e0f178b01ffa7ac6dda8a49c4f290cca84336f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 24 12:41:47 2011 +0200

    Add another check to prevent running as root in disconnected state

commit 904b58cad9c7d2b33a3dd7c60d813b49412952fa
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 24 08:37:03 2011 +0200

    try read locking volume file when reading twice. Add missing include

commit 7eac39b3bd4d85811a48e6a5a5e4e84574d052ee
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 23 14:12:19 2011 +0200

    sigquit

commit d2d30d6e470093fc2ffbd3959465b8d99289ed46
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 23 13:06:32 2011 +0200

    Dissociated afpd sessions exit on disconnection

commit ede901ab9cc82dcfe4c7c2de5212b12b2a87d270
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 23 12:16:40 2011 +0200

    Fix for bugid #2: afpd childs still running as root in disconnected state because of connection problems in early stage

commit 523040a660ef74c71f9bbc474ce438ae513d8ecb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 23 12:00:27 2011 +0200

    Raise file limit

commit 63d3cfc627369330b335cf1db5bd36304ebdac80
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 23 11:21:19 2011 +0200

    Avoid spurious log message

commit daf7143d8b751bea2da8ae3358ffaf930c74d6d8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 23 11:06:54 2011 +0200

    Check againt disconnected flags. Move static funcs at top of file

commit 15afe7fe0d93e16c964d15c11f2de4c09908aedc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 23 10:07:32 2011 +0200

    Fix for bug id #6: uncaught error condition from dsi_stream_read function call.
    Add a func that enters disconnected state and call it in two places where disconnected state wasn't entered correctly before.

commit 8605dc0587df19aa3ac981099fcdc4e20b2ce115
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri May 20 17:42:09 2011 +0200

    Change file limit

commit 9fc93175b31054cc75765431f4a5d41f1b453bb7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri May 20 17:27:00 2011 +0200

    Add sigquit

commit 50652e94678c3a450cf5dd104cea738756c4da07
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 18 16:45:51 2011 +0200

    New volume option nonetids

commit ea3f0e0c29ce0c434ce39d3f723a3cea0db11315
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 18 16:36:42 2011 +0200

    POSIX mode plus ACL right caching for directories

commit 6af959b2b42638a5c5e2930f941dc4ed5feae51a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 18 14:32:46 2011 +0200

    Fixes

commit 57d58212c29d7fef6d1d5ea7c5703f92d078b174
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 18 10:34:15 2011 +0200

    Adjust loglevel

commit 969d3c9279727c3473de1d2ab161b71f97559384
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 17 17:28:28 2011 +0200

    Log fix

commit c2dc07003a5174b758ee970698e20c6afc75e5b7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 17 17:03:50 2011 +0200

    Fix

commit 6e0331e3e0c420bb508fe5322a5aaf86447173ff
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 17 16:56:44 2011 +0200

    Add negative UUID caching, enhance local UUID handling

commit 95d54673c0b7efb860bfac963242b53909c33b5a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 17 08:01:40 2011 +0200

    Cache time 5 s

commit 922942af66e59aab207e65ae94014f48c9c62187
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 16 17:35:35 2011 +0200

    Update NEWS

commit 4a3dba97ddf079b999175c9687928eacbe6fe187
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 16 17:21:25 2011 +0200

    Use blocksize and dirs for calculating used size

commit 27c477eb9c118aac33ca66dc339df60cd58cda27
Merge: d125de11 b441f67b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 16 14:16:07 2011 +0200

    Merge branch 'volfree'

commit b441f67b3d38711f84a686951b039502ea5a73a9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 16 14:15:46 2011 +0200

    Finish volume used

commit d125de11b3ff1a9c370c8f6ba4ebcb938ffb95bc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 16 11:35:00 2011 +0200

    m_name was not set which gave a crash in ad_setname

commit 9dcbf3fefe6c867c338d50d34d09423088a04bc5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 16 11:04:36 2011 +0200

    Start working on fast volfree implementataion

commit 4a353b1260885aa1841e9d3a9c9a75804b299774
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu May 12 14:12:37 2011 +0200

    Some cleanup

commit 785e6a013b33e083bae8f9365b981f24890d46dd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 11 22:40:10 2011 +0200

    FreeBSD sendfile fixes

commit e9718d037640bf0e45f36679d659734e1bb5eb69
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 4 18:52:43 2011 +0100

    printf conversion specifier z instead of j

commit 672a8ebbbbf76993223c07c7be847cdbfa6b145e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 11 17:18:50 2011 +0200

    Fix acl_from_mode check

commit 5182c89919ebdaf0c00689ca944b97137bf756f4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 11 16:29:22 2011 +0200

    FreeBSD compatibility fixes

commit 2be76a10a0ed013cc7da7496a26477d58f5c6bca
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 9 15:41:50 2011 +0200

    bump

commit 2605bb8c601499f29a26225673833c8856ade8e5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 4 17:07:05 2011 +0200

    Renamed and recreated dirs where not detected

commit dfd41466b09be5ce6203d65f81a97e42868f1a57
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 4 11:40:23 2011 +0200

    Better log messages

commit 3688b148286b637871eb8ffcc237613a9e1285d1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 3 15:32:12 2011 +0200

    Use st_ino in dircache for files

commit 4ec9f98f0b52f1954b32880a15f08575a4072155
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 3 12:52:54 2011 +0200

    Rename struct dir member offcnt to d_offcnt

commit 49d53362e357ced8878c852a707746a1c0258996
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 3 12:23:05 2011 +0200

    Rename struct dir member d_cime to d_ctime

commit 03db7a356f6c503b090c77660c9cdcb3e70b7dba
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 3 12:20:04 2011 +0200

    Fix dircache doc

commit 2562a562c1cb2ba237dc4bf714ef77b9c816adeb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 3 11:27:46 2011 +0200

    stat in dircache_search_by_name and remove if missing, fixes PR#10100

commit 75f0882aca367c96283169457942696927fbd8fd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun May 1 19:53:40 2011 +0200

    only forward SIGTERM and SIGUSR1 from parent to childs

commit d634fa9a0694cfe314e3f1d8e19fb6af58125ccb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun May 1 19:43:42 2011 +0200

    only use volume UUIDs in master afpd

commit be0bbf10c1c89c83d9137d38d88f97c04b5f73a8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun May 1 14:58:38 2011 +0200

    Try to fix spurious volume duplicate error

commit 2af820d8449e9dd362bd6c7f68a630361c329290
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun May 1 11:01:37 2011 +0200

    Fix SIGHUP

commit 7b63aed8fbe6e61d915c5ce51e05348729648774
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 29 10:23:47 2011 +0200

    Add slash at start of loop, not at the end

commit e08091aa3a526edc4fdd3de22b9ad9f6c031a3c9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Apr 27 17:18:06 2011 +0200

    Allow 4096 volumes but use a counter of used volumes to limit array searching

commit 106ff814be1a5f4617a61c866c6e4043f98ec1a2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Apr 26 10:11:15 2011 +0200

    Import manpage from XML

commit 8c806ff43d35b670bc8d631d1a4b6e7c1d001161
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Apr 24 12:41:22 2011 +0200

    Use C99 standard fixed width types from stdint.h

commit af898e14ed8928adb6a5bedcd21d4e2731860eaa
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 21 14:02:07 2011 +0200

    Wrong path from 2-1

commit 6145c1c31a1a2494fe6ad7ca65f9c2a63a05b07d
Merge: 3858412d 74a8bf56
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 21 14:00:23 2011 +0200

    Merge 2-1

commit 74a8bf565853149810b709ad590db47abff90ae6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 21 13:45:44 2011 +0200

    Reliable db locking

commit 6a40aac98e5f72d51776e50f340ce947971ea994
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 21 12:08:48 2011 +0200

    working on db locking

commit 3858412d6efa2798fdc9b3f5613275e49dd63513
Merge: ce40a877 8988a773
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Apr 20 15:21:14 2011 +0200

    Merge 2-1

commit 8988a773a637d1bf437da8a8391e81831f238da1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Apr 20 15:20:14 2011 +0200

    Fix stamp

commit ce40a87753e2529265da0f37808d7d41a9a7efdc
Merge: d271dd50 11f83260
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Apr 20 15:06:56 2011 +0200

    Merge 2-1

commit 11f83260ff651acb5830e2433780bd72230de1f8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Apr 20 15:03:16 2011 +0200

    dont create tmpdb without -e

commit d271dd50cda4844a487962a966d24eb96ebae8d3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Apr 20 14:34:31 2011 +0200

    fix

commit 1a6013c7ecd313e03eee1192d54bee624d4a9293
Merge: bee44bcb 1677082f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Apr 20 12:58:53 2011 +0200

    Merge 2-1

commit 1677082f6a0fd3cf062d8e40885dc86b1d73dcc9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Apr 20 12:51:43 2011 +0200

    Fix dbd vs cnid_dbd locking

commit bee44bcbf6b614d7e737602f27a41d041d8efee7
Merge: d2c4b21d 990ef4d6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Apr 19 15:51:24 2011 +0200

    Merge 2-1

commit 990ef4d65aeac8919ffacc49a5d8336133220f69
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Apr 19 15:46:43 2011 +0200

    Remove txn grouping

commit 623ba6d7955c9124fd189c4b4ad1626980782648
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Apr 19 12:11:21 2011 +0200

    Fix log messages, from jm

commit d2c4b21d7c5a8c8ccfb6c9bcb22d3e896508a7fd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Apr 18 17:04:05 2011 +0200

    Remove now unused txn stuff

commit a0497f1f96685c504384c5e73b3cd541b22adfb1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Apr 18 15:31:16 2011 +0200

    Revert to traditional txn closing

commit cc5fb7fd9d648f38a8cb9e22e2c703e657e1ba6a
Merge: 3b3fff4f d9070fcd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Apr 17 18:39:06 2011 +0200

    Merge

commit 3b3fff4f8beff7a7777b6ba3214548c4bab973e3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Apr 17 18:36:48 2011 +0200

    Correct handling of fatal errors

commit d9070fcd46e14fac71c3390d55de314ffe464167
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Apr 17 16:40:45 2011 +0200

    Fix cleanup

commit 7ed52198cd02435f200a91af4736a34746b138c3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Apr 17 10:26:23 2011 +0200

    . not supported by now

commit a554fbbb1a987ebc00868e147b72cd9296a0cca4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Apr 17 10:08:46 2011 +0200

    Fix ad mv

commit 27b677b5b3365cce1dc78723852ac69768f1617b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Apr 16 21:39:32 2011 +0200

    Fix ad rm

commit d0ae14838dab9c5f723f3a3a1825b1ec6b5c6c3e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Apr 16 19:50:29 2011 +0200

    Fix -f

commit 06b7f576daa4a127964febf210869f4729235dc3
Merge: abe2e8f8 6fb54052
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Apr 16 16:42:16 2011 +0200

    Fix merge conflict

commit abe2e8f803429c7349dff2486e36c6e0e3859448
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Apr 16 16:36:57 2011 +0200

    Log message

commit 6fb54052721880f8ee01aeee820c329dcf4d5963
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Apr 16 16:12:46 2011 +0200

    Locking was still not right, oh my

commit 5825df1c826101269dccd558ac9ac85c0dcd4e36
Merge: 6f2cdbbc 85db46c7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Apr 16 11:57:26 2011 +0200

    Merge branch 2-1

commit 85db46c7b9519df030c43608a06d8d30175b78e4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Apr 16 11:54:03 2011 +0200

    Fix lock

commit 6f2cdbbc7b3cf66adc0477903caa4951dc812e6f
Merge: 3815df69 7756f5de
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 15 21:38:38 2011 +0200

    Fixes

commit 7756f5deb63a149ffdc31c171abe1804ac6b0b93
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 15 21:35:23 2011 +0200

    fix cache size

commit 3815df691518846b035effeb798677655f74e3e6
Merge: c768fee0 42fea367
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 15 21:29:22 2011 +0200

    Merge from branch 2-1

commit 42fea367dbab996f9700735854249349ebcc863e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 15 21:09:02 2011 +0200

    Fixes for new rebuild db

commit c768fee001685094768c2b024a4afdb2be2cbafe
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 15 15:35:14 2011 +0200

    Further fix previous branch 2-1 merge

commit d9e881c56632803d4b2f97f17c219d38dcb537f3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 15 14:49:13 2011 +0200

    log messages

commit 7bd4f56a74640dfd6f6b2dad6df7aaaeb1440730
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 15 14:29:03 2011 +0200

    Fix merge error

commit 630e099b8bcd83186cf6df8290d0856f9e801c4f
Merge: bf45328c 35ac050e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 15 14:26:43 2011 +0200

    Merge branch 2-1

commit 35ac050e539f0aadd62bcf2aa5cd28387a2cdcfc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 15 14:21:09 2011 +0200

    on disk rebuild db

commit bf45328c00918eaf892468727cb573c6b5b2edf1
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Apr 14 23:21:25 2011 +0900

    errorlog if volname is duplicated

commit 2c9a1f08209564c8bb0d9c57e1ff0369034d824b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Apr 12 13:00:08 2011 +0200

    Prevent duplicate dircache entries

commit 5393886d94ec025154b46563df7fbf179abb81c4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Apr 12 11:28:05 2011 +0200

    remove dir locking, therfor convert catsearch to use paths instead of struct dir in stack

commit 1ec733ec8d00c8c995c3270e38964bc189f1fbec
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Apr 9 01:26:53 2011 +0900

    case-conversion slightly faster

commit e0dbcd21f00deb4c83923739388cc451946171ff
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Apr 8 22:47:33 2011 +0900

    case-conversion is based on Unicode 6.0.0 (BUG: not support surrogate pair yet)

commit 32dda56a09218961f8675a7a4638b9b56ada9ac6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 8 12:32:09 2011 +0200

    Correct afp logout vs dsi eof behaviour

commit 6c6dbff20ca8b5e3ff241c4c4387d16a2b6e0a4e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 7 10:17:29 2011 +0200

    add bdb 5.1

commit 817e938db2909e90811f4e03ed8192dfbd405ca1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Apr 4 14:17:48 2011 +0200

    Link in @LIBGCRYPT_LIBS@, ensuring the right lib gets loaded in the UAM in case another lib (eg ldap) links with it

commit ef478b9a086275bdac089a275777a03d0f019395
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Apr 4 08:37:10 2011 +0200

    Fix tests

commit 50799022f72713a81da00e9ce21a56b4efce1edd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Apr 4 07:28:50 2011 +0200

    Import manpages from XML sources

commit 44471507ef33fba7b5e278b04fb28b8b710424e9
Merge: bbc8c6fc 92300521
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Apr 4 07:12:10 2011 +0200

    Merge branch 'master' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk

commit bbc8c6fc07300223464f89da36c0f03493c68a89
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Apr 4 07:11:46 2011 +0200

    Fix option nozeroconf, update NEWS

commit 923005213b0684a164ed506bfff081990690c85c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Apr 2 16:26:51 2011 +0200

    Always send sleeptime in hours

commit eb7b72048178c41b0361742d9d3fd3649425a027
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 1 20:14:03 2011 +0200

    Fix extended sleep

commit 0aea55d0d4f191e878ae02167fd4f1dd8a0e2f77
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 1 17:38:33 2011 +0200

    Fix handling of currentdir

commit e2271d19d8e24e64426b5b1db11a3754b6b4ca88
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 1 17:38:15 2011 +0200

    Dont panic

commit ef25b4acfc5daa2f0ee7f1e17ee2d7d1a7f0d159
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 1 14:17:09 2011 +0200

    Decrease read/write chunks to 8192 again, new option dsireadbuf

commit b19a31274d14b7904d516cf4db7f92ec62513e40
Merge: 27054264 11eb375e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 1 10:01:05 2011 +0200

    Merge branch 'master' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk

commit 11eb375efb7efec81a6c0f8647aafc82820f79c8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Apr 1 07:04:46 2011 +0200

    Fix possible bogus free

commit 270542640bd5200cf9303d9bbd407429384abf8d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Mar 31 10:17:57 2011 +0200

    Indent and better logging

commit 9c9da9be9d3524dc00b9fbd1737dddd1356685c9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 30 19:03:53 2011 +0200

    logout is not disconnect

commit 7a25086d681434bc27df566936fed7ffdfaa34d1
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Mar 30 22:02:33 2011 +0900

    new manpage afpldaptest(1)

commit 1e4dbc8ffea5941c9573f5b272341001112c4d67
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 30 14:53:44 2011 +0200

    Adjust loglevel

commit 1581ccbe13546bfc8dd23b889995f61c45a4a924
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 30 14:25:18 2011 +0200

    Convert DSI to nonblocking

commit 8208cf8bbc5fe3b91f68b67e1a052f82a1d9a89c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 30 13:29:20 2011 +0200

    Fix logtypes

commit ee1718508b97d4904e60ae0c0362704f775ed7fd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 30 10:13:25 2011 +0200

    Fix logtype

commit e8dbdb76fa19353798b9344a4d5eaea5d5ce315a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 29 13:35:04 2011 +0200

    Fix log message

commit 3b9e9aa196ae6b8a189a6d64afe8d43da32ba0c4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 29 10:46:01 2011 +0200

    Only change TCP snd/rcv buffer if option is set

commit c3e37ba9bf282849a8eb4f3be9ce1fb57a7f0c0f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 28 22:03:23 2011 +0200

    New afpd.conf options tcprcvbuf and tcpsndbuf

commit 882cbaec0381195989bc330eb8876af20a6d50b4
Merge: ba01b7ea ff3a9122
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 25 17:06:53 2011 +0100

    Merge branch 'master' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk

commit ff3a91220e07e3e53dce83285c69368912ce70f4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 25 17:07:31 2011 +0100

    Protect dircache from duplicates

commit d6153a469131c499a87f51ddff125b62cde20094
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 25 15:43:07 2011 +0100

    Changed cnid dbd API

commit 2a9ad1e442abbd77fc6965c8010bed775305898d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 25 14:50:08 2011 +0100

    Fix

commit ba01b7ea6ad0e1fc6aa36818630e05fac9890b8e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 25 14:27:41 2011 +0100

    Increase cache

commit e9db4d5f7bdd8f1972ec4dd83e1c5fd9c912f911
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 25 13:51:26 2011 +0100

    Wrong name

commit 017020eee1fcf3666b07e6900fcbcbd3f1281437
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 25 13:47:23 2011 +0100

    Update did for moved stuff

commit f1b915439efef197e01392aa2b4e5439d8e268ff
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 23 16:26:38 2011 +0100

    Fix ACL permission mapping

commit 59c6ab52684eaeb5915d21c795f4796a72a8160e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 23 14:19:09 2011 +0100

    Fix another error in moveandrename introduce probably because the *at func cleanup enabled the *at code for the first time

commit 2830bcab301d9f9becf4ad38d3fd90e1ef6752fe
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 23 12:52:03 2011 +0100

    Fix moveandrename error

commit e5104894063c466420b886858c9b4cdfd1732fd5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 23 08:25:31 2011 +0100

    Need beta4, damn

commit 0453e24a353d01918ac0cb5db380c290353d7a1e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 23 08:15:51 2011 +0100

    Mising flush, damn

commit 35420af35a2277ab56d9b2f96a65cee3c87b54e3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 22 17:06:04 2011 +0100

    Registered bonjour name probably should not be in a static buffer, so allocate and refernce it

commit aee79419108e894d550bdb47bfcb84d6d0ea4520
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 21 15:30:07 2011 +0100

    Fix for DHX2 prime and generator crash

commit d52454015072ba8f9e8118b65789aed4c622fa62
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 21 14:53:19 2011 +0100

    Lock volume files while reading them

commit ecfab1b3fab65c20aa0c9dd53246122322220ef4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 21 14:07:27 2011 +0100

    Dont name version 2.2rc1, stay with beta3 for now

commit bcd21e5ad2ea1cef8428a1f36591723465e3e059
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 21 14:06:01 2011 +0100

    Update NEWS

commit 84b396e0e5cdf8f321d9059da8d4b5a7c92315df
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 21 13:48:34 2011 +0100

    Disable ad binaries if at funcs aren't available, nftw needs openat

commit 30a6bc0fb1080d4d6da626a59a2f44359fe68886
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 21 13:08:39 2011 +0100

    Better at funcs detection

commit 5caf0f02f6022d70fcf468c5709eeceb5c22f88d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 21 12:29:20 2011 +0100

    Make at-funcs detection more robust

commit aa4f9cc67209bfef4173a18a239d5fe2d541ed5e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 21 08:09:53 2011 +0100

    generate mersenne primes at startup

commit 9fa9b46673d78ce08952183a74dd8103436e5e76
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 21 07:41:54 2011 +0100

    Untabify and reindent

commit c16a1392f5095b4f28d5a045ad65f5f467a74fe5
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Mon Mar 14 01:01:17 2011 +0900

    new manpage: afp_voluuid.conf

commit 9f6db158010e98acfeb38f4be3e19846197d8f47
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Mar 10 22:56:19 2011 +0900

    asip-status.pl: small fix
    strictly handle a port number.
    not display icon if it doesn't exist.

commit 3b7c328989f6cf4bf627e433226430cd0aba5e6d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Mar 10 14:22:19 2011 +0100

    Some funcs need only be static

commit c9882a2e4237ed0128318170df19beec41d9ae69
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Mar 10 08:42:16 2011 +0100

    Freshly generated manpages from XML sources

commit 95f2aadbc16a66b1a73390c5e804470ce8a6cd3d
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Mar 9 19:46:56 2011 +0900

    volume uuid was empty when starting for the first time

commit 3e82c2487f51d125a7fc4860eb453501e2942bfb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 9 09:59:22 2011 +0100

    Update news

commit db0d88c59bdd428d33a05e06e49fbd8b75c5fac9
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Mar 9 02:25:09 2011 +0900

    logtype is wrong, again...   at master

commit 954f1435c53be3c861e662d9a6699227c612de57
Merge: 8ea9eaad b531dae6
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Mar 9 02:18:43 2011 +0900

    Merge remote-tracking branch 'remotes/origin/branch-netatalk-2-1'

commit b531dae60cf28084ed7c687748e1a13e779eeb08
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Mar 9 02:07:22 2011 +0900

    logtype is wrong

commit 8ea9eaad323ec8ea180ffc277cd409d713a5895f
Merge: 843cf5d1 6c285a04
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Mar 9 01:49:33 2011 +0900

    afpd.conf.tmpl: Merge remote-tracking branch 'remotes/origin/branch-netatalk-2-1'

commit 6c285a04216bc0081f0906083df712260e61056b
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Mar 9 01:42:36 2011 +0900

    afpd.conf.tmpl: small fix
    disable AppleTalk by default
    nobody knows newline escape
    tab char be should be used

commit 843cf5d12594598bf65cd6d71e12a7f277a91828
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 8 16:53:54 2011 +0100

    Dont disconnect sessions if boottimes dont match

commit 9355ebcc5744bbd445a0c8cb8b0a0ca201d5499a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 8 12:20:00 2011 +0100

    Fix idle connection disconnects

commit 563bba1016f69ceec92926f2c4203733dc112909
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Mar 7 10:08:05 2011 +0100

    Portability fix

commit 008288c16ec1a2745affa746e901ce6124477bdb
Merge: 02085e5e 840295b6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Mar 6 16:02:23 2011 +0100

    Merge branch 'master' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk

commit 02085e5e069b2f0c49a1dbf45bb2538cac993545
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Mar 6 16:01:51 2011 +0100

    Fix option volsizelimit an prepare 2.2 release

commit 840295b66c50077fd34d1a03073b765ab5647de9
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Mar 5 03:14:41 2011 +0900

    replace 255 with UTF8FILELEN_EARLY

commit 5927156063698bddff7f4bd01087c63d09caaf0c
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Mar 5 00:22:39 2011 +0900

    max length of UTF8-MAC filename is 255

commit c17e11bab3e44f7790c3fc719b3e3823df5896c8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Mar 4 11:09:59 2011 +0100

    Add misssing prototype

commit 871105545b6c98e80c0b3b1db338ea3e4f527f77
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Mar 3 07:26:47 2011 +0100

    exchange module operators

commit 85a8591621dc4c47417402a24df31e40bd7cae15
Merge: 7ebc923c 3b7c4536
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 2 11:35:41 2011 +0100

    Merge 2-1

commit 3b7c45369f13acdc947e506c45cbf8aba46b03ec
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 2 11:32:21 2011 +0100

    Revert change from 3194183

commit 7ebc923cb1aa6aaded41a5cf7467e01739908e31
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 2 10:56:53 2011 +0100

    Fix fd leak

commit 18964cebf514f78defd3df1cfed91e34d99cfa28
Merge: dc2cc97f b9da512a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 2 10:22:17 2011 +0100

    Merge 2-1

commit b9da512a49acedb97d27efd952e281006f9c9e91
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 2 10:14:37 2011 +0100

    Fix for PR3194285

commit 2cdc6507a1e14cd57ede744119fc2a968cc20201
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Mar 2 09:54:29 2011 +0100

    Fix for PR3194183

commit dc2cc97f6b11c7707ee255ddb104b296dd6c3e63
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 1 12:24:35 2011 +0100

    Remove in_handler protection, we're blocking signals anyway, its also causing problems because were using sigterm with primary reconnect

commit a3c20de7ac06ef84f06ff0523ebd7742f24fbb17
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 1 11:57:09 2011 +0100

    Fix

commit 327257d3290c7a2723791c9b755a5b05a6b7ce74
Merge: da476d7c 8ae15a83
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 1 11:45:08 2011 +0100

    Merge branch 'master' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk

commit da476d7c07376591613486f37e698cb894ac944b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Mar 1 11:44:36 2011 +0100

    FPzzz tests work again

commit b3a45592aba87abcc9c6e019746e027399f5850b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Feb 28 17:12:14 2011 +0100

    test224 works

commit 8ae15a83dc6c7a0251a8357d43481b833f9a1e63
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Feb 27 10:28:52 2011 +0100

    Portability fixes

commit 6dc7d1ff6d861468a7f0779dfcf2a16c53385805
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Feb 23 10:40:58 2011 +0100

    Disconnected state duration is 10 h

commit 3bba3fd737937b3975ae720b3d2710910214ec80
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Feb 23 10:40:32 2011 +0100

    Fix comparison

commit db5785a3091f93775742a41afa64703d5fbcf994
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Feb 21 12:24:41 2011 +0100

    Rev version

commit 4d2c9767c000efb097b2ca7ac48b323ed877b2d5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Feb 21 12:24:10 2011 +0100

    Close reconnect socket in afpd master

commit 37a4de6ca20d002c5d9510e3358d2f17f71ad5f3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Feb 21 12:07:19 2011 +0100

    Endless fiddling to find out that dsi->datalen had to be set to 0 in SIGURG handler

commit d58499071b03dfcb10c81a0996d34e5611c37b6f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Feb 18 13:55:01 2011 +0100

    Add AFP 3.3 case

commit f83b693bdc562adad0b8ddb538a0ab500c159fef
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Feb 18 12:19:06 2011 +0100

    Cant disable AFP3x anymore

commit 09e16852a8f2113ccd276a05f191e97187675668
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Feb 18 11:44:55 2011 +0100

    Handling of connection problems when sending replies

commit 181e8305cdc7c058e674046650b4da8769bc5e46
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Feb 17 17:07:19 2011 +0100

    Better handling of connection errors and disconnect state

commit f89a21e47ebdeecc8867a4556628a3d54b66cc7b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Feb 15 16:35:55 2011 +0100

    AFP replay cache, first shot

commit d28f176330075b2789ce4d50a64fc3fe5d6bbe9b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Feb 15 12:27:13 2011 +0100

    Primary reconnect

commit 64c01c136e708085840814c92ff7cf829a794317
Merge: 55c0d6d7 e671cdc2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Feb 8 20:27:33 2011 +0100

    Use function from 2-1 for local uuid generation

commit 55c0d6d753dc022689616dedf38523e8388d4fd2
Merge: aea0dd66 5f2e07db
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Feb 8 20:11:48 2011 +0100

    Merge

commit e671cdc26165d0f87a24c382dbed1a3c19230caf
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Feb 8 17:03:46 2011 +0100

    Fix for not shown ACLs for when filesyem uid or gid couldn't be resolved because (eg deleted users/groups)

commit 5f2e07db4449283e57f0faa549455d73994258db
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Jan 22 21:26:58 2011 +0900

    max length of UTF8-MAC filename is 255
    this is spec of netatalk 2.1.*

commit aea0dd669334a8e576f6fda99a4aef2852a7bcb2
Merge: c3c67da7 82ff036e
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Jan 22 21:14:35 2011 +0900

    Merge branch 'branch-netatalk-2-1'

commit 82ff036e8081d62a963d8f533389bf308b4f56ac
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Jan 22 21:13:27 2011 +0900

    AppleDouble buffer overrun by extremely long filename

commit c3c67da7dd97fda184487b097900bc04c7949a4f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jan 20 09:50:11 2011 +0100

    Better version checking and more logging

commit f7b39f196fd9a4e38e95100390a23b60f5680f23
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jan 18 17:15:55 2011 +0100

    Commit rootinfo key txn and open dbenv with path not just .

commit bb18f4d45a9760f2daee860e71c80578bddf4712
Merge: 599f031c 9f38ef32
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jan 18 10:58:43 2011 +0100

    Merge 2-1

commit 9f38ef32cc5dfc9e83c005316fef8c0b2cbe04e6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jan 18 10:54:31 2011 +0100

    Fix possible uninitialized useds

commit 599f031cd764f916784e220f4464d25862f3c285
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jan 16 23:40:51 2011 +0900

    update NEWS

commit ac18bd634e3a9f7153a2eb489281452effa8bfa8
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jan 16 23:07:45 2011 +0900

    gentoo: rc-update install don't hook in the Makefile.am, from Frank Lahm, proposed by Mike Frysinger

commit 5d553a87713c1f9568a9bb6b4a942bbec3802ad2
Merge: 09b33f68 0ea5836b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jan 16 09:36:31 2011 +0100

    Merge from 2-1

commit 0ea5836b9a308f67c311482e0e48ddfeda7a2514
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jan 16 09:34:34 2011 +0100

    configure failed to enable DDP module on Solaris

commit 09b33f6826cd352f155e42368dd1cdaacfdc4975
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Jan 14 20:48:12 2011 +0900

    all initscript name are "netatalk", not "atalk"
    gentoo: renamed because I confirmed to packager; Mike Frysinger
    suse, cobalt, tru64: renamed at my discretion because packager is not found
    redhat, solaris, debian: already renamed
    netbsd: excepted

commit ff3b4646472add7902b0d36dd1a941ec1a54e999
Merge: 3a7b8c40 ec3fb821
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jan 12 16:42:53 2011 +0100

    Merge branch-2-1

commit ec3fb8214e130311c2ac5481b9c61ba15fdc1ed8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jan 12 16:41:32 2011 +0100

    Enhanced machine type

commit 3a7b8c4030cb310414f5e755de3639a49bd69abc
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Jan 12 20:56:14 2011 +0900

    small small fix. Hmmmmmm......

commit cb7a44b49052d61e2b6b841bba80333539b16da3
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Jan 12 01:44:43 2011 +0900

    small fix. Hmmm...

commit 72e2623a266b53689f667f6b5af5d1a0eb241be3
Merge: 507a8e47 a7e7b923
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Jan 12 01:35:57 2011 +0900

    Merge branch 'branch-netatalk-2-1'

commit 507a8e4711b55358da06a8167118ea2daf5ec386
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Jan 12 01:35:09 2011 +0900

    sysv and debian initscript: compatibility with old netatalk.conf

commit a7e7b923bacabbe0d151fe0fce3de9258973172c
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Jan 12 01:19:35 2011 +0900

    Ubuntu's ATALK_NAME was empty (moved up from 2.2)

commit 4209e62c0346332dfe05efaec90f219abf1266e5
Merge: ab1a9b68 251d2269
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue Jan 11 23:25:45 2011 +0900

    Merge branch 'branch-netatalk-2-1'

commit ab1a9b6884a935cc12e51858090cc80ca3735382
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue Jan 11 23:23:30 2011 +0900

    merge from branch-netatalk-2-1

commit 251d22694df176920cac1e0e4d94cba96c52eace
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue Jan 11 22:58:17 2011 +0900

    gentoo: cannot set $CNID_CONFIG, from Csacsa
    In case of Gentoo's initscript, the "--" after the --exec means parameter.

commit ede3b563e612db2aa38420a9fa4f0b51bfa46f76
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jan 8 22:12:00 2011 +0100

    Rev version

commit ff0d8a29c8830b015c5e012f75d4dce1af702caf
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jan 9 02:40:04 2011 +0900

    update NEWS

commit 7f9fdfa28c00b0d5fa37f81af35fd0a8110dcbdf
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jan 9 02:25:09 2011 +0900

    maintenance of initscripts and netatalk.conf.
    ATALK_BGROUND is not important any longer.
    Ubuntu's ATALK_NAME was empty.

commit ffd50caa895e01aed02dcf0543700488463c3a2b
Merge: 33cc081f 52feacf6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jan 8 12:23:22 2011 +0100

    Merge 2-1

commit 52feacf68920a58cc577dcbf8adcda378f4e1b91
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jan 8 11:51:05 2011 +0100

    Fix for LDAP user cache corruption

commit 0c7fe7c340f932d3498991ac0322c1ac2fe3bade
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jan 8 11:36:00 2011 +0100

    Rev version

commit 33cc081ff8d3327b313b56d149f2fa74a72d73af
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Jan 8 02:48:54 2011 +0900

    netatalk.conf: sort by service

commit ec91f5bdcdcabcbdf380e87979f08d6427372736
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Jan 8 01:24:08 2011 +0900

    more detailed afpd -v

commit 697fd42d0a69bfac7da251f3e6e63d0fe210b409
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Jan 7 01:57:14 2011 +0900

    update NEWS

commit 27e6e84ca19b6def0c7cf97aedcfde6020007ad8
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Jan 7 01:42:56 2011 +0900

    more simple hangul variable name

commit 6815f8ba1a1a7f46fc3855d4f942f2bd28f25539
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Dec 25 17:32:58 2010 +0900

    move macros from util_unistr.c to precompose.h

commit f3ffd27311eb88d53f6b07a39ecb96d4811e3977
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Dec 22 20:20:36 2010 +0900

    composition of surrogate pair

commit 381bdbb4d06e6a9050050c7351264656f6a5a8df
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Dec 22 19:51:54 2010 +0900

    indent

commit ef5718bd2a273861b47f36419750a332316d358e
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Wed Dec 22 18:33:24 2010 +0900

    Surrogate Pair hi/lo is reversed.

commit d5c5f4d611696bad428af404a16f03efea0d8cbb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 21 11:18:00 2010 +0100

    Rev version to 2.1.5

commit 109db7f9762d640f93a5dc8dc500d3563266c612
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 21 10:33:19 2010 +0100

    Prevent uninitialized use which caused a crash in make distcheck

commit 8f36f8a6828585be09cc3aab9d157dafeffd5fa6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Dec 15 12:26:23 2010 +0100

    Rewrite getversion, so it doesnt try to write to the db

commit 59c023b4449937b81c0d993a0318977a7876c0d5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Dec 15 11:33:15 2010 +0100

    Remove unused externs

commit ab2c0e351616742763f3d5f83c262d1794490a49
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 14 17:25:09 2010 +0100

    Who uses global struct volinfo

commit f4753a76a913c64fb6cdeb480564777e35c14e37
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 14 17:23:28 2010 +0100

    Dont getversion, which triggers setversion, when reindexing

commit 817296d6b8c8ef1fa55c6c73ae00de317bd09ec8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 14 17:22:23 2010 +0100

    Who uses global struct volinfo

commit c21add5d067cc939075149da58bb33214e0f55da
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 14 17:20:42 2010 +0100

    Use static buffer stupid

commit 21174ff98e55ee8a8622bcd9be054340e9a50a3d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 14 17:01:35 2010 +0100

    Rename symbol

commit 30ff2a8e84031579e853c7996867f59f13173a8e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Dec 10 11:18:56 2010 +0100

    Adjust loglevel

commit 72635aab23c7bca98608d85e46b556093af0e843
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Dec 10 11:03:52 2010 +0100

    Better handling of corrupt secondary indexes

commit 4f58f95f3b725a11a91f7a72487aa2aad46a6e3a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Dec 10 10:05:56 2010 +0100

    Update NEWS

commit f5e21bffff5d4772a896a2159c2592c4ed1911e8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Dec 10 10:01:45 2010 +0100

    Update manpage from xml

commit 5d0296cf678ce167a32663c9aa05a21881ff78b2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Dec 9 16:50:12 2010 +0100

    Dont read db_param in cnid_metad and use volinfo with refcounting

commit 5973c480df80c1f50fe818f23535e7efbbb6b548
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Dec 8 17:09:19 2010 +0100

    strip slashed from volume path in volinfo

commit 09aff9fc38a409b16418435630b98c66f1633243
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Dec 8 17:09:00 2010 +0100

    LOG when a db is locked

commit 769c42132669a220afdd0410ac0c962eb63e03a0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Dec 8 16:42:27 2010 +0100

    Support for caseless search

commit f84fb3f3945f642bf2ccd7d6d55ec74f98611495
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Dec 8 16:22:43 2010 +0100

    Move stamp code to setversion, dbd fixes, ad fixes

commit 4bf8450cbe7199328e192a3e8a625a6807b3a7b9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Dec 8 08:26:58 2010 +0100

    Create dbpath if not existent

commit 429ef1665583ddd5b9826c010b276defab72139c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 7 20:05:23 2010 +0100

    Use volpath instead of dbdir, read dbdir from volinfo

commit e2bfa3af4bda19cc324c1a3f0df395eee168c90c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 7 17:02:05 2010 +0100

    Case-insensitive name search with the CNID db

commit e3640bf7f70a13be18cb6f272e0685546e92fd23
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 7 15:04:01 2010 +0100

    cbd and dbd differ

commit 6c290882f8f4470a0c63c8b2deac102fe5cb1a25
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 7 12:08:20 2010 +0100

    New volume option searchdb which enables fast CNID db dbd name search

commit bf7b29087105d2208eae6fc960c3fdefca79f236
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 7 11:47:39 2010 +0100

    Next alpha versino

commit 7561f97873c188795a05a3a2c4b61f19fecbbaa5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 7 11:14:09 2010 +0100

    Revert searchtype option from afpd.conf, will be readded for volumes

commit fda1c81a56308833be6620454eced1e444e15f8c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Dec 7 11:12:04 2010 +0100

    Revert searchtype option, will be moved to AppleVolumse.default

commit 480b7d7ac0d1fb4f6f16c03f95d11dba2c80945f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Dec 6 17:39:18 2010 +0100

    Update manpages from XML sources

commit 4462b9770815c65cd56ee9220eff080cd270abc0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Dec 6 17:18:47 2010 +0100

    Add afpd.conf option -searchtype with arg db

commit 50e38118b9679788f29901b90c450018bbe2d49e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Dec 6 16:58:31 2010 +0100

    include cleanup

commit 5743dc7bc2a4dca6f8cc741997036dbc16790619
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Dec 6 16:57:36 2010 +0100

    include cleanup

commit 088f8c044eae0a2e77576ae09bc9cf93e3deb08b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Dec 6 13:05:08 2010 +0100

    Remove dependency on libuuid, use own code

commit 4be63069fe2ab54e9ced6cce8ef51058bfad2e91
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 30 10:10:11 2010 +0100

    Shorter NEWS

commit 202d33fdba930579e5416ce13dbec905f6d67582
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 24 16:07:17 2010 +0100

    Search for UNIX name, not for UCS2 name which caused all searches to be for the first letter only

commit a366e101b03d7143654d76809c118642e28adf50
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 24 14:39:28 2010 +0100

    Move freeing of invalidated struct dirs to a central func using a queue

commit 590560e5583193c83da8ddf66886363eb8583efd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 24 11:09:45 2010 +0100

    Abort search on partial match

commit 569df867b6e3b300ded69fb7e991c8ee637f329f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 24 10:10:04 2010 +0100

    Better error handling in case of bogus CNIDs

commit d5535ac1473e11a6dd01fdc487cce2c0761c77d0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 24 09:55:31 2010 +0100

    Better error handling in case of bogus CNIDs

commit 751255d7dfc36038bd302d7335ea5d0228b4fe0c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 24 09:52:10 2010 +0100

    Increase maxlocks and maxlockobjs and make them configurable

commit b756a61000fadbe4bcf82cba6b26dc5d7d87a715
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 23 17:01:47 2010 +0100

    Update news

commit e9c194e540c8e5c364f1c27ee941ea0109bb8595
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 23 17:00:06 2010 +0100

    Update news and version

commit 56b180541894127ea4a2ac37471da7f74a0e3a9e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 23 16:49:06 2010 +0100

    afp_catseaching the new database

commit 71ec4b597b051519868286079eb4a27bbb1e0315
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 22 17:14:44 2010 +0100

    Version check for CNID db version

commit 0d0481713f2a145802f8afc86750b58f10174fd4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 22 14:30:12 2010 +0100

    database versioning

commit 20b0123400645ea91c2c7341b31770f0fd7b242d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Nov 21 16:46:55 2010 +0100

    Read last used CNID once from db, not every time

commit f8e0c01319d2f9324b5cf4e1ce90f37090573041
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 19 22:27:07 2010 +0100

    No match found handling

commit 2829ca2f3c742622df630e2be7e0cf4925235261
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 19 17:43:45 2010 +0100

    Use volume from -v or cwd

commit fd0dd14f49110de0e545e60339f8b934cfacfdf8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 19 17:24:51 2010 +0100

    ad find works

commit 2491b79180cd99e246d034999b3a6e84966587fa
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 19 11:25:53 2010 +0100

    It works

commit 5f5e2a24b880fd895aaa8ef1f7429ad91067253f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Nov 19 09:51:46 2010 +0100

    ad find

commit a0bfda0f257a80bab2b88bdabdcabe9ef0548aad
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 18 18:09:08 2010 +0100

    Always add create flag to name index associatino (a hack)

commit 5bf6ca8ebff67b5df7f3c032f02d58c033c8ede5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 18 17:31:12 2010 +0100

    Return cnids

commit f58864b90adb9db79889e6b32ed19415e2fa4189
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 18 15:03:46 2010 +0100

    Previous commit missed new file

commit d59d3aabf2ea197f4069a0362dd7a437b98eb12a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Nov 18 15:03:09 2010 +0100

    Additional CNID db name index

commit 99080678c43ac3ebf2076598884a3e472697fe6b
Merge: 08ddd991 2dc556b6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 17 11:18:11 2010 +0100

    Merge branch-2-1

commit 2dc556b6a990726f989e31537346106fba7506ce
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 17 11:15:55 2010 +0100

    Update NEWS

commit 4f8bf48615584f35f99b4a9f1b6ddb3e246420b2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 17 10:39:16 2010 +0100

    Missed to convert another read to readt

commit 08ddd9918a95f95be2b32e095a3cddde47055f60
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 16 17:41:46 2010 +0100

    Another fix for ACL and symlinks

commit ea69ab373272be653573c37b2b22d48d1e7ac794
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 16 17:20:00 2010 +0100

    Handle symlinks

commit beb5138cb6ad0f33d45c28f29b1f9eeb6b47507b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 16 16:01:16 2010 +0100

    Fixes

commit df4786e567fddb4b238f658d43e2662f488f73ba
Merge: e83a5199 f278187c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 16 15:25:00 2010 +0100

    Merge from branch-2-1

commit f278187c469aab5cf7e931e55bee2bc7f03b42f6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 16 15:23:15 2010 +0100

    call readt with ONE_DELAY = 5 s

commit 923dbe525b6ff528f782fcd06f23075e65ede859
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 16 13:37:30 2010 +0100

    Return -1 from readt on read or select error and 0 bytes read

commit 9b36137f26f1b669b56add7183f230da08fb0008
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 16 12:00:39 2010 +0100

    Fixes for nonblocking socket io

commit e83a5199e4f35ceea335dc3075b23e8d983e7642
Merge: 2eabafdb e15fadbc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 16 11:15:32 2010 +0100

    Merge branch-2-1

commit e15fadbce86d21198c93f9c506f8b28743f3582e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 15 19:19:57 2010 +0100

    ms, not us stupid

commit 8c3e7b620aeb8f7283a2c4868d769c42d4be072e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 15 16:29:51 2010 +0100

    Reset fdsets in select loop

commit 824b626583d392b1af75f9f191f336cd1964da4e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 15 15:42:50 2010 +0100

    Really select as long as requested in readt when EINTR

commit 25c190599c010773d5738dd8c6b696c9b59a56f3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 15 12:19:53 2010 +0100

    Backport complete SO_SND/RCV-TIMEOUT removal from 2.2

commit d38502a3a8eb80b2943af710a3ef5811a519bb19
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Nov 13 12:39:42 2010 +0100

    Solaris 10 still hasnt got ace inherited flag

commit 2eabafdb080ea24c1ba7b2caec8c15d9a2e4e951
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Nov 12 01:15:01 2010 +0900

    update NEWS

commit 60299358483cb42861b6d70ff5e5be7ab240b26c
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Nov 12 01:10:35 2010 +0900

    fix typo

commit 5fad41c742dcacf6dc2bf4388e1e96fde53d0dfd
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri Nov 12 00:45:17 2010 +0900

    Debian's initscript: Any daemon did not run if atalkd doesn't exist.

commit b31a12f311cea4c63dcda4ca4199988bc15f3490
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 10 12:47:12 2010 +0100

    Decouple struct ofork from struct dir, replace ofork.of_dir with ofork.of_did which can be used with dirlookup to get the struct dir

commit e26eadd53a3c6c871ee0dd80371f7d0493f16218
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 10 11:54:13 2010 +0100

    Update NEWS

commit 95542faaf08a3f8ed35ed1046d1dd721ac6f79e4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 10 11:52:05 2010 +0100

    Rev version

commit 0a2155945f71509532c2b334b38ca0d9546622ab
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 10 11:51:26 2010 +0100

    Ensure the afpd master calls createvol and thus creates afp_voluuid.conf as necessary

commit 58119f2964433af059f8ad6b6e292d93b876d750
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Nov 10 10:20:34 2010 +0100

    Adjust logging

commit 2f14ed94834cb3b39fc138919105124c73e029e4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 9 13:50:16 2010 +0100

    Avoid unneccessary getpwuid call, the uid is available in auth.c:uuid

commit df209f7d49e090fce1591d7abc9ac342d5426d9d
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Tue Nov 9 01:17:53 2010 +0900

    RedHat's initscript: Any daemon did not run if atalkd doesn't exist.

commit 5a9e4ebb3f7a9bf139ccea32488ed77065e2a227
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 8 14:43:41 2010 +0100

    Add EA, LDAP and ACL option status to afpd -V output

commit e50887a876786e5cd0185ef5e42ddfdd4da63d69
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 8 13:48:07 2010 +0100

    Ensure Appletalk manpages and config files are distributed

commit 6657aae551a31394ad513b09625c10128b7a9822
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 8 11:32:11 2010 +0100

    Rev version, fix compilation error when ACL support is not available

commit 18d23bab534304a22abb8b3cfa1d85d21527a64e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 2 10:12:56 2010 +0100

    Use 2.2alpha1 as NEWS headline

commit 2f5b128e60509545a72df25629e1b8c93918f64d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 2 10:10:45 2010 +0100

    Move logging of dircache stats to dsi_close and reload request

commit 1bd9a100f7f4f761c8d0894816a692bdd5510769
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Nov 2 07:40:40 2010 +0100

    Missing include

commit d0c1a25918359c9b9889b90c1a63b60517be4297
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 1 21:11:56 2010 +0100

    Fix check

commit 97c8c5059e6b0e31c671cf28f0f398a497338dea
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 1 21:01:24 2010 +0100

    Fix test

commit e8c721144fccc0a023b0de107f8bf585caf9ebe7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 1 20:58:23 2010 +0100

    Remove stuff

commit de7b34268ad9a834c6b3a79fa5339f2bf596f6ba
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 1 20:54:55 2010 +0100

    Remove ICDumpSuffixMap

commit 9fd1f19752b34795197b851934d16e911fd285c0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 1 20:54:18 2010 +0100

    Remove TODO

commit c27da5ec4487778eb8c60cd52d480a97b099cbdc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 1 17:31:43 2010 +0100

    Enhance dircache robustness, dircache statistics logged in SIGALARM

commit 73dda2af9aad37d42e79983693257d8488f66552
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 1 08:12:40 2010 +0100

    Document dircachesize option

commit 7a052fe57c9da673f8a25a95e22d98cb88e273bf
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Nov 1 07:52:05 2010 +0100

    Dynamic ACL support detection

commit 7004a02ef9e238a40e0b13f8718213e3d5348e6d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Oct 31 12:30:38 2010 +0100

    Remove acl option, it's now set automatically

commit a1e1fa5105ff974ee3eaf9532797e54cc6211025
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Oct 31 12:28:11 2010 +0100

    Remove acl option, it's now set automatically

commit 067675ac08bc0b224d1507ecc439d7209ffb5cb5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Oct 31 11:21:28 2010 +0100

    Fix Posix ACL mapping, various changes for transparent ACL support

commit 168f7dcf65791d16b89055370d78ac23f04570a2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 30 17:24:28 2010 +0200

    Update acl/ldap defines part 2

commit cf6c61b0bf260e5e05f9348f0cd61c2cb6297e88
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 30 13:08:00 2010 +0200

    Update acl/ldap defines

commit b4b8297678f13581932838509700b311daef0c07
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 30 12:16:13 2010 +0200

    Support for local UUIDs

commit a1a8f5edb98aca0e4de698a3c9a697944756fcfe
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 29 18:49:52 2010 +0200

    Files in the cache have no fullpath

commit 3bce424aae54f0b891ac968f86aaaf5e5c9990fb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 29 18:48:32 2010 +0200

    Doc fixes.

commit 7566495e5aeeafdd063a324b483793e8d4e443c4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 29 14:34:18 2010 +0200

    Convert uuid_bin2string to not allocate but return pointer to static string

commit af63cfefb144d9342fd53eb0abbaf5f8203d816c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 29 13:57:25 2010 +0200

    Dont set UUID bit in mask when not returning it

commit 4a63d5961aeae41acf4bdeb3c08e1b8512b9d97a
Merge: 7888d8ac b4f8dfdf
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 29 10:04:52 2010 +0200

    Merge branch-2-1

commit b4f8dfdfe3f7dfd8b0d321309a7bba9298c681a3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 29 09:57:35 2010 +0200

    Fix ressource leak in moveandrename

commit 7888d8ac1a9843f266d9823265f240dbcfad2162
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 28 22:24:51 2010 +0200

    Adjust loglevel

commit 488e8a44618953d81d204e2beb63e52c738935b7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 28 17:11:51 2010 +0200

    Update NEWS

commit e269fbc67831ee540355cae5617b770daa70c759
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 28 16:49:50 2010 +0200

    ACLs now usable (though not visible on the client) without common directory service

commit 3d86f503dd4206da025c0aded841c38ecfb8c478
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 28 12:55:52 2010 +0200

    manpages from xml

commit 0dbfabe5ffd2d0876cf44ea97f5354bb7bfd2cb3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 28 12:54:17 2010 +0200

    Rev version to 2.2alpha1

commit e9dd564425b1e453c1ef66c76dbc6d7a87b89162
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 28 12:53:48 2010 +0200

    Update NEWS

commit 0b5b90867f0af0b14e532eb6bd5c87097166b95c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 28 01:59:25 2010 +0200

    Add delete child right, not delete for writable dirs

commit aae7ec0f3aaaa184e6d1d7143807129813e2a548
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 28 00:58:39 2010 +0200

    Fix posix ace mapping

commit 8821f45d571744a39c0c640760f05b6b05505194
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 28 08:22:22 2010 +0200

    Adjust loglevel

commit 10d908f3bd1e6ee534e8a61bba1ee5023cf41757
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 22:16:29 2010 +0200

    Fixes

commit 4e5c804dc5fdec3724abccfd1a27045829502460
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 20:08:05 2010 +0200

    Fixes

commit c26f09c0ccce9d142cc922627228cbb2015fc805
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 17:23:46 2010 +0200

    afp_access for posix acls

commit 5fcdd2357267471e0b581a3bcf8d8f264a35aa61
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 16:08:04 2010 +0200

    Remove createdir_inherit_acl, it's done automatically by inheritable/default ACLs

commit 6dd8290ee6ab7cc5898bc001cc8ee4fe9403643b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 16:02:05 2010 +0200

    Missing semicolon and disabling of creatdir_inherit_acl

commit e122b0d9096580ea5bfa3d46ab340af26b9a9830
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 16:00:18 2010 +0200

    Provide a way do diable UUID support (nouuid in afpd.conf) and commit 1st try to add posix 1e acl support to addir_inherit_acl before completly removing it because its not necessary

commit b76d77a304b683a74e1e109bcf8361d71fa8becb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 12:38:23 2010 +0200

    Removing links didn't work

commit ba63c0df5c22dbfae979512f4eade145d2f8d86d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 12:34:50 2010 +0200

    Use lstat instead of stat in a few places

commit fe61082cc3ee7e21e4df63e48c4487b63f39d003
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 12:24:49 2010 +0200

    Fix fd leak

commit 1519a60abe957431ec99382c9d2b4d58fb3142a5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 27 11:50:37 2010 +0200

    Optimize ACL access calculations and enable acl2maccess by default

commit 1334cd6874de81021e99c61b6e90c8546ac77c15
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 26 15:35:17 2010 +0200

    Use parent dir access mode for calculating ACE rights in check_acl_access

commit 4134edb221bbc687a8992587f450078adff0eabe
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 25 17:32:48 2010 +0200

    Refactor check_access

commit 6c9d375c404701dceeaf651dd03fcd038a0d8d09
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Oct 24 16:56:42 2010 +0200

    Better 64 bit library support for Solaris, implements #3090159

commit 0b9a38b7287a5a17914360e0059eab876806605b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 23 17:30:33 2010 +0200

    ret contains the number of mapped ACES, not ace_count

commit 45cdd132d8f413ec00e64aea27642df57d750018
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 22 19:13:00 2010 +0200

    Wrong variable in log statement

commit 03e8327bb8ed8aecaf9450a599c0626aa28a2be9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 22 18:50:25 2010 +0200

    Revert stupid EC_EXIT modification

commit f8d015c580368d5635088b5fc8b364e552c5950e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 22 14:26:28 2010 +0200

    Fixes

commit 451fe77e132f0cb96e7d55a76bc50575bee9eacf
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 22 13:54:17 2010 +0200

    Fix wrong resfork length, from Oliver Geisen

commit a9ddbba6c2e846996a802661c732b667fbc688ac
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 21 18:18:35 2010 +0200

    Check for local user UUIDs too

commit d8aa101a3cce466ecc2e60b3d106c12fe19e8036
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 20 17:15:18 2010 +0200

    Ignore client local group ACEs of the from ABCDEFAB-CDEF-ABCD-EFAB-CDEFXXXXXXXX, where X is a local gid

commit 7a100e25bdc0138a89f45c5e66eaf4ce637944e0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 20 16:33:09 2010 +0200

    Remove more obsolete stuff

commit 3befdc4e4843e16692321b2bf9d3933229d495bb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 20 16:15:18 2010 +0200

    Remove obsolte stuff

commit cb4cafcb3a852443166495acb0d312e482b3c156
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 20 15:21:07 2010 +0200

    Rename option acl2os9mode to acl2uarights

commit 569699bfb3117a1a130e867858b1d509afc2dd12
Merge: 3d4ae3d2 d28debb1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 20 14:19:27 2010 +0200

    Fixed conflicts from merge

commit d28debb1d5df940fd79a16ec69a6240052172735
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 20 11:44:24 2010 +0200

    Update manpage

commit 42554927150943dc48fc79f65a98a18f0d69c4da
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 20 11:32:42 2010 +0200

    Doc update for removed aclmode in ZFS

commit a90c109f290be6c50c585df67f32531a40543d29
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 20 10:25:17 2010 +0200

    log message, remove obsolete func

commit 6a2e7a0f796cd08d7f211b897846dd5df769800c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 19 17:04:01 2010 +0200

    chmod wrapper for onnv145+ to preserve ACL

commit 3ca9415044e601137267acfdba1b6e67884208ce
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 16 18:31:14 2010 +0200

    include header

commit df50f61d7ab417686a1c3334cdd07f81d1e9d532
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 16 16:33:26 2010 +0200

    Support newlines in -loginmesg

commit 02243387e35a3f97f1a4abd29b2b3ee7712d5735
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 16 15:25:53 2010 +0200

    Solaric ACL/chmod compatibility changes for onnv145+

commit 3d4ae3d2b3de58c93af24419e9b84650dd0257c7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 15 14:39:00 2010 +0200

    Fix moving of single files cross-vol

commit 659ad60728916f13786eaa2e44266b15dc206a15
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 15 14:24:03 2010 +0200

    Remove fastcopy, use copy instead for simple files

commit 7a83a6f9c63ad3d87482f94619212f36f505ff15
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 15 12:08:57 2010 +0200

    Rev version to 2.1.4

commit 366bde09e48e1d74f80b60c95a3e64b076021b9c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 15 11:48:24 2010 +0200

    Fix for cross-volume ad mv

commit 836c3f12c5aa3f06e22adc52e192fe4cb68ef972
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 15 11:32:53 2010 +0200

    Better EC_EXIT

commit 9f5d0cbeaecd2437cc74fdf96cfbc7b662c04a54
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 20:40:39 2010 +0200

    Non-blocking fixes for cnid_metad. Move readt to socket lib in atalk/util.h

commit 8a88ad5deb609e8bb8c557bb512b9641a0cbbd9f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 17:15:18 2010 +0200

    Trying to get rel_path right

commit 16a6b2b60c41866b2fa69a671395382b12880b67
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 16:19:25 2010 +0200

    Hard to get right non-blocking connect

commit c759ba1f4847f2dbd11e22e80c5347343dfb6516
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 15:07:03 2010 +0200

    rel_path_for vol was not working for files because of chdir

commit 02e13d7d272734d64300665948936018a44fd181
Merge: b91dde33 44b9b5a8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 14:59:58 2010 +0200

    Merge branch 'master' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk

commit b91dde33e8e17e8c9a9b199e342017e090629a7c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 14:59:40 2010 +0200

    Specify option length in call to getsockopt and give connect 5 s

commit 44b9b5a8e332437d4ebb4c4384f2f750c1bac6d0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 12:02:25 2010 +0200

    Fix PR3075391, a ressource leak

commit 2df570f4b25add0d760c85349228991a353294b5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 11:36:17 2010 +0200

    Portability fix

commit 51d58866ad958ba91952865c36a1ddeea1b97d2b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 11:33:12 2010 +0200

    Reapply ugly hack for sys/socket.h include

commit 7280da55b977923d2cbcdc3c15d61e17a978faee
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 11:17:14 2010 +0200

    EC macro fix

commit 5c91c3a8484997ab21922bbf6a9307466805f3be
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 11:14:47 2010 +0200

    Portability fixes

commit a8ff0bb5d4faddd4d4b31b21df271663d58de17d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 11:05:02 2010 +0200

    Rename bstrlib function bgets because theres already one in libgen.sh

commit ba9f8390cfbd0dcc97212191449759abecf7db90
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 10:45:25 2010 +0200

    Solaris portability fixes for ftw

commit a6b9bdfda83c5cd20a65ba56d98e9de3356928c4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 09:51:49 2010 +0200

    Remove achfile, broken, use upcoming ad set

commit ce37b65a52722dd0e2e3490260c6fd8c40dc309a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 09:44:01 2010 +0200

    Remove afile manpage, use ad ls

commit 47c3096dab6a08f40eed6620c5bd4eee43748831
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Oct 14 09:42:00 2010 +0200

    Remove afile, use ad ls

commit 03a992a695725cad6e20ce0f9fd83385aa200926
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 13 21:21:40 2010 +0200

    Remove SO_RCVTIMEO/SO_SNDTIMEO, switch to non-blocking IO

commit a1ab7194da9d77a550829f24fd7910b6de385e7e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 12 15:33:18 2010 +0200

    Import manpages from docbook

commit b4fe2a4772f8b2d1e0d91debe3ffd28e259877d2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 12 14:22:19 2010 +0200

    ad ls wasnt calling cnid_init()

commit fc8c5848e2eecb89c2f1c5e1c8adcf97f325839b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 12 13:41:28 2010 +0200

    Finished ad mv

commit 24ebb6e2e5b6ae66b5df6404c17b9b21fa7dcaae
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 12 11:54:52 2010 +0200

    Better handling of relative paths

commit ca294e11004018f4792a8a14948bcea8a991bf2c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 12 11:06:59 2010 +0200

    New macro EC_*_LOGSTR

commit 46a8786f111381c1da1ea77e19552673ea93db05
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 12 10:50:18 2010 +0200

    Prevent error check macro inflation

commit 28cb560e103524b1c64a906f7d5d2f07eacb58a3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 11 22:23:17 2010 +0200

    Remove apple_* shell scripts, use ad counterparts instead

commit 4e08a6c8ed194949b6bd01e3b6b5bca617c64775
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 11 22:16:11 2010 +0200

    ad mv nearly done, only updating adouble file missing

commit 72ec882f2fcf1d162e532f5bee75e26105ad81e0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 11 17:27:38 2010 +0200

    Fix adouble check

commit 977c1f391df50ea4b8f7ad6147e9d3ef7a8ff7b0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 11 16:49:45 2010 +0200

    begin ad mv

commit 515478117dbf17fd3ded7218a665ebaf95b09531
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 11 13:40:39 2010 +0200

    ad rm

commit 25c24185e91f6432ab88a66b845cbfbd491ccbc4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Oct 10 19:01:11 2010 +0200

    Only work with dbd volumes

commit 4db08001fc1bb7550499c1651c25e9460c6f2867
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Oct 10 17:11:37 2010 +0200

    ad cp is complete, please test

commit 85d9d45d2ef32226a64d9f4ace0ffaa642608eb6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Oct 10 16:22:53 2010 +0200

    Convert names for all fs-objects and proper signal handling

commit ea9e8d043fb0920e216f97e0ee9dc615a86a36d7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Oct 10 15:40:02 2010 +0200

    Convert name of objects

commit 869777e486e0cf24c3cef64b57765a18c0c227de
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Oct 10 09:21:15 2010 +0200

    ad cp nearly done

commit 4c65d44906949275eb11f4676f8d3be74bc9291c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 9 12:37:08 2010 +0200

    ad cp -R now works with all sources

commit 338eabcf8ab5e3257dcdfa6f047a192094dd5359
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 9 10:47:16 2010 +0200

    First recursive copy to basically work

commit f73c1d1e096b1a9c9ed989fb4e881095d9dfb6af
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 8 22:49:51 2010 +0200

    Fix recursion

commit 103f9bbd5623acc187efd9cf01216309487850ff
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 8 22:40:23 2010 +0200

    CNID fixes

commit 50337179bafa863d239e9a0b9608f20c89126ad7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 8 17:00:41 2010 +0200

    move logger_test to bin/misc/

commit 83b9983e8fb0a9cd0038c1106cb4e7338a278a44
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 8 16:50:46 2010 +0200

    CNID for new dirs works with ad cp -R

commit 2144a4eb0f37f8812ccbe9d3e134a50ffcc2444e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Oct 6 17:11:51 2010 +0200

    Rename cfrombstring to cfrombstr and msic

commit 9873ab6bfe54103a973685922b76a5ca02109928
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Oct 5 22:39:38 2010 +0200

    Use own ftw func in ad cp

commit 7da935d540421920b0f27a7f81b0975def31d327
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Oct 4 16:01:41 2010 +0200

    Use FreeBSD cp as basis for ad cp

commit f0057f2018f84fd3a7bb6ac312ea39704719be00
Merge: 96448d2c df92821b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 2 00:28:14 2010 +0200

    Merge branch 'master' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk

commit 96448d2cf35f72b27c00e3f62164e4abbff11cf0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Oct 2 00:27:51 2010 +0200

    Some work on ad cp

commit df92821b05d74db19adca7f9750b7e43927decda
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 1 22:50:04 2010 +0200

    Fixes for Solaris

commit 0ac1a84b20bdb9242a505aa45e2337b1879f4f82
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Oct 1 20:07:33 2010 +0200

    Implement ACL removal. That was the last piece, POSIX 1e ACL support is finished, now on to testing everybody

commit dc4918bc702a168ce7c7c6c2b9e08bed733fe7b5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Sep 30 23:44:01 2010 +0200

    POSIX ACLs VFS/adouble integration

commit 75997819784bea1b274057532edbea221388c483
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 29 07:19:51 2010 +0200

    Setting POSIX 1e ACLs works, yeeha

commit b72a10485d2de5b23c4832d55143f2c5359cfd26
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 29 03:45:09 2010 +0200

    combine aces for one entity into one

commit f4448d18fb22cb38c283ae542a47d7c045afb657
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 28 21:22:54 2010 +0200

    Fix type

commit 2170fc86a14af4aef8a3a5dcbe978d08b8d438fc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 28 20:31:42 2010 +0200

    Better log message

commit 664ca67a3066b125c4afb169737eb4594e82fe53
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 29 21:38:16 2010 +0200

    Don't validate default acl

commit cb1eca7d7ea1503c3dcd0f064033e9f910d0f6b4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 28 20:27:04 2010 +0200

    Fixes

commit 004f73ced0c69d495c58a74612ec85093d3d7819
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 29 19:53:22 2010 +0200

    Support for creating and modifying inheritable ACEs

commit 9f86b4982988f486901b5b9f1d96a45a9698606d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 28 18:31:47 2010 +0200

    I've set my first POSIX 1e ACL, now nice

commit bbf769c5709c2c44e26893423288a1e48a4bb2b9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 28 16:36:33 2010 +0200

    Fixes

commit 40909227984ea90a165d9cc80d737dfcb4e67fa9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 28 15:40:13 2010 +0200

    Adjust log statement

commit 62d584612691fa31b0d28a8d5597e13af5815fba
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 28 12:06:06 2010 +0200

    More error checking

commit eb468230131f4f9afcaaef12709d692256a960d0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 23:24:10 2010 +0200

    Document EC_MACROS

commit 2c6e2c86f01c2b5387de1363a0e9565874fc0761
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 23:23:48 2010 +0200

    Rename macros from *print to *log

commit 4d15ba1b631faf0c6dc7dd9efc4e67bd05a603fd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 22:56:11 2010 +0200

    Rename errcheck.h to errchk.h

commit 431a2475d4ed94febace969c83d7e57329264f27
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 22:53:28 2010 +0200

    Fixes

commit 6123ae9a4f659844b4696c7200a9bbcc5b1a8d31
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 22:53:10 2010 +0200

    Begin POSIX 1e ACL write support and use error checking macros

commit 3cbab13a2e1b1b22645a19d0b7b268590b082a98
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 22:52:25 2010 +0200

    Error checking macros

commit 5a7954b1ca019b133228a5238eb9f13b1f544748
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 12:32:23 2010 +0200

    Remove readme, obsolete

commit a604acfe6f64abf8b1f5188d4300c8c756854b5e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 12:31:53 2010 +0200

    Remove todo, obsolete

commit 5d23cb3a415b58eadf2fe9322c34861ea157a730
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 12:30:55 2010 +0200

    Remove ids readme, moved to wiki

commit b0354593c3f791f1c58a1e9ec111dd0df296121c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 12:22:15 2010 +0200

    Remove todo2.1, obsolete

commit 93a8382be673e4ff52b5b6ef2fb279a8b98e43e7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 12:21:30 2010 +0200

    Remove hidden-items readme, it's in the wiki

commit 1372d9bb7e7a3f178dfb7861266af7993fd8d455
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 12:18:48 2010 +0200

    Remove documentation readme, obsolete

commit 15f050f1d7dfb72e6380e10f0cd0f732cab2b919
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 12:18:00 2010 +0200

    Remove faq, obsolete

commit 07d4dad512b3f6dee32b9446b0535a1796605703
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 12:15:08 2010 +0200

    Remove acls readme, it's in the manual

commit 667eec91942bbfa71da6b62de905cafdb295796d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 11:54:31 2010 +0200

    Adjust dircache for renamed files and minor fixes

commit 805aa2a6d3600dcb80462cc8926570cb16c9a5f0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 27 10:27:48 2010 +0200

    Fix typos

commit 90b522de5fcc6a95c3352a76d774833a2f1f22c7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 18:10:38 2010 +0200

    second sigint restores default logging instead of killing afpd

commit 83241964949a81b2ccc0db09b5fd5dd2b76644d0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 15:29:43 2010 +0200

    Dump all indexed in dircache dump

commit 3104f39791f0c840e98b519039bc52e00fcc56e1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 15:29:05 2010 +0200

    Remove cachedfile, nor dit from dircache, stupid

commit 6080db435e8e982244cbf3fd4d69d5f38a73aa2d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 14:13:41 2010 +0200

    Fixes

commit e00559a6d49a225d3aab49373422f5e64f65138f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 14:13:10 2010 +0200

    rethrow abort

commit eae075394219d1d5bcee96a207563b57b329c04a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 13:32:10 2010 +0200

    Show filetype in dircache dump

commit 604970a27806297452761db2383b60f644cede0a
Merge: 8cfcbaea 330e7ef3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 13:05:30 2010 +0200

    Merge branch-2-1

commit 330e7ef3a06863aacec3de10ea503b859822eba4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 13:04:33 2010 +0200

    Adjust logging level

commit 8cfcbaea66c691c147a334b39e9f8b4561f34343
Merge: e6a19801 8b9226db
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 12:20:57 2010 +0200

    Merge from branch-2-1

commit 8b9226db8ee557ad79feb28404c4e07fdee6a601
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 11:48:15 2010 +0200

    more support for sigint in dbd -re

commit 105df65e675eadb55d888783e731b4716142f051
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 11:27:32 2010 +0200

    support interrupting -re mode

commit e6a19801e7d0ad53350a396b4a7f3d5762d4fc1a
Merge: 408f7bc3 28543ccc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 11:10:22 2010 +0200

    Merge branch-2-1

commit 28543ccc4977ee3045960b0a4550e4b475da299a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 11:04:16 2010 +0200

    Fix badly broken check for .zfs dir

commit 2896bb07752f1f847fd786d0f82b44ce4a7ba308
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 10:40:36 2010 +0200

    Fix if in close cursor request check

commit 408f7bc3a8ba75642bb730f09b92cc0abd67f956
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 26 09:59:49 2010 +0200

    dircache documentatation

commit d236389e8d18c74f3ed207cdd9d8854260dfe0c0
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Sep 26 09:34:28 2010 +0900

    debian's conf file path is /etc/default/netatalk (merge 6a940f1ea5aef6e86f50a0eed2fcab7a40d07ce5)

commit d77cbf16e9dfddf98e5df5585a9f1d6817b1ea01
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Sep 25 22:26:01 2010 +0200

    abort in AFP_PANIC, don't exit

commit f0495a7023add6da585c6bc42360e9a45f19b3e2
Merge: c9ae8dfc 796536aa
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Sep 25 18:01:55 2010 +0200

    Merge from branch-2-1

commit 796536aafea5c330d04623242615e661f0b95ccc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Sep 25 17:59:09 2010 +0200

    better error logging

commit c9ae8dfced3c7992141aff05494115f035846eb6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Sep 25 10:21:36 2010 +0200

    Fix for #3075391 #1

commit dc789ba6be37771bd3f7aa184d4bf41ec22df7f8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 17:09:43 2010 +0200

    DIRCACHE_FREE_QUANTUM was forgotten

commit 4e8d517c5fc353d86e005822c50650a1df77f52c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 17:07:56 2010 +0200

    default to use fault_setup, ie sbt logging and add a macro AFP_PANIC using it

commit 8f6bea54f2115259a524ebade0fa346be1e0c2dd
Merge: 87bec6a7 87ff47f3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 12:32:54 2010 +0200

    Merge branch-2-1

commit 87ff47f32363372bc6bdef40e74e1373e1bed4f5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 12:31:48 2010 +0200

    Fix args

commit 87bec6a710bd502bd1667469cc7da6962ab40931
Merge: 0106aa74 4c5be594
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 12:25:30 2010 +0200

    Merge branch-2-1

commit 4c5be59452a348923fd8b2b2db483e772759e31a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 12:23:14 2010 +0200

    log note instead of only indo when shutting down

commit 0106aa74dbf137e3bffc276fc18765a76a6c7615
Merge: 7e8176cc 62c3fcf7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 10:27:37 2010 +0200

    merge branch-2-1

commit 62c3fcf74805a16de483757574be868640a322b2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 10:25:00 2010 +0200

    Adjust some loglevels such that log_note only shows server startup afp logins

commit 7e8176ccdb84296ac46cd211c8a1a6884d1d95f3
Merge: 6a940f1e 8f27964c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 09:53:16 2010 +0200

    Merge branch-2-1

commit 8f27964c932e593e6286657e70bc1cc1af9a5b78
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 07:35:07 2010 +0200

    veto must always end with a /

commit 69e119e5caac2cb605590e00ea3e4645de6a40c0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 24 07:20:44 2010 +0200

    veto must end with a / in case of multiple elements

commit 10c5d73fe433750662c39bf4566682c158bddb8f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Sep 23 16:50:32 2010 +0200

    Fix for #3074076, symlinks with EAs and ACLs

commit 2df9f1d8e958abc9dfe3159fc3abb117c891c8fa
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Sep 23 15:26:52 2010 +0200

    Update NEWS

commit 108ac8f2e9bea7ced15199953a9792888abf6ee8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Sep 23 15:25:39 2010 +0200

    Fix for memory leaks with symlinks, fixes #3074077 and #3074078

commit e820ac1ba67baa9b5533ca68d8f9ce890597ff59
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Sep 23 12:50:54 2010 +0200

    Remove unnecessary realloc

commit f9be25686f07d1fbcb678e35c4e5a6f3d28994ca
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Sep 23 10:27:51 2010 +0200

    support for solaris in macusers

commit 2e4ebc3b6cbf183179f153ab21d5b231aa1d3bce
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 22 14:22:23 2010 +0200

    ret must be 1 if we found 1 entry

commit 2dc4a7b7ba17f4cd3fd33a437f8465cd260fc627
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 22 14:12:31 2010 +0200

    Shorter log messages

commit 79467ab3fea5b300e10b6b3b61b5468b89b0d52e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 22 14:01:18 2010 +0200

    verbose output was broken

commit 11284bc8c5ef9dd6aa0a267ca4fa06383802ca13
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 21 16:48:54 2010 +0200

    Update NEWS

commit a8904519b158c61a79f2c8f583a9e92d815194a5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 21 12:40:10 2010 +0200

    ZFS Snapshot support for dbd

commit fb42523281006847e7d1d6a5ba87cd997a8ae14e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 20 17:10:09 2010 +0200

    Remove some cvs cruft, one memory leak and update func doc

commit 02b75327c46fd79ad17f6573eebe74b902791ae0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 20 16:50:36 2010 +0200

    Code cleanup while hunting a memory leak

commit d89d64e1db31c146534981a9c33a3f0b2b5c0d49
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 20 11:38:27 2010 +0200

    Untabify and reindent

commit 23c69a5308eb7e2855ce3c6582d712bdeea4dde2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 20 07:52:16 2010 +0200

    Update NEWS

commit 12b7959f1f2043a11c47a0c058eceec2f3ba064d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 20 07:50:44 2010 +0200

    fixes

commit 78aeb1952f43a1028780fbfb03d4692ee5f705df
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 20 07:42:46 2010 +0200

    fixes

commit d00e8e2af2c3d16f2190080ae16a5da6761678cf
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 19 20:08:16 2010 +0200

    Flooding

commit 308bdcf282961837e3132356b243ccd154b43b0d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 19 17:27:53 2010 +0200

    log flooding prevention

commit 6a940f1ea5aef6e86f50a0eed2fcab7a40d07ce5
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Sep 19 17:51:55 2010 +0900

    debian's conf file path is /etc/default/netatalk

commit 7ebc13ceee6c4ddb6030fb4b504fe1531bb34ae2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 19 09:33:50 2010 +0200

    Better logging

commit 1351309c1df0c04a3d337f7e829b4a1098426b66
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 19 09:29:25 2010 +0200

    Better logging

commit 1f3ee939b1d5c29801e405c8518ebb0cd529980e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 19 09:23:05 2010 +0200

    Better logging

commit 1d88c72405898967b2033ea6e71b8f6188adf3f9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 19 08:29:28 2010 +0200

    0 ACEs from acl(2) is not an error

commit 1f9de5456587e76d17c125116618b705c2c4224c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Sep 19 08:20:02 2010 +0200

    Better logging

commit 003b5e4e012d7c00e997da83884d065c9f153b60
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Sep 18 16:19:10 2010 +0200

    Better error logging

commit 6a999c8770f2a58d27498f8e60e177f22fd506a3
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Sep 18 12:07:10 2010 +0900

    Fix typo

commit da6b1051152b42fb434d375362d5cae9b4cc3665
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 17 15:36:18 2010 +0200

    Remove unused var and check var dp in cleanup

commit 522e805da31d28b79309bc1d993cb3a2da887479
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 17 14:40:40 2010 +0200

    Try to enhance if clause readebility

commit 81c16af22b8c4a741392a8f2fa080b121d846d6d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 17 14:39:46 2010 +0200

    Fix ressource leak

commit 68c2212aad02615d8739ef6e2a3d2d9d4219a255
Merge: 02db10cf fb164397
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 17 12:03:08 2010 +0200

    Merge branch 'master' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk

commit 02db10cf6c9219c1af9afcea822c968ee9ac6db8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 17 12:02:46 2010 +0200

    Remove afp_acls.8, moved to the online manual

commit fb164397ee73ace9a2ae440604d2b1d8b465ef71
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 17 11:43:37 2010 +0200

    Update acls readme

commit d3162af02997fb7944e4aa060bd282af583924db
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 17 11:38:25 2010 +0200

    POSIX ACL support is read-only, fixes to NEWS

commit e2b3be108f5d8757324c98d63df42b0c11835f82
Merge: dcbfd39d 32375bb7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 15 10:50:41 2010 +0200

    Merge from branch 2-1

commit 32375bb708a81d228df19222a68f1db5b5ecdec4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 15 10:24:26 2010 +0200

    Comparison in error check was wrong

commit 5d5fa098fdb8bf73dae7dc2edc3102441f4b65a3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 15 10:19:55 2010 +0200

    Fix ressource leak

commit 7970b02cf63f739e5d491a8c710b8111353b11a4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 15 10:18:57 2010 +0200

    Untabify and reindent

commit 486fba3786ab1f2e910d1b455c064810add0fd7a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Sep 15 10:04:56 2010 +0200

    Cleanup ressources ie munmap in case of error

commit dcbfd39d8a7df800a55ab0160d890bd61ebc7302
Merge: ba288e14 68a34905
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 17:41:06 2010 +0200

    merge from branch 2-1

commit 68a34905cd2f438423c00206fe99836a75b22971
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 17:39:52 2010 +0200

    Function protoype did not match previous change in ad_setdate

commit ba288e1499eb7106d6372ec019256b7d3ea1d2e7
Merge: b3bcbf98 5b864913
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 16:13:06 2010 +0200

    Merge from branch-2-1

commit 5b864913719ae86c6b8c6e7dbac65403fe1bc364
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 16:02:56 2010 +0200

    FinderInfo is ADEDLEN_FINDERI = 32 bytes, not 16

commit 55199788c277dd8ecddd78e5cccbec23bb52f061
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 15:39:49 2010 +0200

    Avoid underflow with cc

commit 459a911e10e3467ef583e388e633a77a08f3d8da
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 15:36:50 2010 +0200

    Avoid fd leak

commit d31210e362fdbb3c980316489d1b64df5388798d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 15:31:10 2010 +0200

    Make error handling from exec clearer

commit 26df0a6b00bd3288c1fa11b2249cb47dbb361df9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 15:26:58 2010 +0200

    Prevent underflow of writelen

commit 1fefd5c66402077428db0b5d42bd0986f3efe16a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 15:05:24 2010 +0200

    Return pointer to static array instead of array on stack

commit 973622f8883441a590caea0ea09d38b553ffdc68
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 14:56:59 2010 +0200

    Prevent NULL deref

commit 2dc5a9bee7fcd1a401167b9857c69e208003ac3a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 14:37:15 2010 +0200

    Untabify and reindent

commit 81b6498af2deffa65e82f83b1676f6e0b0027ae5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 11:02:16 2010 +0200

    Possible use of unitialized var

commit d9ce44be6d68de3495178839a6787e21c28cf9c0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 08:05:46 2010 +0200

    use of uninitialized vars

commit 5092bf93e705b99c6eb393c2ffce3601085402c1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 08:03:14 2010 +0200

    ad_setdata, struct adouble * is not const

commit 34b8db12ed883e525f49ec77372141c1ca8414bb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 07:51:00 2010 +0200

    signal() is deprecated

commit b3bcbf9805a3b6538ec71f41a9f537e03e81adcd
Merge: 2c1aca57 6626b07d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Sep 14 07:44:53 2010 +0200

    Merge from branch-2-1

commit 6626b07d6f38ef5b8b30b0431e5a88c36958ec6b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 13 22:22:55 2010 +0200

    Remove PID file on exit

commit e49d7578a80c741e005cd69b06269f4c5038cee9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 13 17:18:07 2010 +0200

    Always check before committing, fix for cnid_metad PID lockfile

commit ce7e0771e951bf313c05f26a9f8a58923402db78
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 13 17:04:59 2010 +0200

    cnid_metad use a PID lockfile

commit 2c1aca5771af8f346ba9e7ce58f8bcdbcbfa0381
Merge: f9199e18 618768fe
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 13 12:43:05 2010 +0200

    Merge branch findercache

commit 618768fe7ec3589fe4d426c799c57ea04b60639a
Merge: 98af9378 16b6bf6c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Sep 13 12:23:24 2010 +0200

    Merge branch 'master' into branch-findercache

commit f9199e184eec86132d172506962fc17f691aa6b7
Merge: a6f112b0 3f9eb93d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 10 12:07:18 2010 +0200

    Merge from 2-1

commit 3f9eb93d8c64d020f3be2e7034cac6d0f6ce61d0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Sep 10 12:04:41 2010 +0200

    * FIX: dbd: Adding a file with the CNID from it's adouble file did
           not work in case that CNID was alread occoupied in the database

commit a6f112b04ce4f0d2eaf38b3298246a93e5b8de23
Merge: 7d6f12a4 babc8a83
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Sep 9 11:46:45 2010 +0200

    Merge from branch-2-1

commit babc8a83904eb16e296119594baa4b1ccc3cac4e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Sep 9 11:44:50 2010 +0200

    path may be NULL when adouble file has been created in enumerate

commit 7d6f12a42d3a94a91f16788e753fea51d03fe2ba
Merge: c71a6ba2 e7375f11
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Aug 16 15:04:03 2010 +0200

    Fix merge conflicts

commit e7375f1179198798b6dde811425649615dae10d5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Aug 16 14:57:34 2010 +0200

    Update NEWS and rev version

commit 84707714b9282884deef59c3fc03e6a778175de4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Aug 16 14:52:14 2010 +0200

    Incorporate downstream patch for FreeBSD PR 148022

commit 9ac7330587a3b96555fcc92386df2d5524614eca
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 14 19:39:19 2010 +0200

    Better logging

commit c71a6ba29dcd592eb640b79ae96c2adad0650254
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jul 12 17:03:58 2010 +0200

    Remove forgotten line from previous merge commit

commit 70e8818ea52f3ff5bca42e6c3cbf5765f959f322
Merge: b47b5f54 28a45cbd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jul 12 12:28:17 2010 +0200

    Merge branch-2-1

commit 98af9378dfec4127fcebee8b539dc79e5e13fc53
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jul 10 17:41:45 2010 +0200

    Include missing header

commit b47b5f54a6f6badbafc7066a5162efcbbbc8a32b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 9 20:07:05 2010 +0200

    Fix make check and beautify afpd_SOURCES

commit f24369cf530f010d24b1d524300797cc514e81c3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jul 9 10:40:55 2010 +0200

    Add headers

commit 28a45cbdf751264d881cd17e54f810f8d1a68b68
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jul 8 12:34:47 2010 +0200

    change default configure behaviour for NFSv4 ACLs to auto

commit f83562711551ac01e345fb3b6d80958ad925a4ba
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jul 8 08:14:59 2010 +0200

    Cleanup contrib

commit 2da3667b984d376d0bf6d24e66fce47c37d73268
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jul 7 10:47:08 2010 +0200

    Update NEWS

commit be12962fd554eb50e39f48d1d1fba0fb48a593e4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jul 6 11:00:35 2010 +0200

    Check for cached files in dirlookup

commit e80c5be6eaa525cf6e99bfa39d70eefd0da82d6a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jul 5 14:59:35 2010 +0200

    delete files from the cache in afp_delete

commit 0369b80665bb5610cc9e7edd72c13734ecd0a5f7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jul 4 15:47:58 2010 +0200

    Dont use d_fullname, it might be NULL with files

commit fb3df9400a35d940ee90425ede2d069f6a590450
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jul 3 10:27:39 2010 +0200

    move seblocking to the right place

commit 4983a2f6adadaf0653c591d2f34af221bbb72848
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jul 3 10:19:06 2010 +0200

    Converting writing on socket to nonblocking io instead of SO_SNDTIMEO

commit 16b6bf6c172b3e172be805ad0c7f1b2180375201
Merge: ee5ce003 295a40a4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jul 1 17:15:46 2010 +0200

    Merge branch-2-1

commit 295a40a4c3a8fc6aa548073b5af5189d48e29bba
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jul 1 17:07:06 2010 +0200

    Support for BerkeleyDB 5.0

commit 88c9d0ed31fa4a710a78cd0f9e7d1510118bb3be
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jul 1 14:53:46 2010 +0200

    Fix in logger setup code

commit 752449c2fa88b6da5455ff88881401e0cfe42cde
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jul 1 13:42:48 2010 +0200

    New logtype logtype_dsi for use in libatalk/dsi/

commit ee5ce003743508060550913762234e44805aea61
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Jul 1 01:50:30 2010 +0900

    Zeroconf instance name is precomposed UTF-8, not unixcharset

commit 0ce920f5dbb09e912edddfee6cc0e7e1db713dd4
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Jul 1 01:45:26 2010 +0900

    reindent

commit d9cb7e3267c7ff5bb1d2c2ad16194606f280b949
Merge: f5f8725b 5e21fc1f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 30 15:23:35 2010 +0200

    Merge branch-2-1

commit 5e21fc1f18f9cc39f77b12dfb167345e70dae2bd
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 30 15:19:22 2010 +0200

    dsi_buffered_stream_read wasn't always reading the requested amount of bytes

commit d1d7478c65113b219cf1b9091ef183fb2c9b0602
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 30 15:16:58 2010 +0200

    dsi_buffered_stream_read wasn't always reading the requested amount of bytes

commit 34325d7a7d56c67483a6cee725daccba6ff2b33b
Merge: 8a499a0f b4ab6a53
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 30 08:04:06 2010 +0200

    Merge master

commit b4ab6a53d2b0542e48a49f7c6ffc6db5326644e7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 30 07:52:20 2010 +0200

    uuid_unparse_upper is not portable

commit f5f8725b9fd0c3b6f7c2e2774882b1efc5c7b78c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 29 10:03:36 2010 +0200

    Use AFP tcp port from config in guess_interface

commit 8a499a0f43b31b821fca2ee8251da7d7722b577d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 29 07:25:52 2010 +0200

    Fixes

commit 627a179b1bc65fabcd5fed0584cc5089e8e5870f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jun 28 07:21:43 2010 +0200

    Do the right thing with lpthread

commit f71e015cf38749ae4b24711e37ddb6bee66182a3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 27 11:56:47 2010 +0200

    Use pthread_sigmask instead of sigprocmask. correctly restart zeroconf with SIGHUP. move config reloading out of signal handler

commit 0db6335e6f265afc66b34790d30d474f7ac23153
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jun 27 03:03:14 2010 +0900

    Time Machine volume is enable even if cannot get UUID

commit 4589104f8871f8690a83350b88f8a7326c1337bc
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sun Jun 27 01:38:37 2010 +0900

    afp_voluuid.conf mode 644

commit fba838c0c48072baff83ef461d69944fdc98de5a
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Jun 26 21:44:46 2010 +0900

    Convert UUIDs to uppercase more certainly

commit 552756a2686174eab501eefa22f773afbd9d04b4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 26 10:02:21 2010 +0200

    Convert UUIDs to uppercase

commit a6b01b5eaa01a66269b613572b328b99cdb8eefe
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Jun 26 03:03:31 2010 +0900

    unused variables

commit c863e3b0cbc854fef16431fc17464260662fa0dc
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat Jun 26 02:36:00 2010 +0900

    AppleTalk Support, or not?

commit 4c52f1401e8fdb55d22d073c665696e591545178
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 25 15:41:19 2010 +0200

    Header for afp_voluuid.conf was from overthrown implementation

commit 0cc547b673979253341146e3678bf41fd79583a9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 25 15:25:07 2010 +0200

    Support for BerkeleyDB 5.0

commit bd76c97ea6399d5492059538e8a51a4d3164862b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 25 15:21:57 2010 +0200

    UUID_PRINTABLE_STRING_LENGTH is not defined on Linux libuuid

commit 638945edbee73236f251e01681b6676a55ba39c2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 26 12:33:42 2010 +0200

    Update NEWS

commit f0c9b5ff7f303bea73622a97a5d66407c2fbec97
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 26 11:39:12 2010 +0200

    autogenerate UUIDs for TM volumes and store em in afp_voluuid.conf

commit c7e1fb4690ebcc8b333f2ebae99bac5021414c82
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 25 12:46:43 2010 +0200

    Allow some substitutions for TM volumes

commit 67c73b81c3465188bf80976ec6602660fd4fe3f3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 25 11:00:25 2010 +0200

    afp master check was wrong

commit 2b85474fc98599d7edab57590636e8fcca90006e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 23 13:33:43 2010 +0200

    Advertise adisk with port 9.
    Don't advertise adisk at all if no TM volumes are configured.
    Ensure child processes find a clean volumes config.

commit fe4a9e1ae29708d4a9fe15f42f0b7e447c189cd3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 00:17:56 2010 +0200

    Merge branches 'branch-netatalk-2-1' and 'branch-netatalk-2-1' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk into branch-netatalk-2-1

commit 156269e3a96be9b7b199017331fef52f76779931
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 19 03:13:10 2010 +0200

    Only increment TM volume count for TM volumes

commit 41bbd063a910725fac4bde68445bb83b47fc2cd8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 19 03:07:26 2010 +0200

    Announce port 311 with _adisk._tcp

commit 5eaea6e81ac749df3bf69648a20518243fc9eaa5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 19 02:48:45 2010 +0200

    New uuid option for volumes for TM zeroconf announcement

commit f2ed5a9509f6c854714c39474611a786fca9817a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 19 01:00:42 2010 +0200

    Advertise volumes too

commit 716addd51cdd240d29587756002b49cb419d4529
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon Jun 21 12:08:25 2010 +0200

    Use only one avahi thread to register all services

commit da0e5334692c08b9de9f42fcd077d573fa27fa3b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 19:31:16 2010 +0200

    Cleanup

commit bfebad4775e8be8bf2170ca94002875d23bba369
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 14:43:29 2010 +0200

    line endings

commit 2d5de705ae1ef89d55e1834997086380dfef1b58
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 13:13:06 2010 +0200

    Use the right servername for zeroconf

commit 8120aa376cf68c306880e91e0bfa8091ce841a10
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 12:01:56 2010 +0200

    fixes

commit 6c8706e26651817fe733cbc03ccdf5e27f5f39e2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 11:07:05 2010 +0200

    First patch import, missing files

commit 14c920ffafc6eb4b97510e4f219fe9dd961ddb56
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 11:06:38 2010 +0200

    First patch import

commit 6fa41fefb70d7306c5ba22c02002c82e255b1cf8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 10:56:48 2010 +0200

    Documentation updates

commit 11da95a136d88d6ada4982e37aaee98beb15aa8f
Merge: 0fab275a bb7abb14
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 13:43:20 2010 +0200

    Merge branch POSIX ACLs

commit bb7abb14943f9fcf89bbaadbd0994c9bc4043fd9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun Jun 20 13:36:41 2010 +0200

    function rename

commit baf86eb5bf69521d96e3b754a2a7472589249d4a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 19 13:16:47 2010 +0200

    convert dos line endings to unix

commit 0fab275a8161fe8e424460009439f828b2bcf749
Merge: 0eb668a0 62253a7e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 18 16:18:43 2010 +0200

    Merge from branch-2-1

commit 62253a7e6651605096fee37d422e463e6135a87d
Merge: 56df686a a9e97bee
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 18 11:08:31 2010 +0200

    Merge branch 'branch-netatalk-2-1' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk into branch-netatalk-2-1

commit 56df686a413c2564524588627c87e6b94dce69e5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 18 11:08:21 2010 +0200

    Update manpages for 2.1.2

commit 924ef2bea62a871103db8b3815b7c396d98cb02e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 18 05:09:55 2010 +0200

    fix rbuf offset calculation

commit 8106ea347c6aade3dfbd598d9702d53ce5ee25b5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 19 10:52:25 2010 +0200

    apply ace mask

commit 25a262796fa719cb74038ac0ea4a84b2b38c1a69
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 18 03:17:24 2010 +0200

    posix acls reading works basically

commit 7762c7b4a5afc6e3fec5e5b1ba7ce891c73b91ad
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sat Jun 19 00:40:35 2010 +0200

    map posix to darwin first attempt

commit 4767e5debd1974ec5e186aabc5e334a0e8362308
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 18 17:15:38 2010 +0200

    acl_get_file

commit 0eb668a08d39ba54d8e3ba8aabb5b5657b855ce1
Merge: 1575c0ad a9e97bee
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Jun 17 23:54:06 2010 +0900

    Merge remote branch 'remotes/origin/branch-netatalk-2-1'

commit a9e97bee7fc2685ab5e18e905e1a8eb957722474
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Thu Jun 17 23:43:17 2010 +0900

    AppleVolumes.default.tmpl: explain permissions in detail

commit 724fa2a7efb4a61398ef0af0298f07a75827c7b1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jun 17 09:51:07 2010 +0200

    Version 2.1.2

commit 0f06f4b68cecdffe233c2e01de275d73b3db00fc
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 16 16:58:24 2010 +0200

    gss_import_name with GSS_C_NT_HOSTBASED_SERVICE instead of GSS_C_NO_OID

commit 71bf5b0e4f7f8a2c3a5e537ad6445c2eb6e114c4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 11 12:13:55 2010 +0200

    uuid option flag check was wrong

commit 0516198f04fb0531eff26054aac02250d9d140db
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 11 10:16:45 2010 +0200

    UUID detection reporting

commit 1d79f0e201ce9550c9ad43b0366b96195259f5d0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 11 08:13:44 2010 +0200

    uuid support detection

commit de3f7ef8c282a7c164cef425b5b713a3ae8be1d4
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 11 08:07:45 2010 +0200

    POSIX ACLs support: compiles again

commit bbb154c28584e4b61ae69f56cb22959eeb9a5d6d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jun 10 15:29:56 2010 +0200

    Untabify and reindent

commit 1575c0ad7f67747019a3eb550d942406daa87d6e
Merge: 57d79bdc 825256ab
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 9 15:59:30 2010 +0200

    Merge from branch-2-1: umask on upriv volumes

commit 825256ab9361f3e2fae9c59c2f2e9d4587cd2f38
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 9 15:27:46 2010 +0200

    dont and permissions with parent folder when creating new directories on upriv volumes.

commit d7af7533f828a2cedcf875e8fc5ed3ee563760d7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 9 13:49:14 2010 +0200

    sharing home folders corrupted the per volume umask

commit 57d79bdc32c47eb988ead24623f5d42acb080297
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed Jun 9 12:50:07 2010 +0200

    Encapsulate all Appletalk stuff

commit fcc1b24c1dbd7e042f2a1a7f75e7dd2c34ffdd5e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 8 19:47:57 2010 +0200

    Fix for seteuid error on logout on freebsd

commit 257a238efffefa00f7d7801f12e4bec216391854
Merge: 1da8848e 7b6eede5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 8 17:24:34 2010 +0200

    Merge from branch-2-1: Remove forgotten comment

commit 7b6eede5901f40adae3ab6d5a1f73c5fabe95ccb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 8 17:22:38 2010 +0200

    Remove forgotten comment

commit 1da8848e568f9eb0a838cd3a6628a0709893abdd
Merge: b4324ccf 3a17e51b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 8 17:17:57 2010 +0200

    Merge from branch-2-1

commit 3a17e51b039209da0f2dcca8c5726d2d037902f0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 8 17:15:28 2010 +0200

    detection of EA support on FreeBSD wasn't reported correctly

commit a1d9a99f48f12a487661bc346ccce432d1888529
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 8 16:55:51 2010 +0200

    ExtendedAttributes in FreeBSD

commit 6d7a84fdc5faf5bad72c1a23012f2e81b4262460
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 8 15:11:55 2010 +0200

    ignore libtool macros

commit e78a31a24dd3b089405ebc57d17ef6ede9db09e9
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 4 15:15:50 2010 +0200

    honor --disable-ddb when deciding whether to build ddp on solaris

commit cd92a50df98ef89f0985d716e7e21de094043280
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 4 13:49:08 2010 +0200

    gitignore stuff

commit 9737d8ebafd666107b979d428ca12e441616d398
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Fri Jun 4 13:47:06 2010 +0200

    substitue PATH_MAX for MAXPATHLEN

commit b4324ccfe536467f83a8eedeed6f6300e9972a9e
Merge: 4148b992 cd92a50d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jun 3 14:32:29 2010 +0200

    Merge from branch-2-1

commit 7fd5f64c17daf65b1b388d2b8e54bd1947b67b5f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Jun 3 13:41:28 2010 +0200

    Kerb lib on opensolaris is libgss

commit 4148b9929673d4d1a1541f9b2ba222fb7fe5195f
Merge: 4178967b 9443a6af
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 1 17:08:13 2010 +0200

    Merge branch-2-1: bdb versions and lib/lib64 twiddling

commit 9443a6af84e15e97fa9c0e86f3809ce6483d35e3
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 1 16:47:36 2010 +0200

    Adjust bdb library search paths: add 4.8 remove all before 4.6.
    Also fix that atalk_libname was forced to "lib". The macro now
    accepts the value from configure.in. In order to prevent problems
    with custom built bdb packages where the lib path is "lib" instead
    of the correct "lib64" on some 64bit systems, check inside "lib" too.

commit 4178967bf281a63438b3c076db90057ff2195f98
Merge: 3ab52d7e fce930e1
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 1 14:01:54 2010 +0200

    Merge from branch-2-1: Per target CFLAGS override AM_CFLAGS, fix for uam_dhx2 compilation error

commit fce930e1fdd6cdd44dc3c68b14861428d7b9c33f
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue Jun 1 13:58:56 2010 +0200

    Per target CFLAGS override AM_CFLAGS, fix for uam_dhx2 compilation error

commit 3ab52d7efd356bcda9bae50b06db362ac4d09d76
Merge: 0bca92f9 bebbf141
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun May 30 18:06:44 2010 +0200

    Merge from branch-2-1: signature is not malloced, so don't free it

commit bebbf141c339230039732090d9f5c176752ae973
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun May 30 18:00:18 2010 +0200

    signature is not malloced, so don't free it

commit c078b0917813b10afe60091c150f3235fa6a2d69
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat May 29 01:27:05 2010 +0900

    RedHat initscript: renamed and modified to be POSIX compliant from Jiri Skala

commit 0bca92f9919b4d1124e001dd22c4d0eaad1fb4e8
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat May 29 01:17:43 2010 +0900

    RedHat initscript: renamed and modified to be POSIX compliant from Jiri Skala

commit 89f20b55b2278c29553472559bbfb060ef711ca2
Merge: 4d78f16c f22b2f0d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 26 10:32:37 2010 +0200

    Merge branch 2-1: Fix for uninitialized AFP signature. From HAT.

commit f22b2f0df4776198f29eecafe6436d2e1e31f972
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 26 10:20:35 2010 +0200

    Fix for uninitialized AFP signature. From HAT

commit 4d78f16c0b774102acbf5bd020440c73f606752e
Merge: 2c28f365 68df0ba6
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 25 16:35:39 2010 +0200

    Merge branch-2-1

commit 68df0ba6ce53df85c33a9b1f559351cce8810eda
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 25 16:33:22 2010 +0200

    Add /include to CFLAGS

commit 2c28f365cd2c4f4ac3f8c309a452c6d150dc0271
Merge: 0494f901 fa927cd8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 25 15:10:19 2010 +0200

    Merge branch-2-1

commit fa927cd865c723e2303d0445837719112ed6b0a7
Merge: e06a179a ef8bb144
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 25 15:07:31 2010 +0200

    Merge branch 'branch-netatalk-2-1' of ssh://netatalk.git.sourceforge.net/gitroot/netatalk/netatalk into branch-netatalk-2-1

commit e06a179ad7df79a88df06cccb0dddd08554c48cf
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 25 15:06:54 2010 +0200

    Change dbd timeout and retry to 10s and 2s

commit ef8bb1441dc49c4dc4dacf92994447e4f79904a3
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat May 22 12:08:06 2010 +0900

    Better message for CNID server

commit 458abc7eea6b95b6e4980bfaf3452e4449c0e573
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Sat May 22 12:03:11 2010 +0900

    Better message if cannot connect to CNID server

commit 0494f901a4fa96af3696df92bdfa3c83a7ae106b
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri May 21 01:25:23 2010 +0900

    Better message for CNID server

commit 5d22230fdaf72a44ee600ed08807a94105752dcc
Author: HAT <hat@fa2.so-net.ne.jp>
Date:   Fri May 21 01:00:21 2010 +0900

    Better message if cannot connect to CNID server

commit fd001903ad02003d87ea3ed67928518b0d0be2f7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu May 20 16:27:08 2010 +0200

    Remove const

commit 1de0a6cb5db14c36f1d20258de5ebf64bfe4bdb8
Merge: 9bbc9263 e0af7bf2
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu May 20 14:02:18 2010 +0200

    Update NEWS, merge from branch-2-1

commit e0af7bf28ee44d06e83b6771764d49b72d3b1b5a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu May 20 14:00:19 2010 +0200

    Update NEWS

commit 9bbc9263c7c00c8ac0e9b3b519ff458881048cbc
Merge: 225febcc a18f3a03
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu May 20 10:49:11 2010 +0200

    CNID fallback for dbd backend, from branch-2-1

commit a18f3a03913b1382aaecef9ae1317b57f40c0b6c
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu May 20 10:47:12 2010 +0200

    CNID fallback for dbd backend

commit 225febccb17e0adcb588b4239364bcf21ebe3e8f
Merge: 76503ada 25f0ca74
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 19 17:14:09 2010 +0200

    Merge branch-2-1

commit 25f0ca74a1b8099ac7800deaf8ea29fb97ea788d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 19 17:02:50 2010 +0200

    Better message for CNID DB open failures

commit 76503ada9144eae7720964043ee757d9ebc49cce
Merge: b1c0c596 eb80b9f8
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 19 10:46:21 2010 +0200

    Merge remote branch 'remotes/origin/branch-netatalk-2-1'

commit eb80b9f829efffdd5aa35ad9ac073823d5733d1e
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 19 10:44:54 2010 +0200

    Prepare 2.1.1 release

commit b1c0c596f5202083907f5e12c15b557192508bb1
Merge: f234706d f48d37d7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 19 07:32:23 2010 +0200

    Merge remote branch 'remotes/origin/branch-netatalk-2-1'

commit f48d37d74860e5d9fcf21a3938ede5f3f9dc9f1a
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Wed May 19 07:31:30 2010 +0200

    Fix for #3001982, from cloyce

commit f234706de539d502bea6d9353f812f13c8a4f9d0
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Tue May 18 15:44:09 2010 +0200

    Fix make check

commit 3c8f4462f090048c52921392a0d563593491ea5c
Merge: e7b3b5a6 b3b0183b
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 17 16:41:53 2010 +0200

    Merge remote branch 'remotes/origin/branch-netatalk-2-1'

commit b3b0183b264b381ee32063ae62118cecd9b8f919
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 17 16:35:09 2010 +0200

    Add another contributor

commit e7b3b5a65800bd7a087d0d2f1272b743bd3b0218
Merge: 45d040ca e0dc1e37
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 17 15:56:26 2010 +0200

    Merge remote branch 'remotes/origin/branch-netatalk-2-1'

commit e0dc1e372e2d187acd65e3350d955fc516332606
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 17 15:55:03 2010 +0200

    DESTDIR installation stuff was still wrong. Thanks to Dr.Jones.

commit 45d040caa4a824f135ce0fe519f263fde30c3bbe
Merge: 120dbba5 8dc02811
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 17 12:25:06 2010 +0200

    Merge remote branch 'remotes/origin/branch-netatalk-2-1'

commit 8dc0281187b2804323b4f3ab9d8492d6a78c94cb
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Mon May 17 11:49:36 2010 +0200

    Ensure afp_ldap.conf gets distributed

commit 120dbba5913f4c43cab01da236da8952bee79a38
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Sun May 2 08:08:46 2010 +0200

    Ordering libs helps

commit 8a1ecf28175105c8543903c915873823e1317b24
Author: Ralph <ralph@os.(none)>
Date:   Sat May 1 16:36:00 2010 +0200

    Solaris has queue_t in STREAMS, argh

commit dd815ea91a93faf5d1067fa9e559c9153e1c745d
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 29 14:53:36 2010 +0200

    Document SIGHUP for cache dumping

commit 4361e007fb07bdf9b4aaa73c4a4fc5b270f22cf7
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 29 12:07:45 2010 +0200

    Rename cvsignore to gitignore

commit bd3a6f397a540e7d035f993942bda700f3e3e076
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 29 12:02:24 2010 +0200

    Remove cruft of a feature that was developped on the wrong branch

commit dfd4a2594c2123549b2fd1e6d5dc43d15aafc850
Merge: 5faefa83 ba40d577
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 29 11:56:36 2010 +0200

    Merge dircache-rewrite

commit 5faefa83198fe48272936964f9a736933fac37d5
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 29 11:42:30 2010 +0200

    Ignore object files

commit 0bc1f040edf0e9414eb1f0979605155a5a14d483
Author: Frank Lahm <franklahm@googlemail.com>
Date:   Thu Apr 29 11:20:23 2010 +0200

    Rename cvsignore to gitignore

commit db147a71b990429fde382ea6c8ca77c7044cd235
Author: franklahm <franklahm>
Date:   Mon Apr 26 05:12:56 2010 +0000

    Set version to 2.1

commit 9d19702ac9856b1becbb505e599e445c14ba8fe4
Author: franklahm <franklahm>
Date:   Mon Apr 26 05:09:16 2010 +0000

    s/CVS/git/g

commit 2940b84d8560fa52c580ff7e56f613ac43a8e22f
Author: hat001 <hat001>
Date:   Sun Apr 25 13:59:53 2010 +0000

    s/CVS/git/g

commit 2b8902f0cd8a7f81f7dccab985babb87de91009c
Author: franklahm <franklahm>
Date:   Fri Apr 23 11:37:05 2010 +0000

    Those damn linked lists: fix cache expiration bug.
    Also fixed: LDAP connection retry.

commit 383350040596193cd616b49bfebd72cd707b7fd1
Author: franklahm <franklahm>
Date:   Fri Apr 23 10:31:40 2010 +0000

    Add DEBUG macro protected cache debugging to UUID cache

commit 7de3800db75f255fb769c274ad46dadc6ba61be7
Author: franklahm <franklahm>
Date:   Fri Apr 23 05:54:54 2010 +0000

    Adjust cachedump LOG message

commit ba37f05ba4c711f387e160859970cf03e259f14c
Author: hat001 <hat001>
Date:   Thu Apr 22 14:49:05 2010 +0000

    manpages of AppleVolumes.default, AppleVolumes.system, AppleVolumes and afpd

commit 40853defdfb62a5388feb9917f0a22903f23faf9
Author: franklahm <franklahm>
Date:   Thu Apr 22 12:08:14 2010 +0000

    LDAP reconnect fixes

commit c25086d18e261eb2e3c523397a9daddc2b238eb8
Author: franklahm <franklahm>
Date:   Thu Apr 22 10:17:57 2010 +0000

    Fix LDAP search scope and timeout behaviour

commit c58ff66a0e50bbbfb86cc83b5368ac70ae896394
Author: franklahm <franklahm>
Date:   Wed Apr 21 13:53:42 2010 +0000

    -c option for -s

commit aa190e638ad612e02e8bde723b331fc95989e259
Author: hat001 <hat001>
Date:   Tue Apr 20 16:46:20 2010 +0000

    usage of dbd cleanup option -c

commit 0a7eaf4495b2e72c0261d8f983f661b34c26b933
Author: hat001 <hat001>
Date:   Sun Apr 18 16:14:51 2010 +0000

    remove a warning

commit bbb0246c77fefd6936bb0b5eaf3a1f722190f3ab
Author: franklahm <franklahm>
Date:   Sun Apr 18 11:12:46 2010 +0000

    Help in CVS to git transition, add .gitignore to .cvsignore

commit 73f1aa76a2de7bd028eb41adf850794cb7c02e5a
Author: franklahm <franklahm>
Date:   Sun Apr 18 11:12:45 2010 +0000

    Help in CVS to git transition, add .gitignore to .cvsignore

commit 1ab2a6b0d653a4f5d5fdba89f626a1b309198796
Author: franklahm <franklahm>
Date:   Sun Apr 18 11:11:17 2010 +0000

    Overwriting EAs with ea ad module did not work

commit 3d8cd70cdcb477809a5625fd7cfe565f8517d6d1
Author: franklahm <franklahm>
Date:   Fri Apr 16 18:28:45 2010 +0000

    Check for volume specific CNID config before LOGging it

commit 5c045ebb7c984af2adfdd1a61103db139051a586
Author: franklahm <franklahm>
Date:   Tue Apr 13 08:05:06 2010 +0000

    Deal with pathologic idiosyncrasies, every OS return a different errno for o_nofollow in open

commit 15386e47408fe3092403e4d0c22db10ac54682fc
Author: franklahm <franklahm>
Date:   Tue Apr 13 08:00:36 2010 +0000

    apple_dump.1 still was not in CVS, grmpf

commit 346268506d07f63d3de724f8d13d96f3ae5a96c3
Author: franklahm <franklahm>
Date:   Mon Apr 12 14:28:42 2010 +0000

    Integrate downstream NetBSD patches

commit 10670ae53abcbc9142c4c0b15a9b25db260ed42b
Author: hat001 <hat001>
Date:   Mon Apr 12 13:13:32 2010 +0000

    default is DEFAULT, not DEFAULTS

commit 0c42bd5e13947f9a5b12c2ae234bfeedb128a654
Author: franklahm <franklahm>
Date:   Sun Apr 11 07:01:23 2010 +0000

    New dbd cleanup option -c

commit 903e5d9bfe845116cb40c13c1c3736b759db2b22
Author: franklahm <franklahm>
Date:   Sat Apr 10 18:06:36 2010 +0000

    apple_dump.1 was missing from tarball

commit dba749e475ead46ed65a62fd108a32f39b1d7695
Author: hat001 <hat001>
Date:   Sat Apr 10 17:37:51 2010 +0000

    priority to dotfiles

commit fa2874fb5b08eb2a57dd955e2643201521d5fac2
Author: franklahm <franklahm>
Date:   Sat Apr 10 08:24:54 2010 +0000

    New volume option volsizelimit for limitting TM backup size. From Data Robotics

commit b3b7ad966fdf171d9b962bc0a5018712b8fe94e3
Author: franklahm <franklahm>
Date:   Thu Apr 8 17:14:15 2010 +0000

    Set DEFAULTS for volumes upriv and usedots

commit c4e89affc580354cea98b2937fb1dd2c79ff8edd
Author: franklahm <franklahm>
Date:   Thu Apr 8 17:13:17 2010 +0000

    Minor corrections

commit df68c9a6bc80373226725c769142d1c1553d1c62
Author: hat001 <hat001>
Date:   Thu Apr 8 16:29:36 2010 +0000

    align 80 chars

commit c92c80822b868bfcb5c36fb046ec50afdac08033
Author: franklahm <franklahm>
Date:   Thu Apr 8 08:40:51 2010 +0000

    Revert upriv default change

commit 8623997475df1cee8cf7b12825d86237c0cd1ebd
Author: franklahm <franklahm>
Date:   Thu Apr 8 05:51:16 2010 +0000

    Revert upriv -> noupriv change

commit 5b2136ad80a756c322ca61e9736457068d7c2b79
Author: hat001 <hat001>
Date:   Wed Apr 7 14:25:24 2010 +0000

    Fix 5436neta_cv_eas value

commit 7f7129479b01488e6e2792eb8fc95072da205877
Author: hat001 <hat001>
Date:   Wed Apr 7 13:30:38 2010 +0000

    README.platforms -> README.AppleTalk

commit ce510dd972483969f03c56913d32af7951315956
Author: franklahm <franklahm>
Date:   Tue Apr 6 12:00:27 2010 +0000

    Documentation for changed upriv -> noupriv option

commit 362b019eb54594d255c1af0e58361373af62dadd
Author: franklahm <franklahm>
Date:   Tue Apr 6 10:03:53 2010 +0000

    Ignore stuff

commit 0414d4ea51a7eaa34482fba80beb05777c64912b
Author: franklahm <franklahm>
Date:   Mon Apr 5 10:06:20 2010 +0000

    Rev versions to 2.1beta2, checkin changed manpages

commit cff7d2d0af51c5cc831abd6c38d1860388769343
Author: hat001 <hat001>
Date:   Sun Apr 4 16:08:01 2010 +0000

    dropkludge is same as dropbox

commit 869c67c598b2984c609533050dd5649d86df4b02
Author: franklahm <franklahm>
Date:   Sun Apr 4 15:04:45 2010 +0000

    Remove incomplete mapchars option

commit 012599ff713dec84f9fff4678dcb13fe26c6e8f5
Author: hat001 <hat001>
Date:   Sun Apr 4 14:17:23 2010 +0000

    forgotten volume options

commit 6c2007a4a07871ee930d09ca8542f11e6db18804
Author: franklahm <franklahm>
Date:   Sun Apr 4 08:24:38 2010 +0000

    Log error if open of EA content file fails

commit 917004b1d424c0f231b329bb42cbad6a1c2740c4
Author: franklahm <franklahm>
Date:   Sat Apr 3 07:11:33 2010 +0000

    Patches for OpenBSD

commit f3fc00348b491ef259a1ddc3f1f97f12d98bebb1
Author: hat001 <hat001>
Date:   Fri Apr 2 16:17:18 2010 +0000

    forgotten options

commit ca1e3e11a1b906c959690f6e9f1a720bfb8c6544
Author: franklahm <franklahm>
Date:   Wed Mar 31 09:47:32 2010 +0000

    clustering support: new per volume option cnidserver

commit da7d6d0870e0e5cf795908efa139a70a6bc5e2b2
Author: franklahm <franklahm>
Date:   Tue Mar 30 14:18:24 2010 +0000

    Adjust what gets distributed

commit 72aca2692086b955d3ae3d15bdc10c3ed64ff366
Author: franklahm <franklahm>
Date:   Tue Mar 30 14:16:42 2010 +0000

    Rename README.acls to README.ACLs

commit a14ff650bef91138951c5b248719a5fae2727f83
Author: franklahm <franklahm>
Date:   Tue Mar 30 14:11:46 2010 +0000

    Rename README.platforms to README.AppleTalk as suggested by HAT

commit 1fa8a0e179ad578de909c8774299967299362b0f
Author: franklahm <franklahm>
Date:   Tue Mar 30 14:07:13 2010 +0000

    FBCIndex and stuff, from HAT

commit 296eb8dfd48fb30bbc4b2371c3e1dabefe9d833d
Author: franklahm <franklahm>
Date:   Tue Mar 30 12:55:26 2010 +0000

    Allow opening symlinks r/w, but don't actually allow writing. Fixes test426

commit f6a596fc1dcb60c6ebe9766d64b9c43347bd7232
Author: franklahm <franklahm>
Date:   Tue Mar 30 12:48:40 2010 +0000

    max 80 cols, from HAT

commit 57bbe088b549eb7b0189c90ad7e733b113ffcf28
Author: franklahm <franklahm>
Date:   Tue Mar 30 12:44:35 2010 +0000

    Fix typos

commit 7286be34d25b2efeb68e9d5cf2e0ca1c1e7460ae
Author: franklahm <franklahm>
Date:   Tue Mar 30 10:25:49 2010 +0000

    Prevent security attack guessing valid server accounts

commit 0936b000599ade5a9be623cea527f4c4e26d1845
Author: franklahm <franklahm>
Date:   Mon Mar 29 20:24:27 2010 +0000

    Doc for new AFP signature stuff, from HAT

commit 24900add4b61b209ec0418de06272ebe618bfeac
Author: franklahm <franklahm>
Date:   Mon Mar 29 15:22:57 2010 +0000

    New AFP signature algorithm, from HAT

commit a3e43549642d11f4bc86324f9a09c294f6a3f74b
Author: franklahm <franklahm>
Date:   Fri Mar 12 15:16:48 2010 +0000

    Convert afp_moveandrename and all called funcs to XXXat semantics if available

commit 59a2b6f4e58dfa6db2487c25abdb58bce17c8fc8
Author: franklahm <franklahm>
Date:   Tue Mar 9 06:55:12 2010 +0000

    Initialize AFPobj for AFP over AT too

commit 37b0e216fc4f7661013a95f64b354354a6743bfb
Author: franklahm <franklahm>
Date:   Mon Mar 8 19:49:59 2010 +0000

    acltoownermode: check if UUID support is on

commit 78d8d7d0d01eacc9f585125d388061927729eff6
Author: didg <didg>
Date:   Sun Mar 7 18:27:59 2010 +0000

    ad_metadata don't try to open adouble file read write if ADFLAGS_CREATE is not set

commit aeaf0b975dc760ec956e706bca56a816fd42a12f
Author: didg <didg>
Date:   Tue Mar 2 18:07:13 2010 +0000

    previous commit 'use ad_close_metadata after ad_metadata' didn't compile

commit 97fc57c8531e230f9359db557211b64f7e63baf3
Author: didg <didg>
Date:   Tue Mar 2 13:29:31 2010 +0000

    cosmetic: use ad_close_metadata after ad_metadata

commit 7dc66ebc785ab66d13f591a60e149b1e4901df66
Author: didg <didg>
Date:   Tue Mar 2 12:45:31 2010 +0000

    streamline deletefile, open the resource fork only once

commit 016c271e97905d3b6c93efbc553abce064a66e3b
Author: didg <didg>
Date:   Mon Mar 1 21:11:06 2010 +0000

    ad_open: unset O_TRUNC and O_CREAT in adf_flags if the resource fork is already open

commit 3a047048a8ddb828d03a37a326b9f41b7fd7fc83
Author: didg <didg>
Date:   Mon Mar 1 05:05:46 2010 +0000

    create_special_folder: cosmetic, replace ad_open with ad_open_metadata

commit 40d96a4604aee6831230e2ab4abb17ba9247891e
Author: didg <didg>
Date:   Sun Feb 28 22:29:15 2010 +0000

    previous commit 'lchdir: use chdir + getcwd' was only testing for symlink outside the volume's root directory, hopefully this one is correct

commit 5f5a1a34ccb8e8a74cb4f74e4b1a95cb4b22182b
Author: didg <didg>
Date:   Sun Feb 28 17:02:49 2010 +0000

    lchdir: use chdir + getcwd

commit f6b883a6b4e82a37a357985ae103ce88532e4af9
Author: didg <didg>
Date:   Fri Feb 26 14:13:16 2010 +0000

    ad_size: if it's a symlink don't use fstat

commit e87de1e72892cc7c0f5a0cec353937404b2fe3ac
Author: didg <didg>
Date:   Fri Feb 26 12:57:50 2010 +0000

    lock don't call fcntl if fd == 0, it's a symlink

commit 57ccf0c1240b4712852c0d75cbd6021f2761cb25
Author: didg <didg>
Date:   Fri Feb 26 12:31:02 2010 +0000

    getforkparms: lstat the symlink not /dev/null

commit 82094a3947daa8e605debe704fa7e86171f20f8c
Author: franklahm <franklahm>
Date:   Mon Feb 22 08:51:03 2010 +0000

    Default type/creator. From HAT

commit 46e1aa07efc44ec4a06956039cd06b43ed395fd6
Author: franklahm <franklahm>
Date:   Fri Feb 19 11:29:51 2010 +0000

    Move lchdir() to libatalk/util/unix.c and use that in catsearch.c.

commit 5a4a20436042ff567ebda2518f0944dacf4d01fc
Author: franklahm <franklahm>
Date:   Fri Feb 19 10:51:59 2010 +0000

    Remove v_realpath from struct dir, normalize v_path instead

commit 2c09a52ace844af8c2475b7221b8d69d8a81b53e
Author: didg <didg>
Date:   Fri Feb 19 01:26:03 2010 +0000

    use volume real path for chdir

commit e7f16b40d6150a2545be7e1107279f71087c26bc
Author: didg <didg>
Date:   Fri Feb 19 00:32:22 2010 +0000

    move static variables only used in catsearch inside the function, test for chdir return code, we have to use symlink safe chdir here

commit ea05e68c3aad7262dc00f85b1ce8769de409b6b1
Author: didg <didg>
Date:   Thu Feb 18 08:08:01 2010 +0000

    OSX return AFPERR_NOOBJ rather than AFPERR_PARAM

commit 83db9cc5df13d2e3b03897e3a39a3826c40c7e61
Author: didg <didg>
Date:   Thu Feb 18 02:02:30 2010 +0000

    keep the source file open when parsing parameters in afp_copyfile. Really return an error if dest dir is not a dir, AFAIK this parameter is always empty

commit 55d2e81fa20341a99afb6235d3a4e498e3ebcf0a
Author: didg <didg>
Date:   Wed Feb 17 01:46:14 2010 +0000

    log type_configs data is used by uams modules, define it as UAM_MODULE_EXPORT

commit 2ba0e166dc71e3ff2d9c5cc548a605ee59fd834b
Author: didg <didg>
Date:   Wed Feb 17 01:41:58 2010 +0000

    in setfilparam when switching to a symlink use of_stat rathert than lstat, of_stat also set path->errno

commit 6a4fd48595d21b56d43e1c7970582b2e3343efd9
Author: didg <didg>
Date:   Wed Feb 17 01:19:51 2010 +0000

    remove a gcc warning: 'suggest parentheses around assignment used as truth value'

commit f6a9ab7de99904e2bd4f76ef90769b57a2dd807f
Author: didg <didg>
Date:   Tue Feb 16 02:43:36 2010 +0000

    use the right test for noadouble volumes

commit c3987597d8bda24f6099d7a20833638aaeaf7b7d
Author: didg <didg>
Date:   Tue Feb 16 02:37:38 2010 +0000

    remove a gcc warning: static is not at beginning of declaration

commit 081687d2d0ded084e18ee1a24ccb169cc65bd2dc
Author: franklahm <franklahm>
Date:   Mon Feb 15 13:58:38 2010 +0000

    Fix some uninitialized warnings

commit d3119e12d4989f648a02b34adfce0ad976b619e3
Author: franklahm <franklahm>
Date:   Mon Feb 15 12:00:36 2010 +0000

    Make LOG macro fast again

commit abd42ab346f542f6c561c43084a58fb4e9e2bc1e
Author: franklahm <franklahm>
Date:   Sun Feb 14 11:18:38 2010 +0000

    Last manpage checkin from XML sources before 2.1beta1 release

commit 9cfda0e7072544588db645b0915ac675a9769878
Author: franklahm <franklahm>
Date:   Sun Feb 14 10:47:46 2010 +0000

    Update

commit c1ed5632ada32800ed109aa430f6b3dddcfd6f63
Author: franklahm <franklahm>
Date:   Thu Feb 11 16:01:18 2010 +0000

    Some stuff was missing

commit ba40d5770e2bbfc6814eeaa42b5cbe251c879b72
Author: franklahm <franklahm>
Date:   Thu Feb 11 14:13:06 2010 +0000

    dirlookup by recursion, not through db lookups

commit 7bb91485e8f38fcd6412c76e1344eafac31b5bb7
Author: franklahm <franklahm>
Date:   Thu Feb 11 13:06:54 2010 +0000

    Logging assert macro AFP_ASSERT

commit 2bf71d3ccf20c072bc67a9d075b6ac8b0798021e
Author: franklahm <franklahm>
Date:   Wed Feb 10 14:05:36 2010 +0000

    Merge symlink branch

commit 4eb1ee75ecda1b8fda43b121523479bfdb77845d
Author: franklahm <franklahm>
Date:   Tue Feb 9 14:56:30 2010 +0000

    New volume option "eject" for eg CD-ROM. Forces in-memory tdb CNID backend.

commit 6d1ce9b85bf3d1813776830f5894d83b79d7e45f
Author: franklahm <franklahm>
Date:   Tue Feb 9 14:17:31 2010 +0000

    Show CNID defaults in configure --help

commit 95c599bf656ced1d9169c5595cc4f412d19c45a7
Author: franklahm <franklahm>
Date:   Tue Feb 9 14:06:53 2010 +0000

    tdb CNID backend must be enabled by default

commit 1f21a4017b30f887866ed992e90e639e4d2c089b
Author: franklahm <franklahm>
Date:   Mon Feb 8 13:39:56 2010 +0000

    SIGINT enables max_debug logging to /tmp/afpd.PID.XXXXXX

commit a1fbe98fceb7b7e11ba1694b358a7c4c8ee919dc
Author: franklahm <franklahm>
Date:   Mon Feb 8 10:29:22 2010 +0000

    Remove volume option debugfile

commit 07bc9e3dff57dc5d963e2b185e6e788a30165fd9
Author: franklahm <franklahm>
Date:   Sat Feb 6 09:53:02 2010 +0000

    gcrypt version is a string

commit e2deb141bfff36ffabafb9211c8f3ecdbdc2a401
Author: franklahm <franklahm>
Date:   Fri Feb 5 12:56:13 2010 +0000

    cname documentation. dont remove dirs with open forks

commit f95f1354d2edcec638cb22cb712e40902e26425d
Author: franklahm <franklahm>
Date:   Fri Feb 5 10:38:53 2010 +0000

    Untabify and reindent

commit 99aaf9306382e8bbc04125016a744016b5511311
Author: franklahm <franklahm>
Date:   Fri Feb 5 10:27:58 2010 +0000

    dircache: support locking of dirs which prevent cache removal.

commit 78147d68691c6d364792d2aafca9e6efa2f2d6be
Author: franklahm <franklahm>
Date:   Thu Feb 4 14:34:31 2010 +0000

    Remove excessive logging.
    Add dircachesize option for afpd.conf.
    Add dircache dumping with a -SIGHUP handler.

commit c5a494053c2eeb9c8a2124c2afa17698d59ec512
Author: franklahm <franklahm>
Date:   Thu Feb 4 10:53:03 2010 +0000

    2.1beta1

commit f1139f03e41e2d86208100483a572e29af858954
Author: franklahm <franklahm>
Date:   Thu Feb 4 10:52:29 2010 +0000

    volume option debugfile

commit de31d359ef07cfe8349fb5e9346d58b412c46a6b
Author: franklahm <franklahm>
Date:   Wed Feb 3 11:35:58 2010 +0000

    Show msg dir in afpd -V

commit 1a8fee3f065c4d4dee0427d796b03132de8b9902
Author: franklahm <franklahm>
Date:   Tue Feb 2 14:39:48 2010 +0000

    setdirparams: change parent mdate again
    dircache: pay attention to curdir on cache eviction

commit 39a148b1c44189abd6e11e38253f2c0557bbac81
Author: franklahm <franklahm>
Date:   Tue Feb 2 13:16:15 2010 +0000

    Remove cache entry if dir is gone in dirlookup

commit 03936126ef4b2b0c68c966007ba567bc57c6da1b
Author: franklahm <franklahm>
Date:   Tue Feb 2 13:15:30 2010 +0000

    Fix deleteid for deleted parent dir case

commit 99f3307199c95c63dff423ef62a4dca066c4d899
Author: franklahm <franklahm>
Date:   Mon Feb 1 19:40:43 2010 +0000

    CNID backend requierments

commit 5bfe48a9ae9daa91a7660c4cdf398e2ed0072fa4
Author: franklahm <franklahm>
Date:   Mon Feb 1 19:11:01 2010 +0000

    Cache eviction enhancement

commit 0c8cd9181b742fd59e974cc888c4775565e1f381
Author: franklahm <franklahm>
Date:   Mon Feb 1 16:13:52 2010 +0000

    Fix test348 and 349

commit bdf08ea97c8c83b953f411f3161d08752a43cdc6
Author: franklahm <franklahm>
Date:   Mon Feb 1 14:25:45 2010 +0000

    Fix for not working dirname demangling

commit 55cec16b9fcbfbe194ccab14e5ab8e9937d302ad
Author: franklahm <franklahm>
Date:   Mon Feb 1 12:59:09 2010 +0000

    Fix error in dirlookup. Fixes several test-suite tests.

commit d5a307c18c5ae3ea6ecd1b95c9fea561f67bcb0c
Author: franklahm <franklahm>
Date:   Mon Feb 1 11:19:32 2010 +0000

    More files to ignore

commit 7a98814900df9f0ab65b579585ca43b57eeacad4
Author: franklahm <franklahm>
Date:   Mon Feb 1 11:15:17 2010 +0000

    Remove inadvertenlty added files

commit 6ee7ecd6892a1750128dcced1410e76b5e166874
Author: franklahm <franklahm>
Date:   Mon Feb 1 10:56:08 2010 +0000

    commit dircache rewrite.
    ----------------------------------------------------------------------
    Modified Files:
      Tag: branch-dircache-rewrite
            Makefile.am configure.in etc/afpd/Makefile.am
            etc/afpd/afp_dsi.c etc/afpd/appl.c etc/afpd/catsearch.c
            etc/afpd/desktop.c etc/afpd/directory.c etc/afpd/directory.h
            etc/afpd/enumerate.c etc/afpd/file.c etc/afpd/file.h
            etc/afpd/filedir.c etc/afpd/globals.h etc/afpd/mangle.c
            etc/afpd/ofork.c etc/afpd/volume.c include/atalk/Makefile.am
            include/atalk/directory.h include/atalk/volume.h
            libatalk/Makefile.am libatalk/util/Makefile.am
    Added Files:
      Tag: branch-dircache-rewrite
            etc/afpd/dircache.c etc/afpd/dircache.h
            include/atalk/bstradd.h include/atalk/bstrlib.h
            include/atalk/queue.h libatalk/bstring/.cvsignore
            libatalk/bstring/Makefile.am libatalk/bstring/bstradd.c
            libatalk/bstring/bstrlib.c libatalk/util/queue.c
            test/.cvsignore test/Makefile.am test/afpd/.cvsignore
            test/afpd/Makefile test/afpd/Makefile.am test/afpd/Makefile.in
            test/afpd/afpfunc_helpers.c test/afpd/afpfunc_helpers.h
            test/afpd/subtests.c test/afpd/subtests.h test/afpd/test.c
            test/afpd/test.h test/afpd/test.sh
    ----------------------------------------------------------------------

commit 20806454f8348d631df2c94208febe56b00e0adb
Author: didg <didg>
Date:   Wed Jan 27 21:27:53 2010 +0000

    megatron, fix errors introduced in  Sun Feb 6 10:16:00 2005 commit, 'replace a wrong test for protecting against buffers underflow by ... a buffer underflow, always' .

commit 4d844c05e445384e846794f71a1a4d2b0a3d56fc
Author: didg <didg>
Date:   Wed Jan 27 12:36:42 2010 +0000

    use open and fchdir rather than getcwd in catsearch

commit 53b0b6204387cf693280781355e0f27700f8eace
Author: didg <didg>
Date:   Tue Jan 26 20:43:11 2010 +0000

    remove a 'discard const ...' warning in papd cups

commit 9b4a84a500eeddaed4a13c3fce4387a390b932aa
Author: didg <didg>
Date:   Tue Jan 26 20:39:52 2010 +0000

    use the right test for file/dir invisible attribute bit modification and parent directory modification date update

commit e2e9041cdb2c8fe09af3eb4ca6e70e6675fd1c82
Author: franklahm <franklahm>
Date:   Tue Jan 26 18:13:48 2010 +0000

    Remove mtab CNID backend

commit 6d02c5941aaef99e4aee20a5ce1e61c0be428da0
Author: didg <didg>
Date:   Tue Jan 26 09:31:59 2010 +0000

    previous commit :don't send a server notification on volume time modification if AFP > 3.1, client able to speak 3.2 are now smart enough, wasn't using the right test

commit e9fa1eb3c73bd7abea3b6294e4389cf7c7f1d829
Author: didg <didg>
Date:   Tue Jan 26 08:14:09 2010 +0000

    return the right error code when deleting afp current directory if it's already been deleted by another afpd process

commit 6591c034266b5acfe171296ca6bdcca552ad1ff6
Author: didg <didg>
Date:   Tue Jan 26 08:05:17 2010 +0000

    don't use & in getcwd parameter

commit ff089b952b7f1bb84c178be75bed23d7a73ca903
Author: didg <didg>
Date:   Mon Jan 25 18:39:05 2010 +0000

    don't send a server notification on volume time modification if AFP > 3.1, client able to speak 3.2 are now smart enough

commit 0e19d07cce2b0ec73e95cdfd8264148d69e039c3
Author: franklahm <franklahm>
Date:   Sat Jan 23 14:54:43 2010 +0000

    Return correct error if EA already exists

commit 5c249cde5343e893c4bed3e0f6436525ceae3d6d
Author: franklahm <franklahm>
Date:   Sat Jan 23 14:44:42 2010 +0000

    Missing error codes

commit 02dc9fa6c7f870f9129cc74b6b2d26e6dc3fbb58
Author: franklahm <franklahm>
Date:   Fri Jan 22 08:56:32 2010 +0000

    Remove cvsignore

commit 07c2d6712ebc43417fc4dbe74d5398cd14b22204
Author: didg <didg>
Date:   Fri Jan 22 04:40:38 2010 +0000

    add/remove comment: test parent directory perms for volumes with unix priv too

commit 7b12c56c26d0ce7ef5834c71d3c8bcc90fef2532
Author: didg <didg>
Date:   Thu Jan 21 14:14:49 2010 +0000

    afpd set the logger default to log_info and move some log msgs to log_debug

commit 9e86ce73a1ea3f699d026bfa174231938e429a32
Author: didg <didg>
Date:   Thu Jan 21 12:10:19 2010 +0000

    try to get the directory's cnid from the adouble header when adding it to the cache, from Frank

commit 42c8cb19e0091eee8cc3cfa2c97205d7a412fb1b
Author: franklahm <franklahm>
Date:   Wed Jan 20 13:22:13 2010 +0000

    More logging

commit 64b096363f0da5df19499e7e5841f12e6a3e2dd0
Author: franklahm <franklahm>
Date:   Tue Jan 19 14:57:11 2010 +0000

    Fix for type (file/dir) mismatch in dbd_lookup. Also fixes:
    * db_strerror was called several times with the wrong variable
    * factorize some functions, thereby also
    * hide/encapsulate the problem of relative pathnames for logfiles and in check_upgrade

commit 0f6db391c92b00a90872c11f1ac779e20ba11597
Author: franklahm <franklahm>
Date:   Tue Jan 19 14:51:18 2010 +0000

    Fix to arg in log statement

commit 09bb686edb59fcdca1a7ec943d0618f1c8d5898c
Author: franklahm <franklahm>
Date:   Mon Jan 18 12:55:28 2010 +0000

    Add debug log statement to afp_getfildirparms.
    Add logging of AFP return code.

commit 6304cf042d110051340daaa2c78e8e51a3739930
Author: franklahm <franklahm>
Date:   Mon Jan 18 11:45:37 2010 +0000

    Enumeration didn't write CNID data to adouble file when creating

commit f7884a6da7eecbec35e2cb8855e0d8b3d8963912
Author: franklahm <franklahm>
Date:   Sun Jan 17 15:04:09 2010 +0000

    Update apple_dump:
     * readbility
     * newer FinderInfo
     * warn and exit if both .AppleDouble/FILE and ._FILE exist.
     * dump EAs
    From HAT.

commit a67f5d489943916f808e24e1724b61f1091dad36
Author: franklahm <franklahm>
Date:   Sat Jan 16 13:02:34 2010 +0000

    Output of service atalk status was wrong

commit 1d5c8032fa0438f00056da0cc289248821ebf54a
Author: franklahm <franklahm>
Date:   Mon Jan 11 13:06:02 2010 +0000

    Dont install PAM stuff if not requested

commit 28fb513cdb76abf5a3c7a74a567dc1fe7c22eb3e
Author: franklahm <franklahm>
Date:   Mon Jan 11 11:09:36 2010 +0000

    Add debug message

commit 31133687b83ed28bd3267b101cdbca6c6cd3f998
Author: franklahm <franklahm>
Date:   Sun Jan 10 10:58:24 2010 +0000

    Remove struct dir.d_uname_len and its dependencies. It is now
    evaluated in the hash function itself.

commit 3e7ee4038a208f37d277a5ae79633ee55164aca3
Author: franklahm <franklahm>
Date:   Wed Jan 6 15:37:01 2010 +0000

    Add some description of dir caching in afpd

commit 6f3a5b930085e56f39b415f20db02df98dbecfff
Author: franklahm <franklahm>
Date:   Wed Jan 6 14:05:15 2010 +0000

    Only update adouble file with CNID on mismatch.
    ad_setid: compared sizeof(dev_t) with the wrong adouble entrylen.
    ad_metadata: alos check if really ADVOL_CACHE for adouble file creation.

commit f24a6de41b8e6a6adfb1072558fb274e6a1c284f
Author: franklahm <franklahm>
Date:   Wed Jan 6 12:59:10 2010 +0000

    Forgot test for noadbouble vol in ad_metadata in previous commit

commit 461587c2cfea98f334cf6575dbaeefe43eb41eba
Author: franklahm <franklahm>
Date:   Wed Jan 6 11:08:53 2010 +0000

    Reintroduce adouble file creation on enumeration

commit 679308583813557f3e63c4865bbeea42e563a9fd
Author: didg <didg>
Date:   Wed Jan 6 06:06:20 2010 +0000

    directories cache, update d_u_name_len when d_u_name is modified

commit 458d23f49dee93c7fca0ce757bed6cc11b5ea1ac
Author: franklahm <franklahm>
Date:   Tue Jan 5 19:05:52 2010 +0000

    More doxygen style API documentation

commit 52e22da701ab2b669f00c6efa9e28f0467c23705
Author: franklahm <franklahm>
Date:   Tue Jan 5 15:46:13 2010 +0000

    Remove ADVOL_NOADOUBLE check. It prevented creation of .AppleDouble dirs

commit 86d7c19c39666bb1843008fc15819c53d8a4c56e
Author: franklahm <franklahm>
Date:   Tue Jan 5 15:12:19 2010 +0000

    Fixes for changed ADVOL_NOADOUBLE flag passing

commit 21c32b95deda9b1f94ab755446e454a27309d7f4
Author: franklahm <franklahm>
Date:   Tue Jan 5 14:31:58 2010 +0000

    Fix LOG call

commit 9685b2154cf9f48f586698e1f79d89659efcbe7b
Author: franklahm <franklahm>
Date:   Tue Jan 5 13:48:47 2010 +0000

    Add static getcwd and use it for debugging in ad_open

commit 25b5d2196afe740269c3347d49e6f59c40071429
Author: franklahm <franklahm>
Date:   Tue Jan 5 12:06:33 2010 +0000

    Substitute ADFLAGS_NOADOUBLE with ADVOL_NOADOUBLE, which gets automatically stuffed into
    struct adouble via ad_init. This eleminates the need to call vol_no_adouble(vol) every time
    in ad_open in order to pass ADFLAGS_NOADOUBLE with adflags, instead inside ad_open the func checks
    ad->ad_options.
    Remove forced adouble file creation from ad_metadata, this broke the clean ad_* API semantics of
    only creating files with O_CREATE. Instead do it explicitly in enumerate where the original force
    adouble patch grew from.

commit 810b61e188382dd9e01ffeb36a38abdffb1cc3fd
Author: franklahm <franklahm>
Date:   Tue Jan 5 10:37:29 2010 +0000

    Beautify

commit ad10dc0aadf74983abae6df81e5b5963f1199e55
Author: franklahm <franklahm>
Date:   Mon Jan 4 13:49:48 2010 +0000

    Start adouble documentation in Doxygen style

commit d861fc384ee4d020ca523ed046ac1979a3eb2b11
Author: franklahm <franklahm>
Date:   Mon Jan 4 10:02:18 2010 +0000

    Rename asaddump to apple_dump

commit 9c8b43aa8aad1c5acfa45194cd88558e5e2cb367
Author: franklahm <franklahm>
Date:   Mon Jan 4 09:46:39 2010 +0000

    Lots of improvements. From HAT

commit edefad2f0703ed2f6a21025d615600ed18c83d18
Author: franklahm <franklahm>
Date:   Tue Dec 29 10:07:32 2009 +0000

    Last commit message mentionend the wrong CNID backends!
    For clarity: these are now still avaialable:
            "last mtab cdb dbd tdb"

commit 139904fa924809bff64398c5f85a9091f6329e5c
Author: franklahm <franklahm>
Date:   Tue Dec 29 10:02:58 2009 +0000

    remove hash files

commit 0ca9763b7c90d60dc01a333d775936c476a39b8f
Author: franklahm <franklahm>
Date:   Tue Dec 29 09:58:45 2009 +0000

    Remove db3 files

commit cc865567d21fe5c9076ad6d79725f3895cb59b84
Author: franklahm <franklahm>
Date:   Sun Dec 27 09:50:45 2009 +0000

    Nicely print dev/ino data. From HAT.

commit d44d305c410378b95aa39b6346a98886521a3b27
Author: franklahm <franklahm>
Date:   Thu Dec 24 08:05:39 2009 +0000

    Checkin all manpages freshly from XML for 2.1beta. Merry christmas!

commit b4e1f62edd6815f9365f752f0ef7a82d3d2d0a80
Author: franklahm <franklahm>
Date:   Wed Dec 23 15:53:15 2009 +0000

    asaddump: dump AppleSingle/Double files. From HAT.

commit e671eb15f74c4a6693fd682af331b35d8a2306ab
Author: franklahm <franklahm>
Date:   Wed Dec 23 14:14:09 2009 +0000

    Enhance readability. From HAT.

commit bd668c43cce398f674d15a0b640a36a1678d419d
Author: franklahm <franklahm>
Date:   Wed Dec 23 12:41:53 2009 +0000

    ea option

commit 7d0cc39610b560ee0ff3ece1cfd81572ee459724
Author: franklahm <franklahm>
Date:   Wed Dec 23 11:09:25 2009 +0000

    Support long usernames. From Alain Richard.

commit 2114192d67ecd7d68a0db6de8af78b7eacf3bd97
Author: franklahm <franklahm>
Date:   Wed Dec 23 10:18:48 2009 +0000

    Untabify and reindent

commit fcb2f41133bdbfda065153bf9c43f6f0dc33ce8a
Author: franklahm <franklahm>
Date:   Wed Dec 23 07:21:08 2009 +0000

    Check if entries are present before using them

commit 08ece19cdd2ef43f93410b543d0140aff04a0fba
Author: franklahm <franklahm>
Date:   Tue Dec 22 14:45:38 2009 +0000

    Remove bogus checks

commit f474c6aeed0264eb4072702a69f2e581420d2081
Author: franklahm <franklahm>
Date:   Tue Dec 22 13:37:27 2009 +0000

    Add debug log messages

commit 387c621d04a928b7e362432b9b56d1960b5045a1
Author: franklahm <franklahm>
Date:   Tue Dec 22 10:46:28 2009 +0000

    Add all EA opts to volinfo

commit 0ca7fff633560bd83a27f3a94f27258836e3da98
Author: franklahm <franklahm>
Date:   Tue Dec 22 09:43:15 2009 +0000

    Completely ignore symlinks

commit 5a52f1e53ea35e43fbd0961d20ac1b2c8ea928c2
Author: franklahm <franklahm>
Date:   Mon Dec 21 17:00:17 2009 +0000

    Change logging

commit e48c7072eb3bb6d0a39388c8cd442ae7473a2110
Author: franklahm <franklahm>
Date:   Mon Dec 21 14:41:00 2009 +0000

    Distinguish between intra-share and extra-share symlinks

commit 72b56361baec5c7f39efb18fdc19c7cd8c7aa8fc
Author: franklahm <franklahm>
Date:   Mon Dec 21 09:35:55 2009 +0000

    symlink support

commit 50d754b2f4cca707e1165cc3dbc5deaded1fead5
Author: franklahm <franklahm>
Date:   Mon Dec 21 07:49:44 2009 +0000

    logger: write to fd 1 directly instead of /dev/tty. The latter cant be redirected

commit 48a2bc913abb080d567a7c18c0fddaf6be2b0d92
Author: franklahm <franklahm>
Date:   Mon Dec 21 07:32:01 2009 +0000

    ooops! Previous commit requested 64 GB cache instead of 64 MB...

commit 7bd0ab8692a994665b52d5680359e64866526fc1
Author: franklahm <franklahm>
Date:   Mon Dec 21 06:41:09 2009 +0000

    Set cachesize for rebuild db

commit 73557ce3125316deb2f2f63eacae6a4e4a8ecd2f
Author: franklahm <franklahm>
Date:   Sun Dec 20 16:04:21 2009 +0000

    Logfile removal was not working

commit 054a71a10ec9e41851f2e2443e2061fbce4e4c77
Author: franklahm <franklahm>
Date:   Sun Dec 20 14:17:23 2009 +0000

    Raise bdb cache size to 64 MB

commit a732becb57889c115ccd224a2305247f3140c547
Author: franklahm <franklahm>
Date:   Fri Dec 18 19:18:40 2009 +0000

    Fix EA support detection. New ea option values none and auto

commit 11660927831420fe03020ffe5a8e2ffe7d12c396
Author: franklahm <franklahm>
Date:   Fri Dec 18 13:01:15 2009 +0000

    Removed nu. Use macusers instead

commit ebae5e3c994cd71ffe1bb06fe61f6e3a95f0dc1e
Author: franklahm <franklahm>
Date:   Thu Dec 17 17:59:35 2009 +0000

    Some options where listed under options: options wrongly.
    Missing #.
    Realign for 80 character terminals.
    From HAT.

commit d4b630e70177566c1732470cdb1328e4131768ee
Author: franklahm <franklahm>
Date:   Thu Dec 17 09:25:40 2009 +0000

    Fix ea:sys check

commit a778194faadb919643c3db551969d9705620854c
Author: franklahm <franklahm>
Date:   Sun Dec 13 17:33:09 2009 +0000

    Remove spurious log message

commit f48dd8452cfa107300ad2f1ffb09aef7979820b8
Author: franklahm <franklahm>
Date:   Sun Dec 13 11:59:11 2009 +0000

    Fix searching for lib on 64bit platforms

commit d4968881133f5a9ac745416b32ad6645f52d1ae9
Author: franklahm <franklahm>
Date:   Sun Dec 13 11:58:30 2009 +0000

    Update slp macro, default is disabled now

commit 308986640034c7833f2e4082153eb364ce4236d3
Author: didg <didg>
Date:   Sun Dec 13 03:19:05 2009 +0000

    add a draft for 2.1 release note/TODO

commit c87a5a0209d685094a306f738d62a867ae20d838
Author: didg <didg>
Date:   Sun Dec 13 03:07:21 2009 +0000

    update config template with new options

commit c9affe90ed974bf4f3bda181f43940a587597fe7
Author: didg <didg>
Date:   Sun Dec 13 02:21:47 2009 +0000

    atalkd don't spam syslog if an interface is down, XXX atalkd still advertise routes to it

commit 3d54d0392b77c69b71ae919cce1c82063164e89c
Author: didg <didg>
Date:   Sun Dec 13 01:17:16 2009 +0000

    atalkd the function as_timer is way to big, use longer lines

commit b5da0a9f01f0c539f97d7ef13f6323a45670cac8
Author: didg <didg>
Date:   Sun Dec 13 00:33:58 2009 +0000

    split horizon on router tables, wihout it poisoned routes are never deleted

commit c7b261442aaddfdc5d8908718702651d38082e18
Author: didg <didg>
Date:   Sun Dec 13 00:31:50 2009 +0000

    don't dump core if there's no zone for on a seeded interface

commit 0af785317766d0faaff34c6b83d0435951ff3788
Author: franklahm <franklahm>
Date:   Fri Dec 11 13:26:44 2009 +0000

    New default for ea volume option is "sys".
    Fallback to "ad" if volume doesn't support EAs. Checked at volume mount time.

commit b82fd352a6bcb02696304173efcad7e313420a21
Author: franklahm <franklahm>
Date:   Fri Dec 11 13:11:18 2009 +0000

    Add command string and symbol for AFP_GETUSERINFO

commit 59fe0899903b1540c854c939ee61497c62199e9a
Author: franklahm <franklahm>
Date:   Fri Dec 11 10:14:02 2009 +0000

    Untabify and reindent

commit 4a671e56e9e8448e8f11b1dd4654780cdad0ad4f
Author: franklahm <franklahm>
Date:   Thu Dec 10 17:40:25 2009 +0000

    Add support for ea:ad volumes

commit 53a5d5f258d34c5c6ece62411ab4e1e04aa33fea
Author: franklahm <franklahm>
Date:   Wed Dec 9 15:37:32 2009 +0000

    Update spec with how we use the hint

commit e4a6f1483c43b81c3dca414e58d1e9be4ff86031
Author: franklahm <franklahm>
Date:   Wed Dec 9 15:25:28 2009 +0000

    Adjust dbd to use the same fixup logic as afpd ie call dbd_lookup with hint

commit f675c16d7762a175c5d3cf0fd2582a4ff6f700b2
Author: didg <didg>
Date:   Tue Dec 8 22:34:37 2009 +0000

    Not all systems define AI_NUMERICSERV

commit f5e08e2462f265c7dfa66fe91dd9d7d6ca55376c
Author: didg <didg>
Date:   Tue Dec 8 22:33:33 2009 +0000

    don't spam the log with 'Invalid cnid, corrupted DB?' msg if cnid functions retun 0 \(CNID_INVALID\)

commit 54a8a6ff2b2fa62f5fdf4b3aeb068e9436f2f942
Author: franklahm <franklahm>
Date:   Tue Dec 8 10:26:12 2009 +0000

    Update spec

commit d0cceb83c8228ea9ec609727577f5a5ff3303ad6
Author: franklahm <franklahm>
Date:   Tue Dec 8 09:01:14 2009 +0000

    atalkd workaround for Linux 2.6 AT kmodule bug

commit fc81aa847cf26ebd9839227b630232f7400bb84d
Author: didg <didg>
Date:   Tue Dec 8 03:21:16 2009 +0000

    atalkd: linux 2.6 sends broadcast queries to the first available socket (in our case the last configured), try to find the right one. Note: now a misconfigured or plugged router can broadcast

commit 3f3923e8d0a75c310a7a006d734cf6d93f7c43b8
Author: franklahm <franklahm>
Date:   Mon Dec 7 14:59:35 2009 +0000

    Rename Solaris initscript installed name to netatalk

commit 6345b06a6a32fce598cf0a7961a57f778bbab7bd
Author: franklahm <franklahm>
Date:   Mon Dec 7 11:08:51 2009 +0000

    Append newline to EXTATTRTYPE

commit 8783a147f521e63a255e7fa8a4da417325834922
Author: franklahm <franklahm>
Date:   Mon Dec 7 09:13:52 2009 +0000

    Some fixes from HAT.

commit 2a9d45bd6b46cd74e86d3f45fdf5fe4d1d70adc3
Author: franklahm <franklahm>
Date:   Fri Dec 4 10:26:10 2009 +0000

    Return right error for requested but non-existing EA.
    Thanks to Stephan Budach for reporting this.

commit d1d63d6784269cec7dd55693ba274e5d122e9528
Author: franklahm <franklahm>
Date:   Thu Dec 3 13:33:44 2009 +0000

    Dont just exit, use longjmp to exit with cleanup

commit 624176c919e211b0a6d1623e92ff2b0fd792929e
Author: franklahm <franklahm>
Date:   Thu Dec 3 12:47:36 2009 +0000

    Write EA mode to volinfo file

commit 4c16a8e1f590cb133ef1984302ca2c831311fe62
Author: franklahm <franklahm>
Date:   Wed Dec 2 10:59:44 2009 +0000

    Apple downstream Debian patch

commit b684c667e321c2b6bd5f949dc751ded276e11020
Author: franklahm <franklahm>
Date:   Tue Dec 1 16:36:14 2009 +0000

    Nicely move all volinfo file code to libatalk

commit b0ae2ebd95b7de8a893bcd996577d104eb3d66b4
Author: franklahm <franklahm>
Date:   Tue Dec 1 13:37:20 2009 +0000

    dbd must call ad_setfuid(0) in order to inherit perms correctly

commit 1492890c4afedefdc6f0dad5da4d76b40f27b0ec
Author: franklahm <franklahm>
Date:   Mon Nov 30 15:51:30 2009 +0000

    Scan mode wasn't called

commit 1df1737ab4dc786bd9ffe219ebee314aed190bc7
Author: franklahm <franklahm>
Date:   Mon Nov 30 15:30:47 2009 +0000

    Log debug supplementary groups

commit 516cd7ae0378bd5205b401a4430ed6811a4a30e3
Author: didg <didg>
Date:   Mon Nov 30 15:27:48 2009 +0000

    use the cnid in adouble header as a hint for dbd add/update

commit cbf9821f21bf43a96a32c77d4813430340a2ffa5
Author: didg <didg>
Date:   Mon Nov 30 15:24:37 2009 +0000

    in volparam attribute only set bits defined in AFP version used by the client, cf debian bug #442228

commit 5a625b98b89e1d223a0d341ed5c54d86b87ceed2
Author: didg <didg>
Date:   Sat Nov 28 17:03:38 2009 +0000

    Wireshark dissector for dbd 'wire protocol', in lua

commit eca21be7bec8e452715506d77a32b1cb48697191
Author: didg <didg>
Date:   Sat Nov 28 15:42:05 2009 +0000

    don't trash the db if a file is moved to a different directory without updating the db

commit c08d8903cf9b6a4a132fa719459b215e89d96536
Author: didg <didg>
Date:   Sat Nov 28 13:09:25 2009 +0000

    guard against confused DB returning junk values

commit 146d3644ad68455fad86b89c39e896a1ba1fda33
Author: franklahm <franklahm>
Date:   Sat Nov 28 13:06:30 2009 +0000

    Untabify and reindent

commit ec28abdd878249257e6febead4ec04f154f09135
Author: franklahm <franklahm>
Date:   Sat Nov 28 12:37:30 2009 +0000

    Add LOG debug message on cache expiration

commit b424c107f1f3217b47480e59e0b42b31cd381e9d
Author: franklahm <franklahm>
Date:   Sat Nov 28 12:30:12 2009 +0000

    Untabify and reindent

commit d082336e1e09398ef7ec079e83d521bd89d35cf1
Author: franklahm <franklahm>
Date:   Sat Nov 28 12:27:24 2009 +0000

    Fix usage

commit 72d236ebd4b7e2a7483bc22cc71cab5173f87c20
Author: franklahm <franklahm>
Date:   Sat Nov 28 12:20:12 2009 +0000

    New option for logger setup 'console' where we don't write the message details stuff

commit bcf8290b66fcb6f23d80a01c465bfd1cf900fb61
Author: franklahm <franklahm>
Date:   Sat Nov 28 11:24:39 2009 +0000

    Fiy typo

commit 87a32486e10fed0141d9c9f953b0abb47ca736ae
Author: franklahm <franklahm>
Date:   Sat Nov 28 11:10:37 2009 +0000

    Better error reporting for afp_ldap.conf parsing

commit 634cb60530d57667b57da821fb6d3eb1c8e9a667
Author: franklahm <franklahm>
Date:   Sat Nov 28 10:13:04 2009 +0000

    Small fixes

commit 50ad5b9515d9482e16c76f823db635db8a42a215
Author: franklahm <franklahm>
Date:   Sat Nov 28 10:03:01 2009 +0000

    New LDAP search options for scope

commit 6904a3df8ccf7ae4e152ab3fa83b59a8a741b8f3
Author: franklahm <franklahm>
Date:   Fri Nov 27 22:57:27 2009 +0000

    Untabify and reindent

commit 1b9ea96ec7af7715b4cecf7b89e41c5ac4fe7e51
Author: franklahm <franklahm>
Date:   Fri Nov 27 21:15:48 2009 +0000

    Rename uuidtest to afpldaptest

commit 4cf85f5e7452981f73557f65b5d646acd5460789
Author: franklahm <franklahm>
Date:   Fri Nov 27 16:33:49 2009 +0000

    UUIDs should be converted to uppercase strings

commit 1183a1729e57cb67a6fb05487e5aa0f23048a8e9
Author: franklahm <franklahm>
Date:   Fri Nov 27 15:50:26 2009 +0000

    Untabify and reindent

commit b3a6997615d13c9986e0aad330a03502582577e0
Author: franklahm <franklahm>
Date:   Fri Nov 27 15:45:40 2009 +0000

    Fix CNID fixup regression, test235. Disable reading of CNID from adouble file

commit 0368772479fcac3f50b87c4ec0e3889e51155c5a
Author: franklahm <franklahm>
Date:   Fri Nov 27 15:16:26 2009 +0000

    Untabify and reindent

commit 8a2f0d02022991ade37c8580c25bd8c166a3534e
Author: didg <didg>
Date:   Fri Nov 27 12:37:24 2009 +0000

    don't create an adouble file in ad_metadata for noadouble volume

commit eb4bb6e4f19ff76132e1d3a8b6886911e23f9286
Author: franklahm <franklahm>
Date:   Fri Nov 27 11:32:10 2009 +0000

    install-data-local was missing

commit ded40a0b6cdb144ae3fc59cea4cc3378d1541007
Author: franklahm <franklahm>
Date:   Thu Nov 26 18:17:12 2009 +0000

    Fix NFSv4 ACL VFS integration

commit 96acdf61f712b2b83f89e40729a2232a22346bfa
Author: franklahm <franklahm>
Date:   Thu Nov 26 15:02:58 2009 +0000

    Previous patch went in inadvertently, revert it.

commit 34d623c2a366fe23e6e460f2c0e659c29c7080ad
Author: franklahm <franklahm>
Date:   Thu Nov 26 14:24:06 2009 +0000

    Don't run configure from bootstrap

commit 5710e1f984f28927d6c4b09a07caca07f75bcc28
Author: franklahm <franklahm>
Date:   Thu Nov 26 11:09:08 2009 +0000

    Remove apple_cleanup and cnid_maint

commit 31973b5d92233931d5aec89e8e83243495ab0423
Author: franklahm <franklahm>
Date:   Wed Nov 25 16:21:34 2009 +0000

    Naming issues. From HAT.

commit 94e6ff2aa59d20bd9d3b57cacd4a87fa34855fba
Author: franklahm <franklahm>
Date:   Wed Nov 25 14:59:15 2009 +0000

    Refine CNID salvatio strategies

commit 5b2fa9e9c184b14038ff7bcca360f40784c273c2
Author: franklahm <franklahm>
Date:   Wed Nov 25 14:58:26 2009 +0000

    Add another automake target to handcrafter Makefile.in

commit dbef5095680aae17a9188a7eac1048911bca1f41
Author: didg <didg>
Date:   Wed Nov 25 10:38:19 2009 +0000

    update the NEWS file (move stuff around)

commit 1890cd86eaf2c97d8b47ee328fe8bebc018f8ce1
Author: didg <didg>
Date:   Wed Nov 25 10:09:02 2009 +0000

    enable sendfile by default on linux

commit 42b5e445ef6355aed8b3df9dd1c13b8bb85815b9
Author: didg <didg>
Date:   Tue Nov 24 21:01:45 2009 +0000

    disable slp advertising by default, change noslp option to slp

commit 8bd8ce41c319619c64721f6e4d1f80df8ab79813
Author: didg <didg>
Date:   Tue Nov 24 15:44:40 2009 +0000

    fallback to a in memory temporary cnid db if we can't open the real one, doesn't work with dbd

commit dc8a6815946e2c15af3565aaa42eb631a62812cc
Author: franklahm <franklahm>
Date:   Tue Nov 24 14:54:51 2009 +0000

    Dont activate RH/FC initscript by default, only install it. From HAT.

commit 18460f9a31e16092bbd28dff3a7c25b8733c6077
Author: franklahm <franklahm>
Date:   Tue Nov 24 14:48:07 2009 +0000

    Create .AppleDB if necessary

commit dd3702eb7f9da67875f287c42d878db1242fd981
Author: didg <didg>
Date:   Tue Nov 24 12:18:19 2009 +0000

    add a flag parameter to cnid open functions

commit 6c0dcc5d5655ea1c09b193d5de20faf238eec4bb
Author: franklahm <franklahm>
Date:   Tue Nov 24 12:01:04 2009 +0000

    CNID salvation strategy

commit 6d36dfa12919387d2822025297deb24cb96403af
Author: didg <didg>
Date:   Tue Nov 24 11:40:11 2009 +0000

    allow more values in cnid_open flags parameter

commit e826f98ce7a7c85e26b75feacc18982c55a499af
Author: didg <didg>
Date:   Tue Nov 24 11:18:38 2009 +0000

    move code around in afp_openvol

commit c64f65c136329b49ee772b01123b2f98d1257b5a
Author: franklahm <franklahm>
Date:   Tue Nov 24 10:17:14 2009 +0000

    Missing substitutions for placeholders in manpages

commit 5cdd407c8d4037bec1144b8d7f6fed09953c9d60
Author: franklahm <franklahm>
Date:   Tue Nov 24 08:59:25 2009 +0000

    Fix type mismatches

commit 0969ba158c206993a73c0b619e94862f3499dec9
Author: franklahm <franklahm>
Date:   Mon Nov 23 20:09:50 2009 +0000

    PAM config for FreeBSD

commit 9c504df2095093c3761d7d2ea4b9e92f3e37dd65
Author: franklahm <franklahm>
Date:   Mon Nov 23 19:04:14 2009 +0000

    Fix some stuff on FreeBSD

commit 280924e2393a58d39e60e5f38ed16cf9374f92b3
Author: franklahm <franklahm>
Date:   Mon Nov 23 18:29:50 2009 +0000

    Install better PAM config file

commit cd421780725e828fa6aba1b2eeb746c2f5e72b42
Author: didg <didg>
Date:   Mon Nov 23 18:17:30 2009 +0000

    define functions used by uam modules as UAM_MODULE_EXPORT

commit 6b1ac16a9b4d5223453b69b56223165c513f9dc4
Author: franklahm <franklahm>
Date:   Mon Nov 23 10:20:15 2009 +0000

    Deactivate CNID backends db3 and last.
    Conditionally compile backends.
    Default backend: dbd.

commit 65498c4b13236b66f45ab223b0ee060f33af8ae9
Author: franklahm <franklahm>
Date:   Sun Nov 22 14:14:05 2009 +0000

    Fixup declaration

commit d91103e71ae769dfbe5e3fd8dc786191cb7e62ad
Author: franklahm <franklahm>
Date:   Sun Nov 22 11:57:45 2009 +0000

    Return sane AFP version info in apf -V. From HAT.

commit 477121ceb16c21e537f0150d5efedd48edc4ec70
Author: franklahm <franklahm>
Date:   Sun Nov 22 11:52:38 2009 +0000

    Return the right AFP version info. From HAT.

commit f5caa17d5f618fb8457fab6f7cc4b99b0f4736cd
Author: didg <didg>
Date:   Sat Nov 21 13:38:11 2009 +0000

    tdb version 2: all indexes in the same db and more hash buckets (should be a configuration option)

commit 8ccd47e0075a70a897c12dd349108a87fd88fda7
Author: didg <didg>
Date:   Sat Nov 21 11:12:49 2009 +0000

    fixes for tdb remaining errors vs cdb

commit 5533d5cf17f81ed8f22684e34f5cfd5c18630aec
Author: didg <didg>
Date:   Fri Nov 20 19:25:05 2009 +0000

    more tdb fixes

commit 334f52f05d5cf4c9b4a612c7164ed94394a8e817
Author: franklahm <franklahm>
Date:   Fri Nov 20 17:45:46 2009 +0000

    Rename ldap.conf stuff to afp_ldap.conf. Kudos to HAT.

commit 0f21d69ff2f1439f9bef27374c9961aae8857664
Author: didg <didg>
Date:   Fri Nov 20 17:37:14 2009 +0000

    update tdb to use the same format as dbd/cdb, still broken (exchangefile)

commit e8da36445e38e4b6397eef0b158844f00dfe5983
Author: didg <didg>
Date:   Fri Nov 20 17:22:11 2009 +0000

    cdb don't device number in db save CNID_FLAG_NODEV is set

commit 585951627c4065a11506ed33b0d900440c4067bf
Author: franklahm <franklahm>
Date:   Fri Nov 20 16:26:23 2009 +0000

    Fix Solaris EA copyfile stuff

commit 0226af3d544dba156dd9cadb206c3f44aa967647
Author: franklahm <franklahm>
Date:   Fri Nov 20 13:45:15 2009 +0000

    Include config.h

commit f022ac38357349338f386b7e953b74c7e8b217d2
Author: didg <didg>
Date:   Fri Nov 20 06:00:28 2009 +0000

    'faster hashing algorithm for dirs' change didn't link

commit 637e253786e449ee24be16a1d42e5a7ae8364d28
Author: didg <didg>
Date:   Fri Nov 20 05:19:04 2009 +0000

    cnid don't save and reset timer if we block signals

commit ad274a94180f2ae1fb5678af72005ab1d99c4ce7
Author: franklahm <franklahm>
Date:   Thu Nov 19 10:41:23 2009 +0000

    Untabify and reindent

commit 6ab4901622de70624eec4a076fd3e83a57fc9f19
Author: franklahm <franklahm>
Date:   Thu Nov 19 10:37:43 2009 +0000

    Use way faster hashing algorithm for dirs

commit 83d11effc5e3fb53bcb65aedfbdb1bc60e87f8a7
Author: franklahm <franklahm>
Date:   Thu Nov 19 09:18:28 2009 +0000

    Untabify and reindent

commit be6089fed382e1142f985e9776988130a546a09f
Author: didg <didg>
Date:   Thu Nov 19 06:40:51 2009 +0000

    add SIGUSR2 (send a message) to the blocked signals list for cnid

commit ca8c77a5ef91230ebdcac4177a88274351500c4b
Author: didg <didg>
Date:   Thu Nov 19 01:17:31 2009 +0000

    merge common cnid declarations in cnid_private.h

commit b672f51536184dc370a782e56a5510863e4df66e
Author: didg <didg>
Date:   Wed Nov 18 13:26:50 2009 +0000

    tdb needs to block signals

commit af836a7cb1427a77004f6b6239158475990861c6
Author: didg <didg>
Date:   Wed Nov 18 11:30:03 2009 +0000

    placeholder for solaris EA copy attributes

commit 96bc591ccf714e8bc4f80e0cab74a1ba5e4f52b7
Author: didg <didg>
Date:   Wed Nov 18 11:14:59 2009 +0000

    copy native EA in afp_copyfile, doesn't work if copy between two volumes with different EA type but 1) copyfile is already broken in this case and 2) OSX clients never use afp_copyfile between volumes

commit 562098d91208d5b5c8a6a8be72076ff93db832a1
Author: franklahm <franklahm>
Date:   Wed Nov 18 10:51:59 2009 +0000

    New convert_charset option CONV_ALLOW_COLON.
    Used in conjunction with CONV_ESCAPEHEX to allow and escape ':'.
    Needed for storing Extended Attributes in files in adouble dirs.

commit f221e159a1b9059429e13b0375303a105c200bee
Author: franklahm <franklahm>
Date:   Wed Nov 18 09:48:50 2009 +0000

    Untabify and reindent

commit 9805e97bfd2b1c57d704eb54762cf684db0c8674
Author: didg <didg>
Date:   Wed Nov 18 08:02:33 2009 +0000

    remove most warning

commit 7b6ca5178b1dd7e1fd9c121bfb80aa2a676c9a4c
Author: didg <didg>
Date:   Wed Nov 18 05:08:54 2009 +0000

    missing misc directory in Makefile.am for make dist

commit 2964d3483041ae1abab1c9c560ae07c8eba0e7f0
Author: franklahm <franklahm>
Date:   Tue Nov 17 18:10:48 2009 +0000

    strlcat'ting EA name was one short

commit f6af891746dcc3a4caa5cdf0a67cbc5f65efaff8
Author: franklahm <franklahm>
Date:   Tue Nov 17 16:28:23 2009 +0000

    Remove debugging statements

commit 9947f1e56c60b8f2fd5ccd47d4a1a4cf55c341c8
Author: franklahm <franklahm>
Date:   Tue Nov 17 16:17:13 2009 +0000

    Refine EA tests to support printing a summary

commit 90363daa8537bf00ea62c8b7a665eeeb80f62ff0
Author: franklahm <franklahm>
Date:   Tue Nov 17 12:33:29 2009 +0000

    Cleanly integrate native EA code from Samba

commit 983ef994ba0c19e58da135cfacc7ac651ee8daee
Author: franklahm <franklahm>
Date:   Tue Nov 17 11:41:37 2009 +0000

    Make Solaris EA code compile again

commit 22341f6f5409c6c780b13431d078a96b2d363596
Author: didg <didg>
Date:   Mon Nov 16 02:04:47 2009 +0000

    With glibc we always need GNU_SOURCE

commit b60510c210dbe3258f3d1c49725eca62ba2678e6
Author: didg <didg>
Date:   Mon Nov 16 01:03:18 2009 +0000

    remove an unused label

commit 20e43fa4cf1ed893792b1d24e09a4f9088dd00e5
Author: franklahm <franklahm>
Date:   Sun Nov 15 16:39:03 2009 +0000

    New util netacnv for testing libunicode

commit 24b76df477cf194953b85e0da0fb3e2db9cf13b5
Author: didg <didg>
Date:   Sat Nov 14 05:23:00 2009 +0000

    define afpd uam functions as UAM_MODULE_EXPORT

commit 74170fd5181a3829b2effd9eec51cffa656fb01a
Author: didg <didg>
Date:   Sat Nov 14 05:18:50 2009 +0000

    AfpNum2name is only used by LOG debug, call it each time

commit c31bff88da424819528b017ca141afef3c414737
Author: didg <didg>
Date:   Fri Nov 13 13:52:02 2009 +0000

    afp_listextattr, use ad_rlen rather than ad_eid[ADEID_RFORK].ade_len, ade_len is 32bits only and is not updated in ad_write

commit c3a8052701ca317ac07d2b71f0a2a2fe8083e242
Author: didg <didg>
Date:   Fri Nov 13 13:47:54 2009 +0000

    afp_listextattr, don't return an error if there's no metadata

commit de0af0e5c3e5026ea02c838a8b66be42913e728e
Author: didg <didg>
Date:   Fri Nov 13 13:31:13 2009 +0000

    add missing include

commit 244027164b9a4c72d9ff23a8bc373482cc25337d
Author: didg <didg>
Date:   Fri Nov 13 13:27:12 2009 +0000

    xattr, in AFP xattr request don't use log_error but log_debug if parameters are wrong.

commit b2e6f5e7b94f7e7f8b324b9a9917c0462c761660
Author: didg <didg>
Date:   Fri Nov 13 13:03:29 2009 +0000

    xattr, use them

commit 832bd09a9a9066b533a68ad0ca7a44ee46b04c49
Author: didg <didg>
Date:   Fri Nov 13 09:18:07 2009 +0000

    xattr, remove unused functions fgetxattr and so on

commit cde25dfb609268780c3bdd44e7ee9ae0a859ebd3
Author: didg <didg>
Date:   Fri Nov 13 06:46:58 2009 +0000

    native xattr, use strcpy

commit 189cb6ae8fa60372292ec10b051b5d1ac0119e67
Author: didg <didg>
Date:   Fri Nov 13 06:36:05 2009 +0000

    add native xattr ad_ea.c

commit 164eedde9009d0069686ba6780a14ebef3a9f1f9
Author: didg <didg>
Date:   Fri Nov 13 02:52:07 2009 +0000

    add native xattr, from Samba code, not used

commit b51fd284f832491044798e610263a5c622d02d1f
Author: didg <didg>
Date:   Fri Nov 13 00:27:35 2009 +0000

    keep in each volume structure the last struct dir used, they are often reused

commit 1621d0d3028021877ca849af44a1f8f7ab81faf0
Author: didg <didg>
Date:   Thu Nov 12 10:08:22 2009 +0000

    we always have to sleep a little after an init_tsock error

commit 5c75269109e7ec435f859d524eb22d23d48883bf
Author: didg <didg>
Date:   Thu Nov 12 09:44:59 2009 +0000

    SFM use the right mode for resource fork creation

commit 8403408edab0758e776d6d980f0134105c9fd70a
Author: didg <didg>
Date:   Thu Nov 12 09:39:46 2009 +0000

    in ad_init don't zero the whole adouble structure, help finding error with valgrind

commit 234b729f62de7ce1e18ab4671fe124e3abea625a
Author: didg <didg>
Date:   Thu Nov 12 06:28:40 2009 +0000

    valgrind doesn't like when we still use the old address of realloced memory, the new size is always smaller and is unlikely to change but who knows

commit 5b794ddf92e2fa7e17e4e42a3d3943fdef4f5bd3
Author: didg <didg>
Date:   Thu Nov 12 02:33:13 2009 +0000

    path.id could be used uninitialized, actual clients never request this in getforkparam only the test suite

commit be093428b66d0310fb35f1c8e24110ba5f0e0d25
Author: franklahm <franklahm>
Date:   Tue Nov 10 13:09:32 2009 +0000

    Install initscript into DESTDIR, no sysconfdir

commit 056124e8e42a382bdb09405a508b9ad59a874efa
Author: didg <didg>
Date:   Mon Nov 9 05:45:06 2009 +0000

    bitmap was used uninitialized the second time

commit b50a9574886f0353993523e7ec3e2d2a69f57662
Author: didg <didg>
Date:   Mon Nov 9 05:33:18 2009 +0000

    use of_ad

commit 41b59d35302ef05ad8037fc9043f0bc41988ba70
Author: didg <didg>
Date:   Mon Nov 9 04:21:26 2009 +0000

    clean up, precompose/decompose logic

commit 0060fc3521cbd0362277bb2c1f42fec649e449af
Author: didg <didg>
Date:   Mon Nov 9 01:36:18 2009 +0000

    keep mtoupath and utompath flags in volume structure, they never changed

commit 456ad01baea8abbea41313ec60116df8e615950f
Author: didg <didg>
Date:   Sun Nov 8 23:17:39 2009 +0000

    don't store in struct volume pointers  to charset function table, we only need textencoding

commit e2e08139bd9a3ee958c15d117417ae15b1bf6970
Author: didg <didg>
Date:   Sun Nov 8 22:12:40 2009 +0000

    OOPS, undo some commits in 'better layout for struct vol' only keep volume.h

commit ced56ce1dcec7b5cb264010fd272b4ca9d82208d
Author: didg <didg>
Date:   Sun Nov 8 22:08:04 2009 +0000

    better layout for struct vol

commit 0e2a5a320f8ae1e3ca85944e2221328bd7b6b1f5
Author: didg <didg>
Date:   Sun Nov 8 21:03:08 2009 +0000

    catsearch, store the path length in the stack

commit 386869fcf8a57505bd4d03487ea5344715cfaa8c
Author: franklahm <franklahm>
Date:   Sun Nov 8 09:44:22 2009 +0000

    Fill out dsi->server by hand when grabbing from the interface

commit 7f788a6377fb0989d67e064edbccea104a084097
Author: didg <didg>
Date:   Sun Nov 8 01:15:31 2009 +0000

    define append as UAM_MODULE_EXPORT

commit 6afc90a4e1ecb3f9377eeb5108e6c2676c1fc6c5
Author: didg <didg>
Date:   Sun Nov 8 01:07:17 2009 +0000

    define append as UAM_MODULE_EXPORT

commit 4a4ad1cb481f03126e14407a8c869bb31824607c
Author: didg <didg>
Date:   Sun Nov 8 01:01:43 2009 +0000

    remove ifdef NO_LOAD_UAM code, was a leftover from atacc

commit 21e3a14080ed488f91c906847207788b02e83f26
Author: didg <didg>
Date:   Sun Nov 8 00:41:45 2009 +0000

    use the right definition for pad append function placeholder in afpd

commit cea2c7ef5e01cf37755d340d20cbb85cef56a8bb
Author: didg <didg>
Date:   Sun Nov 8 00:32:03 2009 +0000

    remove a gcc warning, signed/unsigned test

commit dd19abe6f6eb9a38b45fb72dad995b283691b5d9
Author: didg <didg>
Date:   Sat Nov 7 17:25:33 2009 +0000

    remove redundant lazy_initialize_conv calls

commit b68f217b9f84112647fae7087f6e62f5328c3f42
Author: didg <didg>
Date:   Sat Nov 7 01:19:55 2009 +0000

    speed up validupath_adouble for the common case: it's not a file with a leading '.' or it's .AppleDouble

commit 56ab9d669ae6d0063d71f1c3ef4f2965f1b7e0bf
Author: didg <didg>
Date:   Sat Nov 7 01:18:50 2009 +0000

    speed up a little ad_dir

commit 14a8ea3a7c8af965aed072542850a463d027132e
Author: didg <didg>
Date:   Sat Nov 7 01:02:58 2009 +0000

    speed up a little ad_path

commit efa70a454bffba68bf175e3aba9af378886b8c4d
Author: didg <didg>
Date:   Sat Nov 7 00:58:16 2009 +0000

    set errno after calling LOG

commit 721b94512a41319d5be5ecd794f4e2006975a18c
Author: didg <didg>
Date:   Fri Nov 6 23:25:35 2009 +0000

    dsi init, move interface guessing in its own function

commit 816972044c6474baa094d6a7e43f169c3a8a05df
Author: didg <didg>
Date:   Fri Nov 6 23:05:09 2009 +0000

    clean up a little log msgs

commit 7948d3e0e03ec99a62fa7b42208b0a1465d44716
Author: franklahm <franklahm>
Date:   Fri Nov 6 14:37:26 2009 +0000

    Previos patch was commited a little to quick

commit 96e6b78a6590d1b9735a8bb4a666d267282d1fab
Author: franklahm <franklahm>
Date:   Fri Nov 6 14:33:52 2009 +0000

    We're listening of :::548 ie IPv6 socket by default, so ioctl for address needs its own AF_INET socket

commit c6289cd18a5385f08ca22e7cfa1fbce13948be20
Author: franklahm <franklahm>
Date:   Fri Nov 6 13:53:16 2009 +0000

    Use address from interface if hostname doesn't resolve

commit 9d4385cebffec72aaee96cbfc3515810aae06ce7
Author: franklahm <franklahm>
Date:   Fri Nov 6 09:16:15 2009 +0000

    ipaddr option wasn't ported to IPv6 code

commit f80fd4b1dbd00165964130bebc43018d8f8e9ace
Author: franklahm <franklahm>
Date:   Fri Nov 6 08:42:33 2009 +0000

    Update NEWS

commit 123f72768fc8f3991cdd99bb82518e6464273423
Author: didg <didg>
Date:   Fri Nov 6 04:28:25 2009 +0000

    test that the extension map is not empty(now the common case) before searching for '.'

commit e657791706f99d1fe83fa8ecc502ff373fccf7ff
Author: didg <didg>
Date:   Fri Nov 6 03:52:42 2009 +0000

    IP6 ipok was undefined if no dsi

commit 564ead6bf656f97db24f0abb624435736e62e4aa
Author: didg <didg>
Date:   Fri Nov 6 03:51:54 2009 +0000

    small optimization, in of_stat '../' is never modified

commit 0b26693e05dc7b8e2013ad58d64b4a07175fd3c6
Author: didg <didg>
Date:   Fri Nov 6 03:50:32 2009 +0000

    IP6 compilation error if SLP defined

commit 1a46c56bed5b64dcd01426d5c7967cc9274250d9
Author: didg <didg>
Date:   Thu Nov 5 21:31:53 2009 +0000

    IP6 remove a 'unsigned expression < 0 is always false' test and a const warning with free()

commit 531785a27a02ffede2ef6c61a22a1ca33845c6b2
Author: didg <didg>
Date:   Thu Nov 5 21:28:13 2009 +0000

    IP6 add missing include for free and remove unused one (logger)

commit 75fe310224dffb96868d7f2cb1ec9125a84f2a08
Author: franklahm <franklahm>
Date:   Thu Nov 5 14:38:07 2009 +0000

    IPv6 support for afpd and cnid_metad

commit 21b17908047ad4f3b00a9f6a4655494d874390b0
Author: didg <didg>
Date:   Mon Nov 2 14:35:27 2009 +0000

    small clean up, use of_ad when we can

commit 8c17eee8bd7054537a8b05be4f99708142d760cc
Author: franklahm <franklahm>
Date:   Mon Nov 2 10:27:13 2009 +0000

    Untabify and reindent

commit 2edc7bfe7335dec393bb3ee962545fe339b30fd1
Author: franklahm <franklahm>
Date:   Sun Nov 1 10:58:50 2009 +0000

    Fix some webmin installation stuff

commit 6cc5a29130f3e1c21a98d0e0b06bc1612930d130
Author: franklahm <franklahm>
Date:   Fri Oct 30 15:28:54 2009 +0000

    Merge NEWS from 2.0.5

commit 8307027f29bcd8bf034e4cff1da98bab3eb7c105
Author: franklahm <franklahm>
Date:   Fri Oct 30 07:00:03 2009 +0000

    Untabify and reindent

commit 5b974bc06fb06d00b6011adb084873626ebddc71
Author: franklahm <franklahm>
Date:   Thu Oct 29 19:20:28 2009 +0000

    Force conversion of EA names

commit 0ed146f42c4c63c779811e7b09d229aeb97dca1c
Author: franklahm <franklahm>
Date:   Thu Oct 29 18:38:48 2009 +0000

    build.sh is obsolete

commit cd24cb50921a6092255bac1f3cf44770cafa423b
Author: didg <didg>
Date:   Thu Oct 29 16:19:49 2009 +0000

    move most of a LOG macros in the logger function

commit 12400a59f246ccf0603efebdf11e17fd62329c50
Author: didg <didg>
Date:   Thu Oct 29 15:04:41 2009 +0000

    the use of the new LOG code introduce a 50% code size penalty, text size with LOG: 514748 Bytes, without it : 365325 Bytes, no way that this stuff can stay. Add a new NO_DEBUG which remove log_debug when compile with O2, need a configure option

commit 44aa32affa2c16524ca5cca5d322922a8862f935
Author: didg <didg>
Date:   Thu Oct 29 13:38:15 2009 +0000

    use log_debug9 rather than log_debug for LOG inside ifdef DEBUG

commit 6bd86859312f01a645521045942b487d2a200238
Author: franklahm <franklahm>
Date:   Thu Oct 29 13:28:57 2009 +0000

    vfs->ad_path wasn't set

commit b01f5d40bb4e03ba7d40238fe58317df0e2f76d2
Author: didg <didg>
Date:   Thu Oct 29 13:17:28 2009 +0000

    use log_debug rather than log_info for LOG inside ifdef DEBUG

commit 0b65f27b489f97e53bd218fc4eeed663f12ef6ac
Author: franklahm <franklahm>
Date:   Thu Oct 29 13:06:19 2009 +0000

    Move VFS stack from _one_ global stack to per volume stack

commit 06beeeeef1a9a833a03a0aa01848a78a35c90330
Author: didg <didg>
Date:   Thu Oct 29 12:58:11 2009 +0000

    remove redundant debug output, it's already print in afp_dsi

commit 8aced73255ac5d39efc914feaf35c76e1f1ac9c5
Author: didg <didg>
Date:   Thu Oct 29 12:48:34 2009 +0000

    convert_string can deal with not 0 terminated strings thus move the copy outside the fast path in the LOG macros

commit b8c1894353b62eb52e59d4e0150fd3c25dcd86ba
Author: didg <didg>
Date:   Thu Oct 29 11:35:57 2009 +0000

    compute the right size if len == -1 in convert_string and use -1 than strlen(in) in most calls

commit 39cc274e6372f88f9cec1c5703f9a19d1ede3f5a
Author: didg <didg>
Date:   Thu Oct 29 11:19:23 2009 +0000

    use _USE_GNU_SOURCE rather than the internal __USE_GNU

commit 2b6c1d765ec7c5c39e937d45fb22a7b74123fc23
Author: franklahm <franklahm>
Date:   Thu Oct 29 10:55:45 2009 +0000

    Remove etc/afpd/afp_vfs.h. Obsolete and moved to include/atalk/vfs.h

commit 7165ee47362200dcf2a7b5753a0d7b01d066354a
Author: didg <didg>
Date:   Thu Oct 29 10:53:52 2009 +0000

    convert_string always 0-terminate or return an error

commit 0cd78d0d2991bf3d843173d81538f03b15c3f9d8
Author: didg <didg>
Date:   Thu Oct 29 10:34:15 2009 +0000

    remove unused parameter warning

commit fd84da0b6bf8a726cf2e5ce086215b51d48b3e31
Author: didg <didg>
Date:   Thu Oct 29 10:27:45 2009 +0000

    only call stat(path) if it's not done in cname

commit 306cb5c834fb655c8ce37cbb90e4c24c4127acd6
Author: didg <didg>
Date:   Thu Oct 29 10:04:35 2009 +0000

    remove include already in adouble.h

commit 143b9605da0ca01b5af80a7884386c3b57b70834
Author: didg <didg>
Date:   Thu Oct 29 09:47:11 2009 +0000

    use the parent directory id in the hash

commit 27fe60215c4e666efec784af8f57e10956e996fd
Author: didg <didg>
Date:   Wed Oct 28 01:52:49 2009 +0000

    attribute name length is 16bits not 32bits, on big endian was returning junk

commit 43bdb2a5beeb93a09de6f4a2e24b41bd1ae79840
Author: didg <didg>
Date:   Wed Oct 28 01:44:58 2009 +0000

    use sizeof(foo) rather than 2 or 4 when copying from/to cmd buffers so variables with a wrong type bug quickly

commit 7ba73a95fcfceb6aa61ae6002903c2f2c77cfe74
Author: didg <didg>
Date:   Wed Oct 28 01:31:57 2009 +0000

    apple attributes' name are constant

commit 2725b49269bebeb7aee45203be03f900e106cea9
Author: didg <didg>
Date:   Wed Oct 28 01:30:25 2009 +0000

    fcntl.h is already included in adouble.h

commit 4062e344caedbdec94d43a9f3b3fd2273cd4ebc6
Author: didg <didg>
Date:   Tue Oct 27 23:35:17 2009 +0000

    dirent.h is included in directory.h

commit 2a64590395909819b6dc75a30ace79ab5a669e79
Author: didg <didg>
Date:   Tue Oct 27 13:49:34 2009 +0000

    add missing include files in 'make dist'

commit a701ea3d2e1892decc2bd9663fd9204084d5b76d
Author: franklahm <franklahm>
Date:   Tue Oct 27 12:35:23 2009 +0000

    Some declarations were missing static keyword

commit 4bd13980740c48d321a6fe2ca16ed0817c022fad
Author: franklahm <franklahm>
Date:   Tue Oct 27 10:24:02 2009 +0000

    mv unix_rename from etc/afpd/unix.c to libatalk/vfs/unix.c.
    Untabify and reindent libatalk/vfs/unix.c.

commit 056f8b531caf5ea130557536031c06447c77f181
Author: franklahm <franklahm>
Date:   Mon Oct 26 13:12:00 2009 +0000

    Adjust args names to match new VFS args names

commit 78820d1660d0243aa120e03ef9771bd0e914da8e
Author: franklahm <franklahm>
Date:   Mon Oct 26 12:35:56 2009 +0000

    Use fcntl O_NONBLOCK instead of ioctl FIONBIO

commit 0cb21cf641b870f2c41656fe91f7d057e38c01fc
Author: franklahm <franklahm>
Date:   Mon Oct 26 12:34:18 2009 +0000

    C99 forbids _XOPEN_SOURCE < 600

commit 4b70e3ac0ae450926e4b8a939007ce56f36a9e3d
Author: didg <didg>
Date:   Sun Oct 25 12:09:00 2009 +0000

    sendfile commit didn't compile if sendfile disable

commit 97fcef861a0eb276ab29bfc939ba1812b454e3f0
Author: didg <didg>
Date:   Sun Oct 25 12:06:28 2009 +0000

    use off_t rather than size_t for read/write_count, doesn't overflow at 4GB, yes moving more than 4GB of data over asp is a bad idea

commit d81ea56449b54aaeccf8bba1dc7ae88773268c33
Author: didg <didg>
Date:   Sun Oct 25 09:47:03 2009 +0000

    on linux put sendfile back

commit cee502d1f83fb66b63fea24e948a8c9023283d2a
Author: didg <didg>
Date:   Sun Oct 25 07:18:11 2009 +0000

    seteuid back to our login user in logout in case there're volumes' prexec_close scripts.

commit 90a4480409fe01e14ef52b8ccbfa1ab199008b5f
Author: didg <didg>
Date:   Sun Oct 25 06:12:51 2009 +0000

    1) try a better workaround for deadlocks when both the server and the client are sleeping in write by using a timeout. 2) Don't block signals when the server write to the socket, SIGTERM is not fully protect yet, the server can still disconnect in a middle of a write

commit c4e5df25da2d94379875ee68f5a7a191cccea202
Author: didg <didg>
Date:   Sun Oct 25 05:45:59 2009 +0000

    EA, don't use st.st_mode if stat() failed. and goto exit was filling the log with ea_close('.'): non initialized ea

commit e7fcbebe3a99c874ecab6d712b66217084ecbbec
Author: didg <didg>
Date:   Fri Oct 23 17:35:06 2009 +0000

    afp_delete don't call deletefile if we already know that there's no file from cname()

commit c26a097a94a3d0368491a33dd4573dcb5e7d2d8d
Author: franklahm <franklahm>
Date:   Fri Oct 23 14:49:30 2009 +0000

    We didn't always seteuid back. Thanks to Didier for spotting this.

commit e7e2c2e5cbc7dfb24b16b49436cc48dec0ac2f21
Author: franklahm <franklahm>
Date:   Fri Oct 23 14:09:50 2009 +0000

    Begin Solaris EA VFS cleanup

commit 6e164c733a1f8eadcdc7a2df5e136779f16e8fa9
Author: didg <didg>
Date:   Fri Oct 23 08:24:33 2009 +0000

    ad_open mask out O_EXCL with O_CREAT

commit 5f5367aa2eedd7e8538566a83d163cc549c9d68f
Author: franklahm <franklahm>
Date:   Thu Oct 22 13:40:11 2009 +0000

    Fix all remaining warnings from gcc -Wall that can be fixed

commit f758a8c097b044293fa2fe58f8a7fcc2d8909b55
Author: franklahm <franklahm>
Date:   Thu Oct 22 12:35:38 2009 +0000

    Fix incompatible func args warnings

commit 8d0c8495d71c7fadf2708d691a15584a252040f6
Author: franklahm <franklahm>
Date:   Thu Oct 22 08:36:30 2009 +0000

    Private Webmin installation with our netatalk.wbm module

commit a201cc7f428a0dab661a3117fa3b8bf3028329a6
Author: didg <didg>
Date:   Thu Oct 22 07:40:50 2009 +0000

    oops, a previous commit wrongly removed this

commit a3bd601ca1822e0757b802234df856660657869e
Author: didg <didg>
Date:   Thu Oct 22 05:53:20 2009 +0000

    remove SIGUSR2 (message) from the list of blocked signals when writing to the client, move readmessage outside the signal handler and exit if it can't seteuid back to the suser

commit 120afae115ee6ac2961759d695a6019740dc2c4d
Author: didg <didg>
Date:   Thu Oct 22 05:19:29 2009 +0000

    remove SIGHUP from the list of blocked signals when writing to the client

commit 367154ba54370667bbfdc17083f69a48f14aac64
Author: didg <didg>
Date:   Thu Oct 22 05:09:56 2009 +0000

    remove obsolete DSI #ifdef DEBUG1 code

commit 12857f8fdde6f59eb8759b35d75e89c0dad8cfbe
Author: didg <didg>
Date:   Thu Oct 22 04:59:50 2009 +0000

    remove the need for blocking SIGALRM (still need to deal with attention volumes changed)

commit 9fbd12bc7b6a8acd8da00d864aadb5ad9e9d07f1
Author: franklahm <franklahm>
Date:   Wed Oct 21 17:41:45 2009 +0000

    Convert EA names from UTF8-MAC to volcharset with CONV_ESCAPEHEX

commit 60cd3eae7ea3d40b80f0e0865edf3bc8f27918e9
Author: franklahm <franklahm>
Date:   Wed Oct 21 16:16:30 2009 +0000

    const pointers

commit 6d2e9a462eab1c1419ccd9d921ce559db17a0cd6
Author: didg <didg>
Date:   Wed Oct 21 13:28:17 2009 +0000

    factorize lock test (fewer fcntl calls)

commit 51ed4be5afb6cdb829a6a4f94edbfc90dc542cac
Author: didg <didg>
Date:   Wed Oct 21 10:49:36 2009 +0000

    lock use F_GETLK for testing lock

commit cf0b372ee5ed189a163a24991d39531490b1b194
Author: didg <didg>
Date:   Wed Oct 21 07:33:50 2009 +0000

    ad_lock rename user --> fork, this code is confusing enough

commit 23a19bc9486a345e13a3b0b8c5b977e595cc3986
Author: didg <didg>
Date:   Wed Oct 21 07:03:08 2009 +0000

    don't reset timer each time afpd get a request

commit f9f16086e0f7578c3aa1d415ad6051a5cff77d0f
Author: franklahm <franklahm>
Date:   Tue Oct 20 14:17:59 2009 +0000

    EA support with AppleDouble files

commit dd4e5ff638341d544479da8f7331a7ad43fcda2d
Author: franklahm <franklahm>
Date:   Tue Oct 20 14:14:59 2009 +0000

    Import NEWS for 2.0.1 to 2.0.5

commit da06653b960f6ab703ad6073d68295debd00b2b5
Author: franklahm <franklahm>
Date:   Tue Oct 20 09:53:42 2009 +0000

    Default and empty FinderInfo for dirs are not all 0 like files are

commit 5eaa94ef813b746ded479065bab42b55ef49e563
Author: franklahm <franklahm>
Date:   Tue Oct 20 08:38:41 2009 +0000

    EA VFS: chmod for files and directorires

commit dc4fa0fe718100c8e0f57c96013a2f24dca766d9
Author: didg <didg>
Date:   Tue Oct 20 06:06:06 2009 +0000

    'if filename is empty use syslog...' test that filename is not null first

commit 8ab28e3e812a121bffec1ebe9701d19f6fdbb9c7
Author: didg <didg>
Date:   Tue Oct 20 04:53:19 2009 +0000

    dsi, remove never used ifdef TIMER_ON_WRITE

commit e89e8c871c41e673cbca592de9f143fb15116e14
Author: didg <didg>
Date:   Tue Oct 20 04:31:41 2009 +0000

    dsi, remove never used ifdef TIMER_ON_READ

commit 22358cea1de24dbdfb2a6550c80f19afd3e808b3
Author: didg <didg>
Date:   Mon Oct 19 13:08:00 2009 +0000

    logger, if filename is empty use syslog, make cnid_metad syslog work again

commit 968472296b2d9048c99645e926aafa57895f632a
Author: franklahm <franklahm>
Date:   Mon Oct 19 12:27:26 2009 +0000

    Dont duplicate CFLAGS in AM_CFLAGS. Inspired by Jonas Smedegaard.

commit 95f8603b4a655d6335d97cb472092e80099162f2
Author: didg <didg>
Date:   Mon Oct 19 12:14:43 2009 +0000

    'logger, better buffer overrun tests' and of course I screwed it, off by one error...

commit 847fac2252e1320f8fdf55179ccf95a70fb532d2
Author: didg <didg>
Date:   Mon Oct 19 11:53:30 2009 +0000

    logger, test return code for seteuid

commit 8abc7715a8dbf196a76662ef92fbfe5d869de77d
Author: didg <didg>
Date:   Mon Oct 19 11:32:41 2009 +0000

    logger, better buffer overrun tests

commit 247ea1dd3c1194cfd8b5beb86b9a8d5c53d68590
Author: didg <didg>
Date:   Mon Oct 19 11:15:45 2009 +0000

    check the return value of nprintf functions

commit a6e27be17a3075b60d27604b03c29d92ede24768
Author: didg <didg>
Date:   Mon Oct 19 11:01:51 2009 +0000

    dsi, when reading functions' packet try to do it with one read call rather than two

commit dc50f1693b04c00a1ce67b70e0481cb1e9e42d51
Author: didg <didg>
Date:   Mon Oct 19 11:00:28 2009 +0000

    afpd dbd, don't use select but setsockopt timeout

commit 2908bd70f1637bb1b4e502b3621ff08cb765a20d
Author: didg <didg>
Date:   Mon Oct 19 10:58:30 2009 +0000

    logger use the same order for parameters in static functions than in public ones

commit 65baaa29143f405f2eb6f2f42d9d9da274023efb
Author: didg <didg>
Date:   Mon Oct 19 10:41:40 2009 +0000

    Oops, 'more descriptive name fors LOG macro parameters' didn't compile

commit 85f907e8b8397b599e172b4e4fb7a5d46ccb6c70
Author: didg <didg>
Date:   Mon Oct 19 10:33:14 2009 +0000

    more descriptive name fors LOG macro parameters and missing void in log_close function declaration

commit 170eb01f88a7407c3cb7d8181c7c5d62f47b78b5
Author: didg <didg>
Date:   Mon Oct 19 10:29:58 2009 +0000

    logger don't generate the log string if there's nowhere to write it

commit 856cce620ab516e98db455da44857ac00a533baa
Author: franklahm <franklahm>
Date:   Mon Oct 19 10:13:28 2009 +0000

    Include NetBSD downstream patches. From HAT.

commit bea10777779786a1ea4ceb82300d418f44a3fbeb
Author: franklahm <franklahm>
Date:   Mon Oct 19 10:01:07 2009 +0000

    Include NetBSD downstream patches. From HAT.

commit fa6c21a9ba42c818a3f5d49fa39b177e74b269f5
Author: franklahm <franklahm>
Date:   Mon Oct 19 09:51:10 2009 +0000

    Merge from branch-2-0.

commit f468664b18b26f84ef7c9229105cc051270dddf2
Author: didg <didg>
Date:   Mon Oct 19 08:09:07 2009 +0000

    cnid dbd remove on time() syscall in the loop

commit a0b895625a0942c6a736c73bc5936eea5ae27117
Author: didg <didg>
Date:   Mon Oct 19 07:46:35 2009 +0000

    cnid dbd don't fall back to 1 sec timeout after an idle timer if active connections

commit f07df860ba18fb5b981d4375b3d32538fe795639
Author: didg <didg>
Date:   Mon Oct 19 05:38:22 2009 +0000

    do some sanity checks on dbd params read from config file

commit 3bfd6ff61b30f7b74551056eb9977d0c5a7470e9
Author: didg <didg>
Date:   Mon Oct 19 05:02:35 2009 +0000

    use min(512, number of FD in a select set) for per/db default number of connections

commit 5c46c85ecd8375fd1573b1142ad892d3c6680ea2
Author: didg <didg>
Date:   Sun Oct 18 20:21:09 2009 +0000

    use SO_RCVTIMEO rather than alarm in cnid_metad

commit 0568edf3f7bd5d9ced21765c4cbcc3c053eefadd
Author: didg <didg>
Date:   Sun Oct 18 19:02:43 2009 +0000

    use pselect and no timeout in cnid_metad

commit 23ffc38b8d6582de5a50a3398ab3e56b74edb3e6
Author: didg <didg>
Date:   Sun Oct 18 18:25:13 2009 +0000

    cnid_metad don't drop the slot if it's outside the respawn window, reuse it

commit 23500b991987772b7abc46e387b10c7bd5c7e447
Author: didg <didg>
Date:   Sun Oct 18 17:50:13 2009 +0000

    use pselect and a better timeout in cnid_dbd

commit f725839f65b9c83e87fad5ff500c0a6fb145633c
Author: didg <didg>
Date:   Sun Oct 18 06:16:05 2009 +0000

    ad_open reuse fstat data in header if it's valid

commit bd75fce348616a40f0273b162ddc2f6385d9d006
Author: didg <didg>
Date:   Fri Oct 16 01:50:50 2009 +0000

    psf, remove  unused static stuff

commit e87908561d4914f848469b2b5cdfb2b25e2482d2
Author: didg <didg>
Date:   Fri Oct 16 01:10:59 2009 +0000

    pap, remove or #if 0 unused static stuff

commit 877f52dd179a14258f10d0b55e361deb60cb2398
Author: didg <didg>
Date:   Fri Oct 16 00:57:12 2009 +0000

    copy_file, check close(destination) return value for error

commit 05e1d830742a916dd8ab4a214802067005b61bac
Author: didg <didg>
Date:   Fri Oct 16 00:48:08 2009 +0000

    copy_file if EINTR, cc -= write(...) was corrupting the buffer the size

commit 98dfba54d8de0dd743774021ff1f129d3717d6c4
Author: didg <didg>
Date:   Fri Oct 16 00:40:48 2009 +0000

    copy_file use the right type ssize_t for ccor cc < 0 is always false

commit 18e92a2d0337ad11c4e4869207a4ab98da4986b0
Author: didg <didg>
Date:   Fri Oct 16 00:15:53 2009 +0000

    missing include file

commit 1893d0cb4ead0c174ea30804bbabd97d3eceeb14
Author: didg <didg>
Date:   Fri Oct 16 00:11:42 2009 +0000

    declare more stuff static

commit 7f0206a39dbe79f89a653c9d8e0672077ecae6e0
Author: franklahm <franklahm>
Date:   Thu Oct 15 23:00:45 2009 +0000

    Remove vfs_adouble.c, it's moved to libatalk/vfs/vfs.c

commit 5a29c4a057d9ec4db9f0d1292006e7869c3103f4
Author: franklahm <franklahm>
Date:   Thu Oct 15 15:35:05 2009 +0000

    EAs for dirs did not work

commit 294ef88a1bc6382594b8a7d05c32bd1118cfecff
Author: franklahm <franklahm>
Date:   Thu Oct 15 15:00:55 2009 +0000

    VFS EA: chown

commit 4d2fdbcead19d5eb5a959a9a0b7fcc1d0e1bab84
Author: franklahm <franklahm>
Date:   Thu Oct 15 14:54:43 2009 +0000

    More debugging

commit fb5af9af97ff27f9e6dc43b5bf2cc439e90a52ca
Author: didg <didg>
Date:   Thu Oct 15 12:08:22 2009 +0000

    remove some const qualifier for volume parameter, cname() and dir_lookup(), it's not a constant

commit dbf558207127d21596b307d388a90df42d7a218e
Author: franklahm <franklahm>
Date:   Thu Oct 15 12:06:07 2009 +0000

    EA VFS: FPCopyFile support

commit d0f90628ecad684ef1b417471ea3f76292964b11
Author: didg <didg>
Date:   Thu Oct 15 11:39:48 2009 +0000

    move login buffer size to size_t

commit 94413c1dd8c24a1df937225877d77e5a99258c59
Author: didg <didg>
Date:   Thu Oct 15 10:43:13 2009 +0000

    Use the right type for AFP function buffers size, size_t not int or unsigned int

commit 9f013bf0ce828ff7c61db4f5a404d9029ed82999
Author: franklahm <franklahm>
Date:   Wed Oct 14 15:04:00 2009 +0000

    Implement VFS chaining, EA VFS rm/mv

commit c6c61078e44482789d280ebeaf894577d6100064
Author: didg <didg>
Date:   Wed Oct 14 02:30:42 2009 +0000

    ad_util.c, wrong parameters order for memset

commit 567ceececbc94d854e94c84bbd61980240777f7a
Author: didg <didg>
Date:   Wed Oct 14 02:24:04 2009 +0000

    remove most sparse warning 'Using plain integer as NULL pointer'

commit 008eac9cd4113c38090c803b1236335158fcc64c
Author: didg <didg>
Date:   Wed Oct 14 01:38:28 2009 +0000

    remove most sparse warning 'symbol 'xxx' was not declared. Should it be static?'

commit 815d557e167e76015934397dffbfa869180dcdbc
Author: didg <didg>
Date:   Tue Oct 13 22:55:36 2009 +0000

    remove pre ansi declarations

commit d3d14dd89146930f0a69cb94ca65f3b06198484c
Author: franklahm <franklahm>
Date:   Mon Oct 12 13:18:11 2009 +0000

    Error message when volinfo file is not found

commit e5e2393c2fe037bbcf674849c57fc5b11d5e07df
Author: franklahm <franklahm>
Date:   Mon Oct 12 11:55:27 2009 +0000

    Usage description with -f was outdated

commit da7633bee30632e4d9b7fda66b06ab91d78d33bb
Author: franklahm <franklahm>
Date:   Mon Oct 12 11:38:01 2009 +0000

    Usage summary specified the -u option wrong

commit 0c29e4237a1dd813188cb6429ffd11acee4e4dc7
Author: franklahm <franklahm>
Date:   Mon Oct 12 11:30:52 2009 +0000

    New option -n for scanning with -s: dont open CNID database,
    only scan filesystem.

commit b1e24dbb4352e672ae3f5a91da0763d183996154
Author: franklahm <franklahm>
Date:   Fri Oct 2 14:57:57 2009 +0000

    EA bug fixes

commit 6dcaba1d633e3cfa96243c62ad8399f7e5558c48
Author: franklahm <franklahm>
Date:   Fri Oct 2 09:32:40 2009 +0000

    Extended Attributes support via files in .AppleDouble.
    Extended VFS stack, so apps linking libatalk can also actually use adouble and EA code.
    Missing: EA integration into AFP rm, cp, mv.

commit 073719d1607d37bef474d0516da177b87bc9cf3b
Author: franklahm <franklahm>
Date:   Mon Sep 28 13:19:48 2009 +0000

    Fix for possible NULL pointer passing to LOG if KRB5_KTNAME is not set in the process environment

commit 923328ae2d4f5fa6f9ff8ccf76fc6fb7cb82ea13
Author: franklahm <franklahm>
Date:   Mon Sep 28 12:16:49 2009 +0000

    Untabify and reindent

commit 4a8256b1c6d41fcefb9678c68826ba5a7ace7434
Author: franklahm <franklahm>
Date:   Mon Sep 28 12:04:51 2009 +0000

    Readability fix (endif comment was wrong), remove ifdef DEBUG, adjust loglevel to debug instead

commit 756353ae4e2cf6b76edda65e8a5aced6fa551c34
Author: franklahm <franklahm>
Date:   Mon Sep 28 11:59:44 2009 +0000

    AFP_LOGINCONT was missing in AFP cmdcode stringizer

commit 16d2aa6c8fb26418a16ae52a1cc969b15cbc8403
Author: franklahm <franklahm>
Date:   Mon Sep 28 09:21:09 2009 +0000

    Untabify and reindent

commit 1132f78e1f0be1101136ee1a8320bbd8cb637078
Author: franklahm <franklahm>
Date:   Mon Sep 21 12:35:04 2009 +0000

    Changing UNIX privs doesn't require adouble access. Fixes #2863424

commit daa3e2836861dfcf619a5bc113a16c7d60f0b01f
Author: franklahm <franklahm>
Date:   Fri Sep 18 12:36:39 2009 +0000

    Requiere C99 via AC_PROG_CC_C99 in configure.in

commit ac1e2e6dd273808fd5e02338a24f4a9ba70f40c4
Author: franklahm <franklahm>
Date:   Thu Sep 17 08:35:08 2009 +0000

    Fix warnings

commit 2c7f9d07d9b5598700ff74abb96f884150aae703
Author: franklahm <franklahm>
Date:   Mon Sep 14 14:11:45 2009 +0000

    Untabify, reindent, realign, cleanup

commit 2658edcc12705cd531b8de14c7b2f10b5f91cc5c
Author: franklahm <franklahm>
Date:   Mon Sep 14 10:04:16 2009 +0000

    Untabify and reindent

commit 23730d841d1d0ed18c9f7d74f73d4e9d6922702e
Author: didg <didg>
Date:   Mon Sep 14 03:12:11 2009 +0000

    remove pointer of type void * used in arithmetic warning

commit ffa3f915f50a5ea54462b8295088a56e97a2e3a0
Author: didg <didg>
Date:   Mon Sep 14 02:56:19 2009 +0000

    remove 'ISO C90 forbids mixed declarations and code' warning

commit 4fe195ce5bf4dd149e9a175a4efc83c500105ec0
Author: didg <didg>
Date:   Mon Sep 14 01:24:40 2009 +0000

    remove 'ISO C90 forbids mixed declarations and code' warning

commit 3adfc34b14bf40a472c82eb328b9c3160df7e127
Author: didg <didg>
Date:   Mon Sep 14 00:02:21 2009 +0000

    remove obsolete ATACC ifdef

commit 18dd302e01b96a2db59f65e4bacf9e1608b2d06f
Author: franklahm <franklahm>
Date:   Fri Sep 11 13:26:05 2009 +0000

    Untabify and reindent

commit 83d6d78f80feac85b881fc9aea34244571fa4d39
Author: franklahm <franklahm>
Date:   Fri Sep 11 09:14:16 2009 +0000

    Time Machine support. Merge from branch-2-0

commit 70d43241f5697395bd7865b021f424c46d82041e
Author: franklahm <franklahm>
Date:   Fri Sep 11 07:46:30 2009 +0000

    Fix comment for cnid caching enabled by default

commit 83af771c91ee92f69c11110f063dc5c1b93c8d31
Author: franklahm <franklahm>
Date:   Wed Sep 9 11:52:26 2009 +0000

    Previos merge from 2-0 did still contain a conflict marker

commit 65065ac4aedfa6ab767377c5248678d8e9ec928f
Author: franklahm <franklahm>
Date:   Wed Sep 9 11:50:39 2009 +0000

    Makefile.am was using absolute paths which broke make distcheck. Merge from 2-0

commit 7a06fbf04bb5c04715bad0e465540f961190e62c
Author: franklahm <franklahm>
Date:   Fri Sep 4 15:27:21 2009 +0000

    Disable DDP, atalk and papd by default. From HAT

commit 80d0eca29401ba9d1e291e7d03402cda1e1731b7
Author: franklahm <franklahm>
Date:   Fri Sep 4 07:59:50 2009 +0000

    Enable CNID caching/backup in AppleDouble files by default.
    New voloption nocnidcache disables it.

commit 7c8f26d835ee1d5952ba5fe41bda7d048375aca2
Author: franklahm <franklahm>
Date:   Fri Sep 4 07:50:59 2009 +0000

    Untabify and reindent

commit 4b9340a708ca81b8ea4c2c38ecccfd5fceee257d
Author: franklahm <franklahm>
Date:   Thu Sep 3 14:01:36 2009 +0000

    Add ad.1 manpage

commit 1f168dbf8dacc8ce7afc85a5a9d2e424a0ec9697
Author: franklahm <franklahm>
Date:   Thu Sep 3 12:47:33 2009 +0000

    Remove --with-logfile configure option. It was obsolete and broken anyway.

commit 34126e2fe76b9e765f52b69806c43830d64936ec
Author: franklahm <franklahm>
Date:   Thu Sep 3 12:32:44 2009 +0000

    Untabify and reindent

commit 5738c43401e312e75b153f844efbaabf450b98b2
Author: franklahm <franklahm>
Date:   Thu Sep 3 08:35:14 2009 +0000

    Support for BerkeleyDB lib updates.
    BerkeleyDB cursors API requires db >= 4.6.
    Push NEWS for 2.1.

commit 242249e789b584318f6753de13e45cf1bdffd301
Author: franklahm <franklahm>
Date:   Tue Sep 1 14:28:07 2009 +0000

    New utility: ad

commit 2df701cae4e9a3b013c38de13c4cfcc988592ae4
Author: franklahm <franklahm>
Date:   Tue Sep 1 13:55:55 2009 +0000

    Fix for (last fix applied to wrong if test):
    Fix access check bug for Netatalk private folders and vetoed folders.
    http://thread.gmane.org/gmane.network.netatalk.devel/8878
    http://thread.gmane.org/gmane.network.netatalk.devel/8881

commit a70d6010a70553132d1cd15fc7b5e70a30657b6b
Author: franklahm <franklahm>
Date:   Tue Sep 1 13:18:17 2009 +0000

    Fix for:
    Fix access check bug for Netatalk private folders and vetoed folders.
    http://thread.gmane.org/gmane.network.netatalk.devel/8878
    http://thread.gmane.org/gmane.network.netatalk.devel/8881

commit 28806b4a383c62fc4e5d236eea835247565ed3b4
Author: franklahm <franklahm>
Date:   Tue Sep 1 13:15:13 2009 +0000

    Fix access check bug for Netatalk private folders and vetoed folders.
    http://thread.gmane.org/gmane.network.netatalk.devel/8878
    http://thread.gmane.org/gmane.network.netatalk.devel/8881
    Merge from branch-2-0.

commit d8edaee940a196b444ab8103ed539a5b689335ba
Author: franklahm <franklahm>
Date:   Mon Aug 31 14:50:46 2009 +0000

    Untabify and reindent

commit cc7ddac12a8d33f70c1077d7719303ff14245e1a
Author: franklahm <franklahm>
Date:   Tue Aug 25 09:40:24 2009 +0000

    Fix uniconv -d option. Merge from branch-2-0

commit c0b6c5214c32ed8dab853791679999ebd3c9a469
Author: didg <didg>
Date:   Tue Jul 21 13:41:16 2009 +0000

    remove trivial warnings

commit d51ce514fe1375a18987b1cda1401f691c30984c
Author: didg <didg>
Date:   Mon Jul 20 23:23:02 2009 +0000

    remove ads adouble format

commit be499775fac27e744fe9d53da980f78750c47e14
Author: didg <didg>
Date:   Mon Jul 20 18:33:07 2009 +0000

    cnid_resolve: can't return '..' as a valid name, could be use to escape the volume root folder, unsure if it's really doable

commit 35d08d6160b2a600a7f721946167de96aea911c7
Author: didg <didg>
Date:   Mon Jul 20 18:31:04 2009 +0000

    .AppleDxxx folders were user accessible if option 'usedots' was set

commit f850662e9231d6437be0ff72e537230fc0aacf79
Author: franklahm <franklahm>
Date:   Mon Jul 20 09:06:03 2009 +0000

    Remove variable expansion for BSD printers. Fixes CVE-2008-5718. Merge from 2.0 branch.

commit 353017ca155eb024b783698cff9bbf88466e7442
Author: franklahm <franklahm>
Date:   Sun Jul 12 09:21:34 2009 +0000

    Change CNID updating logic in case of inode reusage. See:
    <http://thread.gmane.org/gmane.network.netatalk.devel/8854>

commit b29a9d06ee965d9c4557171155190e1ecf4be123
Author: franklahm <franklahm>
Date:   Fri Jul 3 08:15:19 2009 +0000

    Add cross-compilation support

commit 809d3677f454d3dc0a868d02d93e240659db7c32
Author: franklahm <franklahm>
Date:   Thu Jul 2 17:53:52 2009 +0000

    Adjust loglevel and message when using default CNID backend. From HAT

commit df237c9a38416b32bfdd2bcab4a0d7bcbc69f78d
Author: franklahm <franklahm>
Date:   Tue Jun 23 10:12:17 2009 +0000

    Comment out all mappings. They're unmaintained, possibly wrong and do not fit for OS X. From HAT. See <http://article.gmane.org/gmane.network.netatalk.devel/8787>

commit 807b73dc6b5ce696c9b0f5455f27df407eb9dc77
Author: franklahm <franklahm>
Date:   Mon Jun 22 12:05:15 2009 +0000

    Fix 0 byte ad-files as reported <http://article.gmane.org/gmane.network.netatalk.devel/8818>.

commit d805fe9ecdc9d13b65c5ff586af85ce4ac48b066
Author: franklahm <franklahm>
Date:   Fri Jun 19 13:38:32 2009 +0000

    Fix #2802236. https://sourceforge.net/support/tracker.php?aid=2802236

commit f1d6fad1701e9e0c095b002af9f49aadc37ee973
Author: franklahm <franklahm>
Date:   Tue Jun 16 09:39:13 2009 +0000

    We're bootstrapping from now on

commit de06560daeaf532d7c76ca36da4203f5c252f175
Author: franklahm <franklahm>
Date:   Sun Jun 14 08:58:40 2009 +0000

    SHIFT_JIS is not needed because current netatalk has already supported
    MAC_JAPANESE. SHIFT_JIS looks like MAC_JAPANESE. But it is incompatible in some
    characters. SHIFT_JIS have to be deleted to avoid confusion.
    From HAT.

commit 1ac3841619c70992db91353e1a7cee61c94fbb83
Author: franklahm <franklahm>
Date:   Wed Jun 10 08:37:25 2009 +0000

    The "shared" and "invisible" attributes are opaque and stored and retrieved from the FinderFlags. This fixes Bug #2802236:
    <https://sourceforge.net/tracker/?func=detail&aid=2802236&group_id=8642&atid=108642>
    Also changed: move all ATTRBIT_XXX defines to adouble.h.

commit a1608258ecc1b83c09e033fef8b4c7d137b71f49
Author: franklahm <franklahm>
Date:   Tue Jun 9 12:20:17 2009 +0000

    Missing newline on last line. From HAT

commit 4d698b0c67c2c4f822d79a3548b3880a271d4a40
Author: franklahm <franklahm>
Date:   Tue Jun 9 11:58:48 2009 +0000

    Once again rework cnid_metad logging setup code and config.
    Checked in the according manpages too.
    Also fixed: downstream Debian patches to their init script.

commit 21c64bc8c9d5ab8e5ae801618d0f8c48d11011ed
Author: franklahm <franklahm>
Date:   Thu May 28 11:28:49 2009 +0000

    Add support for dbpath option i.e. AppleDB at another place

commit ee2c3c18bfd85bfe48fdeee4e6e0915ef5efbfbb
Author: franklahm <franklahm>
Date:   Thu May 28 10:22:07 2009 +0000

    Some fixes to logging statements

commit ff1aa035c4b20839befafa1e326a61cfb01fa1e4
Author: franklahm <franklahm>
Date:   Tue May 26 09:33:54 2009 +0000

    Add dbd manpage

commit 7bfedcf8566110f507eb74ed7c46ef9a2bdd8c54
Author: franklahm <franklahm>
Date:   Tue May 26 07:16:56 2009 +0000

    Fix respawn throttling. Search for empty slo was testing the wrong variable

commit fd9df7d62e34691be52ce7fcebf010fb8e11a97e
Author: franklahm <franklahm>
Date:   Mon May 25 13:52:14 2009 +0000

    Fixes

commit 1a509424f843ff50e3b09163b8493c0e598bb14f
Author: franklahm <franklahm>
Date:   Sat May 23 06:28:27 2009 +0000

    Stamp was not updated in force mode

commit d848539ce9cec21075139f543cd506e3c5a102d6
Author: franklahm <franklahm>
Date:   Fri May 22 20:48:44 2009 +0000

    Finished dbd

commit cf34fbee138ec1622e8d283a084a5ad7941d3738
Author: franklahm <franklahm>
Date:   Wed May 20 10:56:02 2009 +0000

    Fixes

commit 3b3e402e17f197176a0c0407901799682a059b3a
Author: franklahm <franklahm>
Date:   Wed May 20 10:36:09 2009 +0000

    Fix respawn throttling. See http://marc.info/?l=netatalk-devel&m=124261556901990&w=2

commit faf1e36f98707d26e3d30e4b0fe8f082c4dfaabe
Author: franklahm <franklahm>
Date:   Wed May 20 10:29:22 2009 +0000

    Add FIXME: -d option is not implemented

commit 09b577aeb9640afcf7928214083d9daa42a9f7fa
Author: franklahm <franklahm>
Date:   Tue May 19 11:56:22 2009 +0000

    Fix cnid_metad -l option

commit 627d7168b169bc04e170508cdb252ee0c957e067
Author: franklahm <franklahm>
Date:   Tue May 19 10:52:59 2009 +0000

    Adjust clovevol option description

commit 8e426d55d6cfb577d0a60b56fd4c3508cc6b7d5e
Author: franklahm <franklahm>
Date:   Mon May 18 09:54:14 2009 +0000

    Fix regression in cnid_metad.c: respawn throttling was not working anymore.
    Hopefully fix all remaing absolute/relative pathname issues in dbif.c.

commit a83e6e2abcaf39654232bd353d6378bf2c696d0f
Author: franklahm <franklahm>
Date:   Mon May 18 09:25:25 2009 +0000

    lock file was created in cwd

commit a4f455cdcdfdbdeb229b6dc17a944cbe4e51b1b7
Author: franklahm <franklahm>
Date:   Thu May 14 13:46:08 2009 +0000

    dbd now does many things it should do in the end.
    In volinfo.c/h: translate vol options to ad options like afp/volume.c does it.
    Rename dbd.c to cmd_dbd.c.

commit 63e386d7c07b6470d5b63be5c96e19465fb0fbfd
Author: franklahm <franklahm>
Date:   Sun May 10 08:08:28 2009 +0000

    DB_CREATE must always be passed of course

commit 56bd869735385182c53b092025a98f75eaa99dfa
Author: franklahm <franklahm>
Date:   Fri May 8 12:26:44 2009 +0000

    Fix stupid free. Still banging my head against the table! Praise valgrind.

commit 02b3c19b22c317e443e72f4a6ae19b5a0ff1fa3e
Author: franklahm <franklahm>
Date:   Fri May 8 08:06:02 2009 +0000

    Swap SPCs for TABs

commit b6eae5bb2032b546e5a2bce4b5637ee84d43c1b3
Author: franklahm <franklahm>
Date:   Wed May 6 11:54:24 2009 +0000

    Fixes a serious error in the way recovery was run on db_env opening.
    dbd -s and -r now are capable of:
       St Type Check (Status of implementation progress, type: file/dir)
       OK D    Make sure .AppleDouble dir exist, create if missing
       OK F    Make sure ad file exists
       OK F/D  Delete orphaned ad-files, log dirs in ad-dir
       OK F/D  Check name encoding by roundtripping, log on error
    dbd -d now also dumps the rootinfo key.

commit 6cc0b83882c207487aa1547377e23a4dad35fd67
Author: franklahm <franklahm>
Date:   Tue May 5 08:40:10 2009 +0000

    Add AFP over DSI over TCP info. Update BDB infos.

commit 8cf575676133a685317008aa44fde582cf3faaf3
Author: franklahm <franklahm>
Date:   Mon May 4 09:09:43 2009 +0000

    Remove #ifdef DEBUG stuff, its not neccessary anymore as we have a fast LOG macro. Also replace stringify devino func with plain printf %ll

commit f483d27d5249bd052cb7e34f92fd3a94735c343c
Author: franklahm <franklahm>
Date:   Thu Apr 30 10:48:37 2009 +0000

    Consistently set default UAMs to DHX,DHX2. From HAT. Merge from 2-0

commit daeecbb21d05921088defbfe0e87b2ef7474c3bb
Author: franklahm <franklahm>
Date:   Tue Apr 28 14:09:00 2009 +0000

    Fix code lines switch in signal protection

commit a17ca97621b764dcf450c824e5869006156b34c0
Author: franklahm <franklahm>
Date:   Tue Apr 28 13:59:44 2009 +0000

    Adjust loglevel

commit 9753ac7c67d4871ea344993538b08c3850ad12e7
Author: franklahm <franklahm>
Date:   Tue Apr 28 13:01:24 2009 +0000

    New utility to maintain dbd databases: dbd. Also replaces cnid_index. Still incomplete.

commit 2564e0811767040bdcf4f1db52b11d625bcef936
Author: franklahm <franklahm>
Date:   Mon Apr 27 08:04:22 2009 +0000

    Survive make distcheck

commit 2659debf8cc3eba5192177a50ccd5fdbc27e9830
Author: franklahm <franklahm>
Date:   Mon Apr 27 07:58:25 2009 +0000

    Sync volume options with volinfo stuff

commit ba70b0f4e7adb13bbf4cfff1a94df8dfd596cedb
Author: franklahm <franklahm>
Date:   Sat Apr 25 06:44:48 2009 +0000

    ad_open with O_CREAT, thus enumarating a dir will create missing adouble files. Helps with cachecnid

commit df71643a1b9d0883b240ac52899ca56ad1428980
Author: franklahm <franklahm>
Date:   Wed Apr 22 08:27:24 2009 +0000

    Genererated perl scripts were included in make dist

commit 9ab8339b0d1798907d014f967dd3cc7c7e233a75
Author: franklahm <franklahm>
Date:   Wed Apr 22 08:06:01 2009 +0000

    Rename cleanupappledouble to apple_cleanup

commit 18752151b463ba6b92a1f6864615c2059dd0d1fa
Author: franklahm <franklahm>
Date:   Wed Apr 22 08:00:20 2009 +0000

    README.logger is gone but wasn't removed from Makefile.am

commit 1600af99aad9916f6dbaa106f18369d400c99376
Author: franklahm <franklahm>
Date:   Wed Apr 22 07:44:10 2009 +0000

    Rename cleanappledouble.pl to apple_cleanup

commit 22d2fc66ab3fdb3cdb5400e01a225777866c2ac8
Author: franklahm <franklahm>
Date:   Tue Apr 21 10:18:44 2009 +0000

    Add true bdb logfile autoremoval

commit 347b337b27ec993fa438749c407c48f8b7a7c3b2
Author: franklahm <franklahm>
Date:   Tue Apr 21 08:55:44 2009 +0000

    Overhaul CNID dbd backend, make it default, txn only... See #2724774

commit 41b1402c02068d42dc6b50426812fdbd4f4a460f
Author: franklahm <franklahm>
Date:   Mon Apr 20 14:53:20 2009 +0000

    Change time format to also output microseconds

commit 267f0e709b5d74d01f52d1e391330182867bcc2f
Author: didg <didg>
Date:   Fri Apr 17 04:24:20 2009 +0000

    put volume case insensitive option back

commit 9727d7d313c1da4c5d6cb939752a3da8d6be656e
Author: franklahm <franklahm>
Date:   Thu Apr 16 06:17:14 2009 +0000

    Force LOG message for every AFP call at beginning and end if loglevel>=debug

commit eeee5218d55c72b8b1ca2e8de935b510ec54aed1
Author: franklahm <franklahm>
Date:   Fri Apr 10 11:21:18 2009 +0000

    afp_syncdir: only fsync directories on hosts that have dirfd (e.g. Linux). fsyncin' dirs is non standard

commit 9a8c9d84e0d3cd5bac1c86829f495998c4151f92
Author: franklahm <franklahm>
Date:   Sun Apr 5 07:22:06 2009 +0000

    Adjust gethostid check, from HAT.

commit fd61f87d4c8faadf7c9c92c858c17c32b3ce1d7a
Author: franklahm <franklahm>
Date:   Wed Apr 1 12:40:41 2009 +0000

    -setuplog can now be called multiple times.
    Example:
    server \
        -setuplog "cnid log_maxdebug /var/log/cnid.log" \
        -setuplog "default log_info /var/log/afpd.log"

commit 0744c802fd2d747a030f0b206f57efd67273654b
Author: franklahm <franklahm>
Date:   Wed Apr 1 09:57:38 2009 +0000

    Correct logtype to logtype_cnid twice

commit 2446ddf1d869333e74e9903531a844409289acc5
Author: franklahm <franklahm>
Date:   Tue Mar 31 14:08:35 2009 +0000

    Add cnid_dbd logging option to netatalk.conf and to all startup scripts. Also deactivate atalkd in netatalk.conf (AT will be gone in 10.6 anyway!) and adjust default UAMs

commit 26e14b9e176d6b3374b36a79c17d1472cfdaba36
Author: franklahm <franklahm>
Date:   Tue Mar 31 13:29:37 2009 +0000

    Remove logger README. Obsolete

commit fd1c1d912e07058531db8d244983296614d0c377
Author: franklahm <franklahm>
Date:   Tue Mar 31 12:13:00 2009 +0000

    Align cnid_[metad|dbd] default logging with apfd: log_note

commit 7ca321cc57580f70a262d4dc3e720a333a59bd0b
Author: franklahm <franklahm>
Date:   Tue Mar 31 11:40:26 2009 +0000

    Implement runtime logging config option to cnid dbd backend. See #2721956.
    New option: -l <logconfig>. cnid_metad passed that to cnid_dbd !
    Fixed: 0 is a valid fd (in logger.c) !
    Added logger API documentation in logger.h.
    
    Modified Files:
        etc/afpd/afp_options.c
        etc/cnid_dbd/cnid_metad.c
        etc/cnid_dbd/main.c
        include/atalk/logger.h
        libatalk/util/logger.c
        libatalk/util/test/logger_test.c

commit 6e84e9fdfc4493460d9fc56071c5d6956166a394
Author: franklahm <franklahm>
Date:   Fri Mar 27 10:22:48 2009 +0000

    Removed acleandir, dead end.

commit ea0117aefed98540d63c9baacbc720023446c50c
Author: franklahm <franklahm>
Date:   Thu Mar 26 18:21:40 2009 +0000

    Adjust volnamelen default to 80. From HAT

commit f2e4ab3fa8c9b20c7accdd7d7ce429b12900716d
Author: franklahm <franklahm>
Date:   Thu Mar 26 14:01:27 2009 +0000

    Adjust setuplog description

commit 14e70cc00ada9f1b7a56bf40ee11575fefec3d63
Author: franklahm <franklahm>
Date:   Thu Mar 26 13:43:46 2009 +0000

    Adjust -volnamelen description

commit a86b4806370009090b93d1b78b042a73f93b5b00
Author: franklahm <franklahm>
Date:   Thu Mar 26 13:08:48 2009 +0000

    Add options allowed|denied_host. See #2690844

commit e048525130b69e4b688f05bd504fe89f54fca400
Author: franklahm <franklahm>
Date:   Thu Mar 26 11:06:26 2009 +0000

    Ignore afp_acls.8, it's generated

commit 89874f64e146245515d3579e89a054b0c69c5744
Author: franklahm <franklahm>
Date:   Thu Mar 26 11:04:13 2009 +0000

    Ignore AppleVolumes.default, it's generated

commit 806404163be136564f52a2d0d4b77d926769d9fe
Author: franklahm <franklahm>
Date:   Wed Mar 25 15:53:03 2009 +0000

    Fix BDB_CFLAGS path twist

commit 481ddde6489fab302609afda146e1c89a6842610
Author: franklahm <franklahm>
Date:   Tue Mar 24 11:02:07 2009 +0000

    FPSyncDir VFS indirection. See #2641106

commit a86990f1d7c967ccd556393baf7a85e08136f043
Author: franklahm <franklahm>
Date:   Fri Mar 20 11:32:11 2009 +0000

    New volume options allow_hosts/denied hosts. See #2690844. From Tim Nowaczyk

commit b8d41218d5f4cdf174cdf28d2eaefd5177b86f72
Author: franklahm <franklahm>
Date:   Fri Mar 20 09:10:25 2009 +0000

    autoconf option --enable-debugging to disable SIGALRM. See #2694606

commit 6179982bb65456e684b39889aceb3a8657150d93
Author: franklahm <franklahm>
Date:   Fri Mar 20 06:19:26 2009 +0000

    Remove duplicate in volname mangling. From HAT

commit e5b5ee45d120f5dc4f7e676f28c424c09df7720e
Author: franklahm <franklahm>
Date:   Tue Mar 17 14:30:57 2009 +0000

    Previous patch broke few things

commit cc116acfd9a133530ef7a600ec0d8288cf4db326
Author: franklahm <franklahm>
Date:   Tue Mar 17 08:55:12 2009 +0000

    Remove timeout. See bug #2683367

commit 914bcb1bf563396f50c85d92023fb9b8efe2af25
Author: franklahm <franklahm>
Date:   Mon Mar 16 13:59:11 2009 +0000

    Volname mangling. Fixes bug #2611981, from HAT. Also add new logger doc to afpd.conf.tmpl

commit 032f8a97c4024720c6eceb8f4b158363f896b69a
Author: franklahm <franklahm>
Date:   Mon Mar 16 11:02:43 2009 +0000

    Cleanup. Alway check return values!

commit 25acac66c307c78dd968ed1a6285062db2bb5a33
Author: franklahm <franklahm>
Date:   Sun Mar 15 13:00:14 2009 +0000

    Fix regression. Remove excessive loggin. Correct comments.

commit 050b20d83e6b723b9a37cdb5cf38814e620480ba
Author: didg <didg>
Date:   Fri Mar 6 13:05:52 2009 +0000

    increase number of cnid_dbd slots to 512

commit b9a09e998c2c70bb6acecef2fd62e5fdc523c840
Author: franklahm <franklahm>
Date:   Fri Mar 6 11:45:01 2009 +0000

    New bdb check. Uses LD_LIBRARY_PATH for configure time checks and relies on autoconf/libtool for runtime.

commit 1c144e4ba30d0c68e9035c02f044bf8dbd8bf719
Author: franklahm <franklahm>
Date:   Tue Mar 3 13:51:25 2009 +0000

    Fixes.

commit 0abb5b1eacb65003a5c73acd447bbec373598793
Author: franklahm <franklahm>
Date:   Tue Mar 3 12:53:15 2009 +0000

    Logger fixes.

commit 9c80488f37b84eb30db4f12303eda66468c18c8e
Author: franklahm <franklahm>
Date:   Fri Feb 27 09:14:40 2009 +0000

    Reworked logger

commit e003e3654c03f13d9245d7972423412718d211bf
Author: franklahm <franklahm>
Date:   Thu Feb 26 14:05:05 2009 +0000

    Define AFP func no macros. Move 3.2 calls to 3.2 case switch.

commit 0437330f9b7bb0faa7f5125de3e3963f02220667
Author: franklahm <franklahm>
Date:   Thu Feb 26 14:00:18 2009 +0000

    Remove unused stuff

commit c282814eb2d0ade257eede74ef3da63d9e43ba00
Author: didg <didg>
Date:   Wed Feb 25 22:51:36 2009 +0000

    remove compiler warnings

commit 8d28e2dadc8221fcbab41b5e5706ae55311f13bd
Author: didg <didg>
Date:   Wed Feb 25 22:46:11 2009 +0000

    syncfork  = vs == typo

commit ac3ff5227a21f223c17d57b31419f695b19857d8
Author: didg <didg>
Date:   Wed Feb 25 22:41:03 2009 +0000

    define a afp_null_nolog function for cmd 76 (spotlight undocumented command) and use define for cmd name in auth.c

commit 88469b633652cf61e615d717ad32e41e276954f6
Author: franklahm <franklahm>
Date:   Wed Feb 25 16:14:08 2009 +0000

    Add FPSyncFork, set command 76 to afp_null, move everything from switch.c to auth.c

commit 320ff76a9709888aeea17dd9edb12b61548f3b35
Author: franklahm <franklahm>
Date:   Mon Feb 16 14:03:30 2009 +0000

    Fix EA support ci cruft

commit ab7ff04bf54f03bf452c655d9fcd619e04a4ff26
Author: franklahm <franklahm>
Date:   Mon Feb 16 13:49:19 2009 +0000

    Extended Attributes Support on Solaris with ZFS

commit 25a8f9a337914d7459a112ec131d30d7c3a77554
Author: franklahm <franklahm>
Date:   Mon Feb 16 12:56:42 2009 +0000

    Fix setting of UUID option

commit 4faf3e6a8b6b417edbe7cdbf61ab36a288e60c98
Author: franklahm <franklahm>
Date:   Tue Feb 10 15:31:48 2009 +0000

    Fix/remove logging

commit e452c0a779447be63dd19e62b68b1f9507908eff
Author: franklahm <franklahm>
Date:   Sun Feb 8 11:13:01 2009 +0000

    Wrong logtype

commit cf9e770efb70f86b0a3edb30396a9716855e996e
Author: didg <didg>
Date:   Wed Feb 4 22:35:45 2009 +0000

    pipexlate, give up and return an error if it reachs the end of the output buffer

commit 42fce38315ff0efd56de6ff0d6e9dc24b3ab61da
Author: didg <didg>
Date:   Wed Feb 4 22:34:39 2009 +0000

    perm options aren't 'options:' paramters

commit 6fd1a4ade0734fd6e957b60c11907479d79bee88
Author: didg <didg>
Date:   Wed Feb 4 20:28:01 2009 +0000

    Don't wait five second after the first error when speaking to the dbd backend,  from Tsiyon Sadiky exanet (merge from 2.0 branch)

commit beec55e7afe7be41f64640d2329705b3005521a3
Author: didg <didg>
Date:   Wed Feb 4 20:12:47 2009 +0000

    Add a timeout when reading data from afpd client in cnid_metad, from Tsiyon Sadiky exanet (merge from 2.0 branch)

commit 0df426f522ab137359330eeb64b5201240f69466
Author: franklahm <franklahm>
Date:   Wed Feb 4 13:38:41 2009 +0000

    Add options:acls

commit 20d9c3c419fc63db8fc52acf125ebc191e1e9eaa
Author: didg <didg>
Date:   Tue Feb 3 20:27:23 2009 +0000

    osx adouble format . files are invalid if usedots is not set

commit fb5b11ca0143deb8df03e8eb8dea2b5e3baf95b6
Author: franklahm <franklahm>
Date:   Tue Feb 3 15:42:15 2009 +0000

    New man pages for ACL option

commit 482a4b978e0ea89b8062b67e5654638100464c67
Author: didg <didg>
Date:   Tue Feb 3 14:50:11 2009 +0000

    osx adouble, don't return an error if there's no source resource file when renaming (from 2.0 branch)

commit 16b60124981308b10d5f6300aed68e678ca2c4cd
Author: franklahm <franklahm>
Date:   Tue Feb 3 14:23:27 2009 +0000

    Remove cruft

commit ab8c727d6010e4c2dcb3e7e57033e4713a737cae
Author: franklahm <franklahm>
Date:   Tue Feb 3 14:21:42 2009 +0000

    Add header files

commit e80f8dca073ea6041ece4319e8efb5cf5ea53eb4
Author: franklahm <franklahm>
Date:   Tue Feb 3 14:20:44 2009 +0000

    Remove mapname+mapid from authswitch

commit 709e88827fab97fdd4c5e344dd8b7a9557b4307b
Author: franklahm <franklahm>
Date:   Tue Feb 3 14:18:11 2009 +0000

    Forgotten header file

commit 2a27a35bfe9c818bb5e919f7f887a03694e2fa30
Author: didg <didg>
Date:   Mon Feb 2 16:04:33 2009 +0000

    papd better parsing of postscript requests

commit bdf26ef4f131bf080b32a9ea9def2c924b55d077
Author: didg <didg>
Date:   Mon Feb 2 12:46:45 2009 +0000

    check buffer size

commit d7e95552927cfd21e540cdb256fdc996f04cd53e
Author: franklahm <franklahm>
Date:   Mon Feb 2 12:35:40 2009 +0000

    Fix ACL patch cruft

commit 5ee4cf1e95071dea98a833ca37d24899cd899978
Author: franklahm <franklahm>
Date:   Mon Feb 2 11:55:00 2009 +0000

    Initial checkin of ACLs patch

commit e192f2d81edc71c11830f63b253bbf697f22654c
Author: didg <didg>
Date:   Mon Feb 2 10:31:32 2009 +0000

    markline: return an error if the buffer is too big and there's no end of line

commit 7f95a47243bbf7e5500bbb10650d118b72845b10
Author: didg <didg>
Date:   Mon Feb 2 10:24:28 2009 +0000

    check buffer size

commit 2467451bae28608aab4ebd460cebce8db13f89d2
Author: didg <didg>
Date:   Mon Feb 2 08:54:20 2009 +0000

    only call pipexlate once

commit 85935c5d78df3beb0ebfb2e30c948c3c71d87d43
Author: didg <didg>
Date:   Mon Feb 2 08:50:50 2009 +0000

    reset SIGCHLD to default for worker processes

commit 27b02e2c4c7d6a33655709b8821a697089f23a13
Author: didg <didg>
Date:   Sun Feb 1 18:55:37 2009 +0000

    papd lp_init, fatal error if we can't getpwnam() or setruid

commit d30f755e3fe1cc5b813d7914b1e729b4b55ff0b2
Author: didg <didg>
Date:   Sun Feb 1 18:00:41 2009 +0000

    revert lp debian security patch

commit 8e603e375cc221566a552c8ccc1ba18bc22587e5
Author: didg <didg>
Date:   Sun Feb 1 07:11:56 2009 +0000

    AppleVolumes add \ line continuation

commit dd1fc0d4f1f90c0461dd63a12a042a1416850d8c
Author: didg <didg>
Date:   Sun Feb 1 07:03:56 2009 +0000

    fix dperm and fperm options, from Frank Lahm

commit 173885ba28e7bdd5f1603315fbb4053fdbf947bd
Author: didg <didg>
Date:   Sun Feb 1 06:56:19 2009 +0000

    disable papd by default

commit 17fb54f23103badd9757b4ff1e057b0d4c4096e9
Author: didg <didg>
Date:   Fri Jan 30 04:57:42 2009 +0000

    add dperm and fperm permissions default

commit 18b1ed14673cfa7b72a67c97dacdf3dde4b86238
Author: morgana <morgana>
Date:   Wed Jan 28 18:03:15 2009 +0000

    Expand list of shell metacharacters to escape in variable substitution.  Courtesty of Nico Golde.

commit ddb73c961a88a53a244a8fefb45ec4ecd69fd601
Author: didg <didg>
Date:   Mon Jan 26 15:09:31 2009 +0000

    another myfgets off by one

commit 3ecbf13b51d8a33cc764682102ba195770d868e2
Author: didg <didg>
Date:   Mon Jan 26 10:37:19 2009 +0000

    savevoloptions: check ftruncate return code

commit fe36b376456e21a1d7820fb47e826d131fc72d00
Author: didg <didg>
Date:   Thu Jan 22 00:18:25 2009 +0000

    replace Xorg precompose.h with the output of make-precompose.h.pl. U2000-U2FFF and UFE30-UFE4F are not in theses tables, remove the test in decompose_w.

commit d13be5bf24158b4cbc4896f10bee4e28b97d104c
Author: didg <didg>
Date:   Thu Jan 22 00:14:09 2009 +0000

    precompose script, exclude  U2000-U2FFF and UFE30-UFE4F ranges from the precompose table

commit ec5a296d34441c41290d788b32090306fdce2401
Author: didg <didg>
Date:   Wed Jan 21 04:39:35 2009 +0000

    add make-precompose.h.pl (unicode precomposition) script, from HAT

commit 5af990976d330c6f0716df277f59eab67b4aa397
Author: didg <didg>
Date:   Wed Jan 21 04:04:20 2009 +0000

    remove bogus default ppd _PATH_PAPDPPDFILE, from Olaf Hering

commit e1495883ad6e3f5b89edcaedfa45e983b6ab9d5b
Author: didg <didg>
Date:   Wed Jan 21 02:43:46 2009 +0000

    remove signed/unsigned gcc warning

commit 305c46c79b79ed0280e0421317bb042387f569ec
Author: didg <didg>
Date:   Wed Jan 21 02:42:56 2009 +0000

    better handling of bogus ppd files

commit 7189b6206a9174ba3292cb53a16bb805a72b18d0
Author: didg <didg>
Date:   Tue Jan 20 04:31:10 2009 +0000

    test for line continuation only if line length > 1

commit 9a5e27145381a821a825f02b1746067c795fcb5e
Author: morgana <morgana>
Date:   Fri Jan 16 18:45:26 2009 +0000

    Allow line continuation using \ in afpd.conf.  Courtesy of Frank Lahm.

commit 9df4eb346fba76dd0b76038c264e6c1a65e944d8
Author: morgana <morgana>
Date:   Fri Jan 16 18:21:16 2009 +0000

    Remove ucb includes from Netatalk, and therefore remove support for SunOS 4.x releases.

commit e884b16a26dc129e4eeb64b66448f467599cebe7
Author: morgana <morgana>
Date:   Thu Jan 15 22:01:26 2009 +0000

    Fix off-by-one error in my_fgets() which is used to process PPD files.

commit af331476f7cf81288266a491ddeead1ffbf2a1f4
Author: didg <didg>
Date:   Thu Jan 15 04:16:32 2009 +0000

    dhx2 logincont packet size, from Frank Lahm

commit 9801fa7baf83daf4755be561cc89a0788dd24a55
Author: morgana <morgana>
Date:   Tue Jan 6 20:05:00 2009 +0000

    Fix compilation with Solaris 10 on x86, courtesy of Frank Lahm.

commit 31c3a98c5ed52bfe435d959f23b6d1b2cc83b2bc
Author: morgana <morgana>
Date:   Tue Jan 6 20:00:59 2009 +0000

    Add tags target, courtesy of Frank Lahm.

commit 7bcaf3c3ccc6aef53947b476ea5a35fd5ca70f56
Author: didg <didg>
Date:   Tue Dec 23 08:27:50 2008 +0000

    afp_resolveid return the same error code as OSX if it's a directory, from HAT (slightly modified)

commit c999d2092925cbcfc2244da32bc22161d25bd0b5
Author: didg <didg>
Date:   Tue Dec 23 07:51:12 2008 +0000

    add a missing call to closedir in afp_syncdir, spotted by Stephen J. Butler

commit 61f26703f31ad49fcb8ecfeb1258c0bb9299c2e3
Author: didg <didg>
Date:   Tue Dec 23 07:37:44 2008 +0000

    don't compile bin/cnid/cnid_index if configured without Berkeley DB

commit 7bd681f3406479b238877943e0bba4a310158c0a
Author: morgana <morgana>
Date:   Sat Dec 20 00:21:05 2008 +0000

    Add cups.m4 and libgcrypt.m4 to the macro file list, for "make dist" output.

commit 758c7859567c1f5c879e7c748d2895b6b458c9f8
Author: morgana <morgana>
Date:   Sat Dec 20 00:18:34 2008 +0000

    Files in sys/netatalk/ and sys/solaris/ were being missed by "make dist".

commit 827ef59f266eefdf0068f8ce3d96d48c0c13cc82
Author: didg <didg>
Date:   Thu Dec 18 18:49:07 2008 +0000

    Opensolaris libgcrypt doesn't include CAST5, test for it in configure, from Frank Lahm

commit 02b1db4fe1c80597feede000b311a321bad6c73b
Author: morgana <morgana>
Date:   Thu Dec 18 17:31:31 2008 +0000

    Don't define ETHERTYPE_AT or ETHERTYPE_AARP if they have already been defined by the system.

commit 2c0cbd9fa7bbf6ab2ae089a2de514fde7305e329
Author: morgana <morgana>
Date:   Thu Dec 18 17:17:54 2008 +0000

    Detect Solaris 10 and compile DDP driver without the tpi_identify handler.

commit d997aa62c2b06c09474babdc7f714fe0d7e696da
Author: didg <didg>
Date:   Tue Dec 16 00:54:43 2008 +0000

    distrib/initscripts/rc.atalk.cobalt is not generated. From Frank Lahm

commit 7a46d89fb5fe72721b4840d1a6ee0daa49f8039f
Author: didg <didg>
Date:   Wed Dec 3 19:31:50 2008 +0000

    dhx_pam add openssl err.h include for ERR_xxx functions

commit 33cfeda2150bd527ccc8a839a5180ebdd781ae70
Author: didg <didg>
Date:   Wed Dec 3 19:15:06 2008 +0000

    dhx_pam remove unused Sun only openssl include

commit b4bf09bd448b2a32b2a0f21f442634e99f57a082
Author: didg <didg>
Date:   Wed Dec 3 18:35:44 2008 +0000

    remove compiler warnings

commit 113a52d97f3f038b7a63bbf30e333b20407a4a4a
Author: didg <didg>
Date:   Wed Dec 3 07:13:48 2008 +0000

    proper configure log output if --with-libgcrypt-dir=no

commit 27dbaf2e9d62402fb258a5aaee9282c9a8c9964e
Author: morgana <morgana>
Date:   Tue Dec 2 18:26:33 2008 +0000

    Remove call to RAND_load_file() on Sun systems.  Sun now provides /dev/(u)random on systems back to Solaris 2.6.  Closes bug #1079670.

commit 2a2e657572e3094c725b82d269e06c1d81da6c4b
Author: morgana <morgana>
Date:   Tue Dec 2 18:24:55 2008 +0000

    Correctly handle errors in DH_generate_key().  Partial fix for bug #1079670.

commit 013ed96d50afbe2c8211b4043e9db587eb38b612
Author: morgana <morgana>
Date:   Tue Dec 2 18:22:01 2008 +0000

    Link DBD using -R on systems that need -R.  Closes bug #1240793.

commit 7eb11269dec481a4a7a6fc596d5f87e18081f403
Author: morgana <morgana>
Date:   Tue Dec 2 18:18:06 2008 +0000

    Allow digits in ethernet device names.  Closes bug #1242278.

commit ba115751f8ad159a491751d5a9ed550a920c809b
Author: didg <didg>
Date:   Sun Nov 30 17:36:08 2008 +0000

    rename to libgcrypt.m4, use --with-libgcrypt-dir and make it work with =no

commit 8492636569d665903ba72f6efc17e8f2cfd6eb07
Author: didg <didg>
Date:   Tue Nov 25 17:13:23 2008 +0000

    dhx2 pam, add a missing *rbulen=0, from Frank Lahm

commit 418135f76a36d8eedf776e61817ff6196f82783e
Author: didg <didg>
Date:   Mon Nov 24 21:50:02 2008 +0000

    DHX2, remove last gcc warnings

commit a39c87afe6a2937172d8cf7653ec9cd47403691c
Author: didg <didg>
Date:   Mon Nov 24 20:15:55 2008 +0000

    DHX2, remove some gcc warnings, from Frank Lahm

commit a8a8fb02d8cb3375dbd339cf0f16b2b18cff6323
Author: didg <didg>
Date:   Sat Nov 22 12:07:26 2008 +0000

    libgcrypt and DHX2 uam from Frank Lahm

commit fc4c444fb4abc4406467472a83d13971f43552f9
Author: didg <didg>
Date:   Fri Nov 14 10:29:08 2008 +0000

    replace remaining %m printf glibc extension with %s strerror(errno)

commit 4600998dcfc4ad09362f764e73bf32aeaf728965
Author: didg <didg>
Date:   Wed Nov 12 07:14:36 2008 +0000

    not all man pages are generated, update .cvsignore, from Frank Lahm

commit 16877bbac312d5566a25346978ce36d166596c6a
Author: didg <didg>
Date:   Mon Sep 1 15:18:36 2008 +0000

    remove case insensitive option, patch 2

commit b501c0b10a93f0740a0f5d3e82b56c9a047e5334
Author: didg <didg>
Date:   Sun Aug 31 13:25:57 2008 +0000

    remove case insensitive option

commit 05701d289025c26cea41937d69109ad58e24437b
Author: didg <didg>
Date:   Sun Aug 31 09:49:44 2008 +0000

    cnid_metad, add ioctl.h for TIOCNOTTY

commit b0afa3674153e951e8652fad211a6199a35b6556
Author: didg <didg>
Date:   Thu Aug 21 08:10:26 2008 +0000

    permission testing tool, from Frank Lahm

commit 97860a15f34963e8d8e7a68650851cfb7387d4c5
Author: didg <didg>
Date:   Sat Aug 16 21:11:36 2008 +0000

    compilation error if DEBUG1 is defined, from Frank Lahm

commit 7fdf387c6afc7d07ee54a45d1e62e8572eeaa21d
Author: didg <didg>
Date:   Thu Aug 14 20:18:50 2008 +0000

    quote chars in popen variables expansion

commit f60547a204aa62ed7b1f8548e1705a9b2cdee96e
Author: didg <didg>
Date:   Thu Aug 14 20:02:47 2008 +0000

    pap: var use % not $

commit ef0632d901333a5c519612601ac486639f044baf
Author: didg <didg>
Date:   Thu Aug 14 19:57:52 2008 +0000

    pap: ps comments don't always use (

commit 662dc29f8e988ed2a177025f810410de44414378
Author: didg <didg>
Date:   Mon Aug 11 20:44:03 2008 +0000

    sometime tcp-wrappers uses NIS (libnsl)

commit dddd476eb2f11ed2827b5a8424d0030b79101cdf
Author: didg <didg>
Date:   Thu Aug 7 07:47:44 2008 +0000

    papd -d doesn't write to stderr. From Martin Nagy

commit 41a673447ce5c6c3b1f270398fa55d5227d0b3ea
Author: didg <didg>
Date:   Thu Aug 7 07:39:14 2008 +0000

    remove DB_VERB_CHKPOINT, it's gone. From Adam Goode

commit fea987bdee62c3429485e556c09e5ade8551d0e3
Author: didg <didg>
Date:   Fri May 23 06:35:49 2008 +0000

    First implementation of AFP3.2 FPSyncDir for timeMachine support, from Bolke de Bruin

commit 2f7e864e8af0cf66afe35a4b4b1c8b4e1b0e6611
Author: didg <didg>
Date:   Fri May 16 04:19:41 2008 +0000

    Compilation fix for Fedora 9 from HAT

commit 2c2e7068fba771ab7901423fae5fdd4e5313533c
Author: didg <didg>
Date:   Tue May 6 09:26:23 2008 +0000

    fix LFS test for cross compilation, from Bolke de Bruin

commit f46e5ef2816b2b330e9a8808e585f015c87d02b0
Author: didg <didg>
Date:   Mon Dec 3 14:50:38 2007 +0000

    add a ntdomain option to user name, from exanet

commit 9b080901c3bde671eeea11d96f75d4550b4473cb
Author: didg <didg>
Date:   Mon Dec 3 11:59:26 2007 +0000

    use the right number for num charset and max charset, from Hat

commit 7ad2a56a6190a6e304059e4dffd0b933b9dabba1
Author: didg <didg>
Date:   Mon Dec 3 11:39:14 2007 +0000

     remove a debug quota log output

commit 3ca5819c8e333981bc5cb3cdddd97c21b4943384
Author: didg <didg>
Date:   Wed May 16 18:38:21 2007 +0000

    revert wrong auth.c commit

commit 4904f9397856080402008010191502cd1869471b
Author: didg <didg>
Date:   Wed May 16 18:35:58 2007 +0000

    remove a spurious error msg if noadouble option is set

commit d78c78ab09bf92b8ee9294e8d88193893efc5bd1
Author: didg <didg>
Date:   Mon May 14 19:31:28 2007 +0000

    copyfile: no need for noadouble if there's no source resource fork, it already doesn't try to create one for dest

commit b7eba8944a6fd64ac4d694a1a4a86c2824fcefdc
Author: didg <didg>
Date:   Mon May 14 18:38:52 2007 +0000

    fix a leak socket on error in papd

commit c53583b349f1570a92730379583214b6d9773c5a
Author: didg <didg>
Date:   Fri Apr 27 11:30:16 2007 +0000

    fix a NULL reference on error in papd, sf bug 1707236

commit 63dd0d02136a0fa2eb7895a77600bb82f3472cc8
Author: didg <didg>
Date:   Wed Apr 11 01:11:10 2007 +0000

    remove warnings

commit 82f1f70d9d866ce556a58e0d29173107230393ee
Author: didg <didg>
Date:   Wed Apr 11 01:02:16 2007 +0000

    usedots, return an invalide name only for .xxx files used by netatalk not all files starting with .apple, from Shlomi Yaakobovich, Exanet

commit df1d83bfe32918a013fc5e5afc8a48b173b049ed
Author: didg <didg>
Date:   Sun Mar 25 15:51:50 2007 +0000

    test for the whole loopback subbnet not only 127.0.0.1

commit 6083a9ae095fa0de783d348c032a5fe2b6ec0edf
Author: didg <didg>
Date:   Sat Feb 17 03:25:17 2007 +0000

    fix for loopback test on big endian box

commit 62136ee05b5778d7b115034a45d3093f1d02d558
Author: didg <didg>
Date:   Sun Dec 3 06:04:43 2006 +0000

    uams: add filename as exported symbol for no pam modules too, help with configuration mistake when symlinks are wrong, from Fabio Fogliuzzi

commit e34969bb8078c54e7c7111b39f39522cf18b1034
Author: didg <didg>
Date:   Mon Nov 13 15:36:28 2006 +0000

    Dec Tru64 V4.0F compilation fix, from Burkhard Schmidt

commit 9b9d13550d99f2ea86633550cc3ca60f433f8e22
Author: didg <didg>
Date:   Sat Sep 30 06:29:17 2006 +0000

    remove automake warnings, from Houritsu Chu

commit be4c7009bc01f39e8b256ff05045871f55df61e1
Author: didg <didg>
Date:   Fri Sep 29 09:44:58 2006 +0000

    for .xx files don't set invisible bit if create by netatalk

commit 96afda34736f3aee95560c125e59211ab811e203
Author: didg <didg>
Date:   Fri Sep 29 09:39:16 2006 +0000

    add a SFM compatible format for adouble

commit 56ef10db116a731b4cffdc41ceae813f25b2208a
Author: didg <didg>
Date:   Tue Sep 19 23:00:49 2006 +0000

    Make dot files visible by default with usedots, add invisibledots for the old behavior, for OS9 (OSX hide dot files on its own)

commit 6dc1d33c33b947a2379654553f1e9740abbe324e
Author: didg <didg>
Date:   Tue Sep 19 01:35:45 2006 +0000

    in unicode function convert_charset needs trailing zero, spotted by HAT

commit 724c0203811e5cb7872fc4ee4089115f58b32705
Author: didg <didg>
Date:   Mon Sep 18 09:22:25 2006 +0000

    limit comments size to 128 bytes, cf. Adobe CS2 bug

commit 6590d40ae8032ad963288710c826a068039525c3
Author: didg <didg>
Date:   Mon Sep 18 01:06:44 2006 +0000

    in unicode function trailing zero needs to be wide, spotted by HAT

commit 6a6b0fe1c2a82b57e9cc845eb9bff36985c0e883
Author: didg <didg>
Date:   Sun Sep 17 17:48:15 2006 +0000

    remove the daemon icon, it's not displayed on OS9 and not always on OSX, from HAT

commit 826f3c5ce299b2748d0d96de7c27824e483a28a7
Author: didg <didg>
Date:   Fri Sep 15 00:11:34 2006 +0000

    don't load atalkd kernel module, either appletalk is not compiled or it will be loaded automatically, from HAT

commit f8cffc12674217a328e6d2ae79e3ac909b8abeb0
Author: didg <didg>
Date:   Fri Sep 15 00:09:23 2006 +0000

    createfile: return the right error code if disk full, from Tsiyon Sadiky, exanet

commit cd88519f69dbd46eab346a83774e07c343820e75
Author: didg <didg>
Date:   Fri Sep 15 00:07:43 2006 +0000

    remove a debug quota log output

commit 6a5af5d17aa482c7386dc157127508fccdab1763
Author: didg <didg>
Date:   Fri Sep 15 00:05:51 2006 +0000

     set invisible bit in finderinfo too, should partially fix sf bug 1033346 (temporary item name is localised)

commit b332ce4d519c5e7223f420aff1c1ac70f53ff01c
Author: didg <didg>
Date:   Fri Sep 15 00:02:56 2006 +0000

    copyfile: return the right error code if ad_close fail, from Tsiyon Sadiky, exanet

commit 4acc09afabe37f09187c7c093dfb244687b3ed1d
Author: didg <didg>
Date:   Sat Sep 9 19:05:57 2006 +0000

    unicode patch from TSUBAKIMOTO Hiroya

commit 4d892a8a3d98ab37c7910753e3f436dc84a19f77
Author: didg <didg>
Date:   Sat Sep 9 04:30:01 2006 +0000

     try to get the libs dep a bit better

commit 0cb258be3271563f0df28696a35e82aa337918b8
Author: didg <didg>
Date:   Sat Sep 9 04:07:25 2006 +0000

    from Carlos Corbacho sf.net bug 1553024  Fix Linux 2.6 kernel vs xfsprogs headers

commit f8699bea283d4f5bb52e932639a4e3d5578fb4f7
Author: didg <didg>
Date:   Sat Sep 9 03:52:41 2006 +0000

     configure macros for Berkeley DB4.4

commit 3096d59d5996563181297e546e771637ae75a416
Author: didg <didg>
Date:   Sat Sep 9 02:48:25 2006 +0000

    CACHEID comment from HAT

commit e8ad8bd9ed64db635ed595c11f78f56f59a56f3e
Author: didg <didg>
Date:   Tue Aug 1 09:01:32 2006 +0000

    if there's no server configured, errno is undefined

commit fc6963bbcb0cadad444bcdb837db89b97580ec37
Author: didg <didg>
Date:   Fri Jul 21 04:58:49 2006 +0000

    add mac greek encoding from P. Christeas

commit 4d368f7f7982cfff1224097b9355f332dd894338
Author: didg <didg>
Date:   Tue Mar 14 06:15:45 2006 +0000

    resource fork without comment field, fix a file descriptor leak in get_comment

commit d60fb79201de0460bd87c3558d91e31eec69b8ad
Author: didg <didg>
Date:   Sun Feb 26 22:45:05 2006 +0000

    Use correct member of forklen array, from Olaf Hering

commit c627d6a6400149caf34886f12a251e7d14aa6998
Author: didg <didg>
Date:   Wed Feb 8 05:14:12 2006 +0000

    patch from Justin Mazzola Paluska for quota on linux 2.6 and xfs

commit c4fee1fd8f5156f83c44745e94d4090f854715a0
Author: didg <didg>
Date:   Wed Feb 8 03:00:09 2006 +0000

    compilation fix for ultrix

commit 414dc8ab780634ec9422ee33c36630f7368b83cb
Author: didg <didg>
Date:   Wed Oct 19 17:51:16 2005 +0000

    patch [ 1318295 ] automake should be used foreign

commit 30d43d00b85a66b346b86a456c98aa002c0db30f
Author: didg <didg>
Date:   Wed Sep 28 10:19:34 2005 +0000

    Use mac charset for volume name in getvolparams.

commit 948b4d6f7c32c4631a15d769780ba1ac558d24b7
Author: didg <didg>
Date:   Wed Sep 28 09:46:37 2005 +0000

    increase the number of open forks.

commit 1831a216628d62e5986e9888bead2e6c17bb9b16
Author: didg <didg>
Date:   Wed Sep 28 09:43:04 2005 +0000

    set group owner too with unixpriv, from exanet.com

commit b8f2e39edb9eac30a1fee53644f58cd81b40b294
Author: didg <didg>
Date:   Wed Sep 7 15:27:29 2005 +0000

    Ignore dsi header data offset field in request, bug from Derrik Pates

commit cc2ebb523efc96d3981e6a1c772509bfd9a79977
Author: didg <didg>
Date:   Wed Sep 7 15:23:21 2005 +0000

    lazy init dbd database, help with pre tiger OS and a lot of volumes.

commit 9c3b19ed0e53e3c04da8fb2ecc0a39b8730570de
Author: didg <didg>
Date:   Thu Aug 11 20:15:35 2005 +0000

    AFS patch

commit 5147b46f0d58e9393500b6b21199d7ca42e32420
Author: didg <didg>
Date:   Fri Jul 22 21:53:34 2005 +0000

    add combining for Hangul.

commit ec7cd4f489d991d8f90e75a3c181f9f718bc6900
Author: didg <didg>
Date:   Wed Jul 20 23:58:21 2005 +0000

    add a --disable-quota to configure, from Olaf Hering suse.de

commit 5cae16c30cb2528c3f1c82544c3de82c767e09cb
Author: didg <didg>
Date:   Wed Jul 20 22:28:46 2005 +0000

    don't advertise volume without r-x right.

commit a44aaa274efb6ba49b701fc2375005bbcef62f2a
Author: didg <didg>
Date:   Wed Jul 20 21:23:52 2005 +0000

    fix a leak if malloc fail in of_alloc

commit 264d0dc6132529556a8895f741b5b43b859f2857
Author: didg <didg>
Date:   Fri Jul 8 16:48:45 2005 +0000

    fix a struct ofork leak if ad_close fail.

commit 36943ffdcc8b26901d0daff88f490608ee34d4c8
Author: didg <didg>
Date:   Thu Jun 2 12:32:17 2005 +0000

    add a default permission to volume options, from Exanet; slightly modified.

commit da23d8f1f789941b654274e4a2f9b745bb41f741
Author: didg <didg>
Date:   Thu Jun 2 10:23:05 2005 +0000

    use ad_metadata macro in copy file for setting the name.

commit ab42efcdfc71ae93b6ddb9b4cf5686fe555b2c06
Author: didg <didg>
Date:   Wed Jun 1 13:03:29 2005 +0000

    netbsd error, from  Mark Davies.

commit 9dfa4c7811c5fcef8f39f6a1c8f486de1220de09
Author: didg <didg>
Date:   Wed May 25 18:34:04 2005 +0000

    better handling of file's perms for ADS adouble format, there's still a problem
    for file with no perm you can't delete them.

commit 4edbdfe724579be1238cc2db853adb2e19a16a6b
Author: didg <didg>
Date:   Wed May 25 18:32:04 2005 +0000

    Better handling of file permission in FPCopyfile, base on exanet work.

commit 18f9c35a59d7ffa195194f0d386dfd13bbb5a1cf
Author: didg <didg>
Date:   Wed May 25 18:30:50 2005 +0000

    ad_open on volume with unix priv, miss volume.c in the previous commit.

commit c03e70981ba9ae4a4c2ffd54f67911f92b7d50d4
Author: didg <didg>
Date:   Wed May 25 18:24:24 2005 +0000

    for volume with unix priv don't use parent folder permission when creating
    files.

commit 9e1969f2e204020aa0b034f78c46fa19ccbe31a3
Author: didg <didg>
Date:   Wed May 25 18:19:33 2005 +0000

    don't remove x perms, from exanet works, slightly modified.

commit cd5246df10e6566010dfd460b63018f92551661a
Author: didg <didg>
Date:   Sat May 14 12:54:46 2005 +0000

    use macros ad_xxmetada when we only want files' metadata.

commit be874e654d396c2fdbbf6a4f22dd8bdea640fadd
Author: bfernhomberg <bfernhomberg>
Date:   Thu May 12 00:22:26 2005 +0000

    it's 4.3, not 4.1 *sigh*

commit cc8f60db0f464de075881f2b4df548988fdc609d
Author: bfernhomberg <bfernhomberg>
Date:   Thu May 12 00:20:24 2005 +0000

    fix BDB 4.3 compile

commit 9b01c81bb68fd90153ea3230e54b5793ecb63fff
Author: bfernhomberg <bfernhomberg>
Date:   Mon May 9 00:58:27 2005 +0000

    fix volume name not equal volume unix path bug

commit 7b0b840bfa54126486d0824e214fa4611880e0e1
Author: didg <didg>
Date:   Sat May 7 05:37:53 2005 +0000

    new rpm spec from Dan A. Dickey.

commit d8736f77764e18812d1c05769bd211b56539d1c1
Author: didg <didg>
Date:   Tue May 3 14:55:10 2005 +0000

    remove gcc warning

commit 59774c5d8b1c7e648e87cb561cac4ed7d7315868
Author: didg <didg>
Date:   Mon May 2 16:31:24 2005 +0000

    gcc warning and rsize use before init.

commit e8bbed26dae8f9a20594285a82a2c08181bef90a
Author: didg <didg>
Date:   Sat Apr 30 21:33:41 2005 +0000

    Use a hash rather than a linear search for directories. Note now we always use
    unix name for lookup. If the char codepage is wrong you won't get the same
    error as before.

commit ecfc96169ab669b578e53fa8e13592934fe37788
Author: bfernhomberg <bfernhomberg>
Date:   Thu Apr 28 20:49:17 2005 +0000

    - merge branch-netatalk-afp-3x-dev, HEAD was tagged before

commit 2726bc50a91ff4fc06813edaab91e3596df37e8f
Author: bfernhomberg <bfernhomberg>
Date:   Wed Jan 14 16:10:29 2004 +0000

    apply parts of the netbsd build patch by Patrick Welche <prlw1@newn.cam.ac.uk>, mostly build related stuff.

commit 0bec6e01d5a8c42cb5664846d7757904c7f95bfc
Author: srittau <srittau>
Date:   Sun Dec 28 13:51:12 2003 +0000

    Linux 2.6 quota interface. [Bjoern]
    Removed ultrix specific stuff (code cleanup).

commit b90fa4a9a05047767a40da2634f1b9440484876f
Author: srittau <srittau>
Date:   Sun Dec 28 13:42:06 2003 +0000

    Check for struct if_dqblk. [Bjoern]

commit 675630b11979aac6a8b2760a72832ada4ad6fa38
Author: srittau <srittau>
Date:   Mon Dec 15 06:56:33 2003 +0000

    Put admin group check into a separate file, clean it up, fix it:
    use AC_ARG_ENABLE instead of AC_ARG_WITH.

commit b1920cdbff281ecabd6c27d9f84508a09eaa7283
Author: srittau <srittau>
Date:   Mon Dec 15 06:40:40 2003 +0000

    Removed more useless checks.

commit 963e8c0b4c58120a6a8d480153c78890f586a83f
Author: srittau <srittau>
Date:   Mon Dec 15 06:26:52 2003 +0000

    Remove unnecessary header checks.

commit 3eb5170d7d28ba1561d2a9d0afe53bf196248503
Author: srittau <srittau>
Date:   Mon Dec 15 06:13:38 2003 +0000

    Removed an unneeded function check.

commit 09758fb5a78f3bbb5ec814f90bb178d4a53c0eb9
Author: srittau <srittau>
Date:   Mon Dec 15 06:03:33 2003 +0000

    Remove checks for individual libraries (probably legacy stuff). Help text
    alignment.

commit aff7b3a781eb570bb02e57d7111406466e1b63f6
Author: srittau <srittau>
Date:   Mon Dec 15 05:27:24 2003 +0000

    Check for struct tm.tm_gmtoff instead of defining NO_STRUCT_TM_GMTOFF on
    a per-architecture basis.

commit 08923b5a0310e311a0b4039a7761197edc81eb1c
Author: srittau <srittau>
Date:   Mon Dec 15 05:05:19 2003 +0000

    Removed an obsolete comment.

commit 747407e3c33d657ba39f0edab18ff8fa27103c5b
Author: srittau <srittau>
Date:   Mon Dec 15 04:59:45 2003 +0000

    Check for sys/quota.h and include it if and only if this is defined in unix.h.

commit e9fb3715194e50e75baec73a53a29db1f7b077ce
Author: srittau <srittau>
Date:   Mon Dec 15 04:55:20 2003 +0000

    Move check for ufs/quota.h from configure.in to macros/quota-check.m4.

commit 841184db93c94309e46df3715f4f33bc6c9d680c
Author: srittau <srittau>
Date:   Mon Dec 15 04:49:56 2003 +0000

    Remove NEED_QUOTACTL_WRAPPER cruft. I think that was needed for old Linux
    versions. If it's still needed, please notify me and I will revert this
    change.

commit 99908f7787ae06b7918b490b491b7f584736f401
Author: srittau <srittau>
Date:   Mon Dec 15 04:33:28 2003 +0000

    Backport from 1.6 branch: Fixes for Linux kernel 2.6 headers.

commit 633caee0d92c85eb78489a02b7ccf95663f726fe
Author: srittau <srittau>
Date:   Tue Dec 9 20:46:52 2003 +0000

    Man page fixes pointed out by Eric S. Raymond's script (see
    http://catb.org/~esr/doclifter/problems.html).

commit b98f4ddb16933b6d1ec66570115b5506dd6bac10
Author: samnoble <samnoble>
Date:   Wed Sep 3 21:25:38 2003 +0000

    MacOS X Compatibility Fix: volume option mswindows => usedots.

commit bebff1fdc2ddf2b6d091c53d479c6b4c74046b12
Author: samnoble <samnoble>
Date:   Wed Sep 3 18:27:13 2003 +0000

    Some updates for the Kerberos 5 UAM. We now use an autoconf macro to
    detect support for gssapi. Some heimdal compatibility has been added.
    
    Thanks to Bjorn Fernhomberg for the integration and heimdal work.

commit 78cc46df59dbd4a4aec8a89c7516c9f74fab9ec6
Author: didg <didg>
Date:   Wed Sep 3 17:40:02 2003 +0000

    afp_write return the write dsi size if write length is zero.

commit 3fd88088399a09feb66dda81a33986fb4c71836d
Author: bfernhomberg <bfernhomberg>
Date:   Sat Aug 30 16:10:32 2003 +0000

    add missing k5keytab to struct afp_options

commit 31817695dd631ecb68854245a24ff57d5b976925
Author: bfernhomberg <bfernhomberg>
Date:   Fri Aug 29 23:35:34 2003 +0000

    Fix a bug that crept in with last commit

commit b2ccb38348dbb2695ff5a583acec7e588c626c33
Author: bfernhomberg <bfernhomberg>
Date:   Fri Aug 29 23:05:37 2003 +0000

    Add missing SIGUSR2 messaging support for clients connected via ASP

commit 02e5a81556b2d03e0ef00724c3b56f000c17d389
Author: samnoble <samnoble>
Date:   Fri Aug 22 20:41:09 2003 +0000

    Solaris compatibility fix, use putenv() for KRB5_KEYTAB rather than setenv().

commit d4121fc064170fef5a4f3fd4d1fab9da70e00bc9
Author: samnoble <samnoble>
Date:   Fri Aug 22 20:25:51 2003 +0000

    Don't overwrite pam.d/netatalk unless we're told to replace config files.

commit 29961cdd4ec2427c5e7bc3ccb8dc9c34bee17aa9
Author: samnoble <samnoble>
Date:   Fri Aug 22 17:12:45 2003 +0000

    Support for the Client Krb v2 UAM in Apple's MacOS X 10.2 and later.
    The specification describes the possiblity of supporting Kerberos 4 support.
    This UAM only supports Kerberos 5 authentication.

commit 8d7e8b40fe0d5f41f0c132620f4a50235452b881
Author: srittau <srittau>
Date:   Sat Aug 9 14:28:36 2003 +0000

    Fixed an uninitialized variable. [Olaf Hering]

commit f361f81d027b1ddb693f7d2870578c31596990e3
Author: rlewczuk <rlewczuk>
Date:   Thu Jul 10 13:50:39 2003 +0000

    fix: make libatalk compilable when DB3/CDB backend is turned off

commit 6c210c96a3e84e76cb2604e1b99a575f5ec39fa3
Author: srittau <srittau>
Date:   Tue Jul 1 19:23:22 2003 +0000

    Updated NEWS file from stable branch.

commit 2ce16621096e686e8cf8683158bb987ddf5a83f0
Author: srittau <srittau>
Date:   Tue Jul 1 19:22:34 2003 +0000

    Updated option descriptions.

commit 73bfe065eb184bac290401cfdedb3cafdb1e7802
Author: didg <didg>
Date:   Thu Jun 26 02:15:21 2003 +0000

    Try to ckeck, recover and cleanly close cnid. Few issues if afpd killed in db
    routine. From Bjrn Fernhomberg.

commit f5eebb46dfae3ac44e92fb3d792d60053a0c54bb
Author: srittau <srittau>
Date:   Tue Jun 17 06:39:37 2003 +0000

    Turn off optimization by default. [Michael McCarthy]

commit 44b3cb713ead1bd36617bbc1758d69d798a002bf
Author: srittau <srittau>
Date:   Sat Jun 14 16:56:56 2003 +0000

    Whitespace fixes.

commit f91868e895c77160e4e50fa87e822b2788b955ba
Author: srittau <srittau>
Date:   Sat Jun 14 16:45:21 2003 +0000

    White space fixes.

commit 44d08ebe8e6100697955a15409d81b7bbb4b1e04
Author: srittau <srittau>
Date:   Sat Jun 14 16:40:54 2003 +0000

    Fixed error that I introduced into Burkhard's patch. Pointed out by
    Burkhard.

commit 811183902e20ebcee42a3803bdd0ff9fe6993bba
Author: srittau <srittau>
Date:   Thu Jun 12 23:47:48 2003 +0000

    Include path fixes.

commit 94323be8a0914426a49ac6469a786e3678283175
Author: srittau <srittau>
Date:   Thu Jun 12 23:45:22 2003 +0000

    Include path fix.

commit 3a144b131de045795dad1de4cb873bd6744690ab
Author: srittau <srittau>
Date:   Thu Jun 12 23:15:06 2003 +0000

    Put TCP wrappers check into a separate file. Changed --with-tcp-wrappers to
    --disable-tcp-wrappers, changed default.

commit 535f8a99620af46930ff46aaef4b843da21fa091
Author: srittau <srittau>
Date:   Thu Jun 12 22:46:28 2003 +0000

    Include path fixes.

commit 3e2d735839603e50f1df11775303f27ad2580428
Author: srittau <srittau>
Date:   Thu Jun 12 11:37:11 2003 +0000

    Removed unused file.

commit 997910c4d91c1b3a7843e8ca3aa95c33f835a3af
Author: srittau <srittau>
Date:   Thu Jun 12 11:36:10 2003 +0000

    Fixed include paths.

commit cdfe3567e676d59ebe047b7b34a044a7f0fa635c
Author: srittau <srittau>
Date:   Wed Jun 11 22:07:56 2003 +0000

    Oops, fixed thinko I introduced in the last patch.

commit 98acdf09b92118f87ee17201568c507781f26821
Author: srittau <srittau>
Date:   Wed Jun 11 22:05:55 2003 +0000

    Patch by Burkhard Schmidt to improve seeding of the entropy cache on Tru64.

commit 5767b8d1c892a902c0c49a34cb0d61949974fca5
Author: srittau <srittau>
Date:   Wed Jun 11 21:45:43 2003 +0000

    Don't check for sys/quota.h and linux/quota.h, since the resulting #defines
    are not used anyways.

commit b9aaf2e415b9638593f8a4865980f7938cc0b3ab
Author: srittau <srittau>
Date:   Wed Jun 11 07:49:52 2003 +0000

    Alternate libgcrypt support for uams_randnum.c.

commit 716a42e5303c6b562bb7b36f530a2571e4e4e4eb
Author: srittau <srittau>
Date:   Wed Jun 11 07:26:50 2003 +0000

    Alternate libgcrypt support for uams_pgp.

commit 189e8d092acfc952e798a1053a085e6289785c14
Author: srittau <srittau>
Date:   Wed Jun 11 07:23:24 2003 +0000

    Removed all traces of OpenSSL specific stuff.

commit 1c15ff00fc3a1c309576c5f146f5aac2e2e8779f
Author: srittau <srittau>
Date:   Wed Jun 11 07:18:04 2003 +0000

    Removed --enable-pgp-uam configure option. Is there any reason somebody
    would not want to compile it as long as the dependencies (namely OpenSSL)
    are fulfilled? It's not enabled in the default configuration anyways, so
    compiling it will do no harm.

commit 78e5651824002ce9b21f7f33ef7d48963ed67eaa
Author: srittau <srittau>
Date:   Wed Jun 11 07:16:14 2003 +0000

    Warning fixes.

commit da0f8cf2b60395b58921df504ad6d06ef4fe0897
Author: srittau <srittau>
Date:   Wed Jun 11 07:14:09 2003 +0000

    Prefix functions in crypt.[ch] with atalk_. Removed all direct invocations
    of SSL functions from uams_randnum.c.

commit b1141aa01689fa50c2805dc68c8b2e1ec33ee1af
Author: srittau <srittau>
Date:   Wed Jun 11 06:55:52 2003 +0000

    Don't use crypt.[ch] for the PGP UAMS.

commit 3b037f1e2d31d504884e3e6d5796f08e0b9ae0ef
Author: srittau <srittau>
Date:   Wed Jun 11 06:29:29 2003 +0000

    Put cryptographic code into a separate code file. This is in preparation
    for libgcrypt support. Also, it will reduce code duplication.

commit 4d5277a037b3edce0f02b8f5b2d7d05828cee6b6
Author: srittau <srittau>
Date:   Mon Jun 9 15:09:19 2003 +0000

    Head <-> 1.6 patch reduction.

commit ff48064643c8543220d0c09d9f75694002d9df7c
Author: srittau <srittau>
Date:   Mon Jun 9 14:42:38 2003 +0000

    Warning fixes.

commit dd579ec4f9121c1b6f630d2c34158737c3275387
Author: srittau <srittau>
Date:   Mon Jun 9 14:25:51 2003 +0000

    White space and comment capitalization fixes.

commit e525d3dd41ff7a8f5019aaf20d599fa44fb91118
Author: srittau <srittau>
Date:   Mon Jun 9 14:05:26 2003 +0000

    Tab -> spaces (consistency).

commit 7ec9e617c55cd2b91f38364deb3549cdcc0f0d9c
Author: srittau <srittau>
Date:   Mon Jun 9 02:55:24 2003 +0000

    Optional libgcrypt support.

commit 661e61dd88de66ec2e16c366be9f0a90216daff4
Author: srittau <srittau>
Date:   Mon Jun 9 02:51:34 2003 +0000

    I suck; bug fixes, more code cleanup, better error handling, and more new
    OpenSSL API.

commit e3118a11ed2070bed60db6bcc79d569b1e51c514
Author: srittau <srittau>
Date:   Mon Jun 9 02:50:45 2003 +0000

    Fix --enable-gcrypt and --disable-gcrypt.

commit 9e577cbd366d3735397471e149f83fbb53369098
Author: srittau <srittau>
Date:   Sun Jun 8 16:49:25 2003 +0000

    Added HAVE_GCRYPT define. Removed explicit checks for libcryto and libdes,
    since they interfered with libgcrypt.

commit c2e550bfac1057f6df812dcaaa29a618ca9b1879
Author: srittau <srittau>
Date:   Sun Jun 8 16:04:49 2003 +0000

    Added check for libgcrypt (as an alternative to OpenSSL).

commit 13743697115cc62e431dcfa68d04b51e26bb8962
Author: srittau <srittau>
Date:   Sun Jun 8 15:57:40 2003 +0000

    Put COMPILE_A2BOOT conditional into contrib/a2boot/Makefile.am, not
    contrib/Makefile.am. Even if COMPILE_A2BOOT is not defined, we *must*
    recurse into a2boot, so that e.g. "make dist", "make clean" or the
    regeneration of Makefile.in still work properly.

commit a24c9b97d286cbe872c1bffbff4e719312fcfa8b
Author: srittau <srittau>
Date:   Sun Jun 8 15:21:40 2003 +0000

    Remove --enable-timelord; always compile timelord.

commit 1c37e4311b51a444809ae7776a82f4423946ead4
Author: srittau <srittau>
Date:   Sun Jun 8 15:17:56 2003 +0000

    AC_INIT using a different source file (from afpd instead of adv1tov2.

commit 2c77de423b7ca79a1c68f737f7a0e14416457c85
Author: srittau <srittau>
Date:   Sun Jun 8 14:52:37 2003 +0000

    Put check for DID scheme into a separate macro, fixed configure help string
    indention, streamlined "checking foo..." messages.

commit a5edbbe08ba12ad417fdf50916fff9658ce7820d
Author: srittau <srittau>
Date:   Sat Jun 7 23:23:27 2003 +0000

    Compilation fix.

commit 32334bf7851cce8119b795a9f73d59cb1a4d5bee
Author: srittau <srittau>
Date:   Sat Jun 7 12:04:51 2003 +0000

    Fix help string indention.

commit 4b850deac76ca3c3ff44bb1c3b61d51556c7e484
Author: srittau <srittau>
Date:   Sat Jun 7 12:01:03 2003 +0000

    Auto-generate etc2ps.sh.

commit 4a27e2ef64b8be31a82d2cd330d004afcf4f6d56
Author: srittau <srittau>
Date:   Sat Jun 7 03:07:27 2003 +0000

    Bug fixes.

commit e22d9467c69eeb2c6ea153238e51571d3ea2fdee
Author: srittau <srittau>
Date:   Sat Jun 7 01:39:05 2003 +0000

    More code cleanup.

commit 46fe10b1e7d2d86e5f38ce5c22308d86de4ddd6f
Author: srittau <srittau>
Date:   Fri Jun 6 22:43:39 2003 +0000

    Always use new OpenSSL API.

commit bcc96209f9abcbb73e631df04f95bff449b73043
Author: srittau <srittau>
Date:   Fri Jun 6 22:40:12 2003 +0000

    New OpenSSL API.

commit cd5a5c4b6082d86e502cf9048373ab1543c6f38c
Author: srittau <srittau>
Date:   Fri Jun 6 22:34:34 2003 +0000

    Code cleanup.

commit ca6aa912bbe81b264f6f937172f0e39c8aa96630
Author: srittau <srittau>
Date:   Fri Jun 6 21:17:19 2003 +0000

    Warning fixes.

commit 31f54dd48840049d188117771e3f5a80e2191d12
Author: srittau <srittau>
Date:   Fri Jun 6 20:46:38 2003 +0000

    Don't implement ad_hf_mode in header file, but always use the function in
    ad_open.c.

commit 3bd0074ed1b42f4f4d3a9c94b263d9c101c6bb0b
Author: srittau <srittau>
Date:   Fri Jun 6 20:43:14 2003 +0000

    Implement sendfile() as macro.

commit cc8dc1febedc3425ecc3a2d17c2e2a69ba50b6b1
Author: srittau <srittau>
Date:   Fri Jun 6 20:36:59 2003 +0000

    Implement path_isadir() as macro. Please do not put function implementations
    into header files.

commit 59d709b641d22529ddc383b5176225b9e159380b
Author: srittau <srittau>
Date:   Fri Jun 6 20:25:32 2003 +0000

    Warning fixes: comment out unused stuff, remove unused variables and labels.

commit f243c10c23a91a3fd89634b2e56b547eca366658
Author: srittau <srittau>
Date:   Fri Jun 6 20:18:39 2003 +0000

    New maccode map: identity to pass through characters.

commit 5ca99e9fccf702dda6c693d160f5ebff43989c7a
Author: srittau <srittau>
Date:   Fri Jun 6 20:17:55 2003 +0000

    Install data correctly.

commit 9910b2f7aaa17e65ad2405bf223150f65c2763c2
Author: srittau <srittau>
Date:   Fri Jun 6 19:45:51 2003 +0000

    DB3 patch check fix by Stefan Muenkner.

commit 7876e3f35ce55878fbeb2bd3a533bcaeeb1a9aed
Author: srittau <srittau>
Date:   Fri Jun 6 19:41:48 2003 +0000

    Fix for afpd debugging by Stefan Muenkner.

commit 35c05fe95cdd2f99ab1763f56b55a6bb9b801176
Author: srittau <srittau>
Date:   Fri Jun 6 19:35:15 2003 +0000

    Added a missing break statement. Patch by Chris Shiels.

commit 42ffc73658ad59eaf1fa7dce162d1ec38c731c61
Author: srittau <srittau>
Date:   Fri Jun 6 18:57:32 2003 +0000

    Include config.h.

commit a81f498ef628c653a04b875cd592be0768be4e78
Author: srittau <srittau>
Date:   Fri Jun 6 18:28:10 2003 +0000

    Remove unused PAPD_LIBS, replaced AFPD_LIBS by WRAP_LIBS.

commit c0b846fb37624cd6f59c5a8a6610d0f40b32f890
Author: srittau <srittau>
Date:   Fri Jun 6 17:40:20 2003 +0000

    Build fix.

commit bebe25541c3139daa5d1643316bf458e5f38fc69
Author: srittau <srittau>
Date:   Fri Jun 6 17:34:32 2003 +0000

    CFLAGS -> INCLUDES and other build fixes.

commit 9ba7d35fd04fda391f0567d1f2b16f0f77dc53ab
Author: srittau <srittau>
Date:   Fri Jun 6 17:00:40 2003 +0000

    Fix.

commit 4e9bc56399f79c754f05dcdd8051abda64470982
Author: srittau <srittau>
Date:   Fri Jun 6 16:16:45 2003 +0000

    Use configure mechanism for generating files. Don't distribute generated
    perl scripts.

commit ccaca461c5374341894f85fc56b17f3a3572948f
Author: didg <didg>
Date:   Thu Jun 5 09:17:07 2003 +0000

    AFP3.x add unix privilege (new volume option upriv), fix double click and utf8
    name. Bjrn Fernhomberg and me.

commit bf357429448085ddb7100bd7af2c01ae9a9b9b61
Author: didg <didg>
Date:   Mon Jun 2 06:54:22 2003 +0000

    small fixes from Bjrn Fernhomberg, remove compiler warnings and a malloc
    check.

commit 66d4463ec92323cc00a94fa05cdf362abeedef17
Author: didg <didg>
Date:   Mon May 26 12:32:35 2003 +0000

    check if mtoupath return NULL

commit 01187f72e34817530375b7a33a40a29ab3bb14a7
Author: didg <didg>
Date:   Wed May 21 01:32:47 2003 +0000

    don't call log function if parameter is null, from Robby Griffin and Sean Bolton

commit f2c23519bcd1bca46c09c95cb8bf2405d805376c
Author: didg <didg>
Date:   Tue May 20 20:50:49 2003 +0000

    SERVTEXT wasn't defined patch from Bjrn Fernhomberg

commit a3220b50dac41a8708f1fd3433d39b64e7fd15e7
Author: didg <didg>
Date:   Tue May 20 14:46:50 2003 +0000

    return 0xffff if more than 65536 entries in a directory.

commit ba79d07a38fe784967909289511e1c89097889c8
Author: didg <didg>
Date:   Fri May 16 15:29:25 2003 +0000

    AFP 3.x add sleep timeout, add disconnect old session. Bjrn Fernhomberg and me

commit 588f136c9c0d2f312ce56e48bac9597708d127e7
Author: didg <didg>
Date:   Fri May 16 14:38:20 2003 +0000

    BUGFIX enumerate DID parameter and curdir->d_did are not always the same (when pathname parameter is not empty).

commit 7a63c2875fbbfdf407618814098d2fb1babdf2ea
Author: didg <didg>
Date:   Wed May 14 15:13:50 2003 +0000

    pap: Allow login using gecos name too, fix most obvious buffers overrun... from
    Bjrn Fernhomberg.

commit 9e3628c5952b7dfddaa61bd731c92f5b31b7cf92
Author: didg <didg>
Date:   Mon May 12 13:31:02 2003 +0000

    bugfix, should work a lot better, from Bjrn Fernhomberg and me.

commit a0c04624c566286d772ce33612a1762dfcbde4b2
Author: didg <didg>
Date:   Mon May 12 09:43:11 2003 +0000

    BUFIX: dirsearch_byname it's cdir not curdir, was a pb with catsearch

commit eba3f71fee3491570a6481df683cc47f1125b376
Author: didg <didg>
Date:   Wed May 7 13:23:53 2003 +0000

    if AFPVOL_MTOUUPPER or AFPVOL_MTOULOWER set , mac name and unix name are
    different.

commit e2bfe9b5f7a9e5bb7f08fa77b90783c462442bcf
Author: srittau <srittau>
Date:   Wed May 7 00:13:24 2003 +0000

    Fixed typo in comment.

commit ef5f2b1d8aaf928a13a8986d480b77ec9e5987d7
Author: didg <didg>
Date:   Sat May 3 20:03:12 2003 +0000

    more stupid if ((a = b()) == C) to (C == (a = b()) changes

commit 7faa2065531bc4ab36a1970f03978b5d50280f0d
Author: didg <didg>
Date:   Fri May 2 18:22:13 2003 +0000

    AFP 3.1 catsearch fixes from Bjorn Fernhomberg.

commit a73b91c0198fa958770433b83c1d69497ff21ed3
Author: didg <didg>
Date:   Fri May 2 17:53:10 2003 +0000

    bugfix from Bjorn Fernhomberg

commit 36a0fff6bb6426fa7389ec7c4ba027c12a1a2e24
Author: didg <didg>
Date:   Sat Apr 26 16:53:44 2003 +0000

    afp_createfile return VLOCK rather than PARAM error if the volume is mounted read only.

commit 3b53938b38d728d949f1180ae4ae6d50f155ff3c
Author: didg <didg>
Date:   Thu Apr 24 17:05:38 2003 +0000

    AFP3 return the right error in mapname when asked for unicode with a pre3.0 version.

commit 0c2ffbd66d6402ee7820c5ce47c522ccf5deb55a
Author: didg <didg>
Date:   Tue Apr 22 04:19:55 2003 +0000

    check against the right value in FPSetVolParms.

commit 707aac5e3b9c0c993673e52fb75db60b944c1e18
Author: samnoble <samnoble>
Date:   Mon Apr 21 22:39:40 2003 +0000

    Allow DirectoryNames to be computed properly when fqdn includes a port specification.

commit 13663ea2d627b578dc3047abed0c2a46d70c89e3
Author: samnoble <samnoble>
Date:   Mon Apr 21 21:58:41 2003 +0000

    Don't advertise a fqdn in the DsiGetStatus reply if tcp is disabled.

commit e8e3979f927d8e501a3f5226a5e86abcf0bb3261
Author: didg <didg>
Date:   Sun Apr 20 06:53:40 2003 +0000

    better error code for calls on a not existing file

commit e97656150621534b057cc2ba1321ad71dee1ad16
Author: didg <didg>
Date:   Sun Apr 20 06:13:40 2003 +0000

    AFP3 with UTF8 ckeck name parameter is not too big.

commit 99758066f69b4ece2240e00f9925e4951e397eba
Author: didg <didg>
Date:   Fri Apr 18 11:38:31 2003 +0000

    fix from Bjorn Fernhomberg.

commit fcabae3043024f34078ff16395613dfd77b3b7b6
Author: samnoble <samnoble>
Date:   Wed Apr 16 22:50:00 2003 +0000

    k5service and k5realm options for Kerberos 5 UAM

commit 2124172d8708b74ec0851366f9a5cdcc530c91b3
Author: samnoble <samnoble>
Date:   Wed Apr 16 22:45:08 2003 +0000

    The following were necessary in order to implement a Kerbers 5 UAM compatible
    with what Apple ships in OS X 10.2.
    
    o support for specifying k5service and k5realm in afpd.conf
    o support for UTF8ServerName and DirectoryServicesNames in GetStatus reply
    o uam support for querying the server's k5service setting

commit bef69ee1782eaaa8797ac6f51cee3ab1f670fe0e
Author: didg <didg>
Date:   Wed Apr 16 06:55:44 2003 +0000

    bugfix: cache handling when inodes are reused.

commit bcaead3d7ed41c473de763af4b75282775d3d9c8
Author: didg <didg>
Date:   Tue Apr 15 07:18:45 2003 +0000

    bugfix: movecwd() if parent directory is deleted by someone else

commit 57897dcbf104b7f910c51760d23899385dbf64e9
Author: didg <didg>
Date:   Mon Apr 14 18:22:02 2003 +0000

    add a macro for large file support and autoconf < 2.54 , from wxWindows

commit f567e8c7c17915455e4ab5cb5eff2f99b4d637ec
Author: didg <didg>
Date:   Mon Apr 14 18:11:06 2003 +0000

    AFP 3.x double check in loginExt that large file support is enabled (size off_t
    == 8).

commit 14c06ee9778869a16b29d0595c93f41df614aee6
Author: didg <didg>
Date:   Mon Apr 14 18:03:48 2003 +0000

    remove a linear dir search, we already have the info.

commit 86655775d2918d6deb91abad2d73e47ed8410535
Author: didg <didg>
Date:   Fri Apr 11 02:04:20 2003 +0000

    BUGFIX: was trashing CFLAGS

commit 4fcbba85be853f12b8caaf8290149b816b155f24
Author: didg <didg>
Date:   Thu Apr 10 22:58:42 2003 +0000

    open the file read-only if errno is EROFS.

commit 55a25a063e8cf3eb3dec28f098462d61100e7aad
Author: didg <didg>
Date:   Wed Apr 9 06:06:34 2003 +0000

    file descriptor leak with noadouble. Was only in HEAD.

commit 9825fadac9105ec2939a1ea901ce78ece134cd2a
Author: didg <didg>
Date:   Wed Apr 9 06:05:24 2003 +0000

    UTF8 is defined but not mangled

commit 8f13a2fae3f8c9748e18111b07abc106c787882b
Author: didg <didg>
Date:   Wed Mar 19 00:13:23 2003 +0000

    openvol() add ifdef CNID_DB

commit 830c5110199fb8d1313c13c735616d6c7e1ebe25
Author: srittau <srittau>
Date:   Tue Mar 18 23:34:51 2003 +0000

    Removed unused static arrays tokenmulti and tokenmultitab.

commit e35b36d9ad0fa923cbafeaea3685ad6037fc2a5f
Author: srittau <srittau>
Date:   Tue Mar 18 23:32:17 2003 +0000

    parseline(): Increase buffer size instead of shrinking it, in case the
    buffer is too small. Increased buffer size from 1024 to 2048. Patch by
    Dan Wilga.

commit de357d92744787520e17f8e0faf4c4e05d891577
Author: didg <didg>
Date:   Tue Mar 18 00:20:27 2003 +0000

    dirlookup() utf8 support
    getdirparams() dot files and noadouble
    cname() and afp_createdir() concurrent access (when a deleted dir is the
    current work directory).

commit 63d8899d3bce4722a014f4566cbc9cde82e10225
Author: didg <didg>
Date:   Sat Mar 15 01:34:35 2003 +0000

    error code for dirlookup, cname.

commit d37d6a2278b1f3babe2550a5acaa0120200616b8
Author: didg <didg>
Date:   Wed Mar 12 15:07:00 2003 +0000

    support for function 0x7a
    add AFP3 login_ext for guest account
    From Bjrn Fernhomberg, slighty modified by me

commit f8dbebd9da63d480db7c2a88efb881d55d79f4be
Author: didg <didg>
Date:   Tue Mar 11 09:35:40 2003 +0000

    bugfix: size error in DNS name handling

commit 87502dc8efa57f6335a2584d29a5a234719b49b7
Author: didg <didg>
Date:   Sun Mar 9 21:14:19 2003 +0000

    cache mac name too.

commit d0e31105e1ba16326f321d01f0f756ae74005d37
Author: didg <didg>
Date:   Sun Mar 9 20:37:27 2003 +0000

    unsigned / signed fix

commit 62182ed80f098b859c8db943b4399f396048faa6
Author: didg <didg>
Date:   Sun Mar 9 19:55:33 2003 +0000

    add utf8 support for AFP3

commit 75f45443004506dc199b0b2f99252eb8223c8e5b
Author: didg <didg>
Date:   Sun Mar 9 17:33:33 2003 +0000

    macros for iconv() function, from Bjrn Fernhomberg cups patch.

commit aad3798598fbc9c3dca075332a976311312bb472
Author: didg <didg>
Date:   Fri Mar 7 14:51:50 2003 +0000

    cnid_add: bugfix use a cursor for atomic operation.
    cnid_open: clean a little cnid_open()

commit 0a0bba7c0811eeb0f68071c899599f986c01d48c
Author: didg <didg>
Date:   Wed Mar 5 09:41:34 2003 +0000

    don't set volume FILEID attribute if the db is NULL.

commit 444efbf861e9cafd243d590b118b62548d704ac4
Author: jmarcus <jmarcus>
Date:   Tue Mar 4 17:37:42 2003 +0000

    Remove the non-existent README file from EXTRA_DIST.

commit 97966769369545c1d5ebccd1b23c9579655ccbb4
Author: srittau <srittau>
Date:   Mon Feb 24 23:33:14 2003 +0000

    Miscellaneous updates, spelling streamlining. (e.g. netatalk -> Netatalk,
    mac -> Mac, OS X -> MacOS X, etc.), and formatting streamlining. (URLs are
    now indented etc.)

commit 4d909a03c792b6ab11f42ba284fcf0f02c643035
Author: didg <didg>
Date:   Mon Feb 24 10:49:57 2003 +0000

    fix a typo DBD_LIBS --> BDB_LIBS

commit d5b8ce279cd4602765aa8aa2c70c1a0c781b70d5
Author: jmarcus <jmarcus>
Date:   Sun Feb 23 16:09:28 2003 +0000

    Do not include /usr/include and /usr/lib in the header and library search
    paths as gcc 3.2 doesn't like this.
    
    Submitted by:   Bjoern Fernhomberg <lists@fernhomberg.de>

commit f56203fb363e2aaad2e69d50a92270dacdbb678e
Author: srittau <srittau>
Date:   Sun Feb 23 03:19:55 2003 +0000

    Replace filterdir by libexecdir.

commit 75b9fe8acdbb46ae2b8d419bf26b4b37fb7dbcce
Author: srittau <srittau>
Date:   Sun Feb 23 03:16:34 2003 +0000

    etc/filters -> libexec
    
    Anyways, this script badly needs auto-generating through autoconf.

commit 7bf6f44ea22e3689932e71ea44209acc24cc2282
Author: jmarcus <jmarcus>
Date:   Wed Feb 19 18:59:52 2003 +0000

    Revert previous mkstemp() commit.  While it quieted the compiler, it
    changed the essence of functionality, and broke rename.
    
    Pointed out by: didier <dgautheron@magic.fr>

commit 9af3e266a8aa1578615167c5cbdb2aa72302bbe3
Author: didg <didg>
Date:   Mon Feb 17 06:26:53 2003 +0000

    bugfix: better check against corrupted AppleDouble headers, not sure it doesn't
    the right thing but at least it doesn't dump core.

commit 7d35fc2990fb9bf3b343be6c8ba6f3f5fab4dda6
Author: jmarcus <jmarcus>
Date:   Mon Feb 17 03:10:55 2003 +0000

    Make sure papd is linked with pam if pam support is requested.  This should
    fix a problem with PSSP support.
    
    Submitted by:   Bjrn Fernhomberg <bjoern@fernhomberg.de>

commit 1e638987c99df30e93835e3318a06d179063d1d7
Author: jmarcus <jmarcus>
Date:   Mon Feb 17 02:32:45 2003 +0000

    Stupid, stupid typo.  Now that we have BDB_BIN, leave off the bin path
    component.
    
    Pointed out by: Bjrn Fernhomberg <bjoern@fernhomberg.de>

commit 06060f5f7d4d3e7c0833ab08ff4438fe76a55595
Author: jmarcus <jmarcus>
Date:   Mon Feb 17 02:12:04 2003 +0000

    Use mkstemp() instead of mktemp().  This will avoid a compiler warning
    even though we never actually opened the temp file.

commit 4485039069bc079594b298bc35e3fe7da122940d
Author: srittau <srittau>
Date:   Mon Feb 17 02:09:28 2003 +0000

    Call ./configure automatically.

commit 055608347fa93b09140c062ce8f971f7baa67a95
Author: srittau <srittau>
Date:   Mon Feb 17 02:04:59 2003 +0000

    Warning fixes, header cleanup.

commit 159e9c1115df359fdd1cd2edb117a1348199b7f8
Author: srittau <srittau>
Date:   Mon Feb 17 02:03:12 2003 +0000

    Removed "dummy" variable.

commit 2a8bb803f079ffec3bc4c0374763b511c392ef4e
Author: srittau <srittau>
Date:   Mon Feb 17 02:02:25 2003 +0000

    Removed "dummy" variables.

commit a230babb63a2f9998a4e65d90070b8e17a542aad
Author: srittau <srittau>
Date:   Mon Feb 17 01:51:07 2003 +0000

    Removed "dummy" global variables. (-Wall cleanliness)

commit 8d8c3cfeadbff18468476f7dd53c64f32e6a6157
Author: srittau <srittau>
Date:   Mon Feb 17 01:35:57 2003 +0000

    #include <string.h>

commit bef6abe0e0fa920b5c779088d3a40ca043c0a33f
Author: srittau <srittau>
Date:   Mon Feb 17 01:34:35 2003 +0000

    -Wall fix.

commit 8aaac7b4fc259c19bfe272ed2e61927a2db5f600
Author: srittau <srittau>
Date:   Mon Feb 17 01:33:01 2003 +0000

    Removed unneed sccsid string. (-Wall warning)

commit 2e8dd9c797b832a82ffb89cc082dd15abb81603a
Author: srittau <srittau>
Date:   Mon Feb 17 01:31:51 2003 +0000

    Include string.h.

commit 22ce5ab8206909a9972ee1b95cdd65c3ae403ae6
Author: didg <didg>
Date:   Sun Feb 16 12:35:04 2003 +0000

    desktop.c:
    more if ((A = B) == C) to (C == (A = B))
    
    directory.c:
    deletecurdir() move cnid_delete inside opendir() closedir()
    
    fork.c:
    getmetada() use struct path in parameter
    
    afp_openfork() we need to keep track if we (re)open the ressource fork.
    it was a problem if:
    - there's no ressource fork
    - the data fork is open read write
    - the ressource fork is open read write
    - the data fork is closed.
    With a Mac it was an issue with noadouble and no .AppleDouble folder,
    otherwise the ressource fork is always created before opening the data fork.
    (if it can't, because permission on .AppleDouble, then the RF can't be open
    read write).
    
    enumerate.c:
    more if ((A = B) == C) to (C == (A = B))
    adddir() free allocated memory
    
    file.c:
    use the new getmetada() format
    
    copyfile() use ad_open, with the new ADFLAGS_NOHF attrib., rather than
    open syscall.
    
    deletefile() move cnid_delete inside open() close()
    
    afp_creatfile() if there's an error in ressource fork creation then delete
    the data fork if any. It's the reason for ADFLAGS_NOHF, we need to be sure
    that the data fork was created by us, ie we have a file descriptor for it.
    
    filedir.c:
    remove cnid_delete(), now in deletefile()
    
    adouble.h:
    add a new attrib. ADFLAGS_NOHF mean don't return an error if there's
    no ressource fork.
    Helper for using ad_open in copyfile() and in afp_createfile()
    
    cnid.h:
    add CNID_ERR_CLOSE error, not used for now.
    
    ad_lock.c:
    ad_fcntl_lock() a previous fix a typo =/==, and now we have a
    reference used after freed in realloc.
    
    hf2off() df2off() change int to off_t
    
    ad_open.c:
    ad_open() ADFLAGS_NOHF attrib

commit e89e97de6eaa1300478a5f13eff1b0b1087bb299
Author: jmarcus <jmarcus>
Date:   Sun Feb 16 02:13:05 2003 +0000

    Make sure the BDB bin directory is properly set.
    
    Submitted by:   Olaf Hering <olh@suse.de>

commit 15d1ea25e78749bfa7d050b3f867f2b3c061aa22
Author: srittau <srittau>
Date:   Fri Feb 14 16:56:10 2003 +0000

    Updated NEWS file in HEAD from latest version from 1.6 branch.

commit 5b0f79a497fee7b91903b2993b04e14625041a45
Author: didg <didg>
Date:   Tue Feb 11 16:41:56 2003 +0000

    add AFP3.x login, patch from Burkhard Schmidt

commit 6a84eac255bb77fde3d25eca6b1cb8b9a8ac8880
Author: jmarcus <jmarcus>
Date:   Sun Feb 9 20:34:38 2003 +0000

    Try to use the fully-qualified domain name when registering with SLP.
    
    Submitted by:   Alexander Barton <alex@barton.de>

commit 55ff66657f3b5fcd4e7c0f112af315018747990b
Author: didg <didg>
Date:   Sun Feb 9 15:36:13 2003 +0000

    bugfix: make it compile on system without pread/pread, fix from Alexander Barton

commit 9f6378d973c0c1a909c4b13b7cd695e6fdeff9c2
Author: srittau <srittau>
Date:   Sat Feb 8 11:49:42 2003 +0000

    *Don't* use --copy in autogen.sh. Symlinks are the way to go, since this
    assures that ensures that always the latest version of these files are used.
    (Also all other projects I know do it that way, too.)

commit 3b85f5edb6abaddb869000e0350378c8f7270538
Author: didg <didg>
Date:   Fri Feb 7 15:00:55 2003 +0000

    bugfix: ifdef a transaction related call wen CDB is defined.

commit 2103288ef94a65dd4cdbc55c865d0db82d46350e
Author: didg <didg>
Date:   Tue Feb 4 18:26:20 2003 +0000

    bugfix: close the right fork in renamefile, copy and paste error...

commit 170ad4c6089a181725fa1ad26f9b8daeab1889ab
Author: didg <didg>
Date:   Sat Feb 1 19:34:55 2003 +0000

    bugfix: renamefile() various bugs with concurrent access, open file, and
    permission, fewer case where the job is half done, eg return an error but the
    data fork is moved or the ressource fork is lost.
    
    code cleaning: deletefile() ad_open, ad_lock already deal with read only file

commit 2b428ebd03fb81457201be769da99d51e5707a8f
Author: didg <didg>
Date:   Fri Jan 31 17:47:06 2003 +0000

    bugfix: deletecurdir() with concurrent access, dir->d_child != NULL doesn't mean the dir is not empty.

commit b923c53be681e93250f5ecc201b2992ccd97cef4
Author: didg <didg>
Date:   Fri Jan 31 17:38:00 2003 +0000

    a little cleaning

commit ef2d1b203a2c13d899c7b1322a9edf79b82a3063
Author: didg <didg>
Date:   Fri Jan 31 11:26:35 2003 +0000

    for file open in exclusive mode (read/write, deny read, deny write) lock the
    whole file in afp_openfork.

commit 7dd2914f71008e321a8e972a43de62e064202d8c
Author: didg <didg>
Date:   Thu Jan 30 17:32:45 2003 +0000

    code cleaning: if we can't get a write lock on a file open read only is a fcntl issue, move the logic from file.c to ad_lock.c.

commit 0b3e659d0a0c96a4b4efedfbe8de3729ee0358db
Author: jmarcus <jmarcus>
Date:   Wed Jan 29 20:31:45 2003 +0000

    Remove DB_AUTO_COMMIT from the DB->open flags.  This is not applicable with
    CDB.
    
    Reported by:    didier <dgautheron@magic.fr>

commit 8c15fa798c0f68f0d5bbe416848569474df4570d
Author: srittau <srittau>
Date:   Wed Jan 29 00:16:22 2003 +0000

    Use three-argument AC_DEFINE and AC_DEFINE_UNQUOTED to fix a deprecation
    warning.

commit 8214cea0fa9946be0d9d1dff1fcfaaf1d5bd0035
Author: jmarcus <jmarcus>
Date:   Tue Jan 28 21:37:13 2003 +0000

    Remove references to cnid_dump.  I think these accidentally crept in in
    Didier's last commit.

commit 380f764f7152b05d0e7425745a6e31beafbe49c0
Author: srittau <srittau>
Date:   Tue Jan 28 15:30:56 2003 +0000

    #include "config.h" -> #include <config.h>

commit f8fe6b6a322f299b26b25ce8762056e248bced70
Author: srittau <srittau>
Date:   Tue Jan 28 15:19:55 2003 +0000

    #undef __USE_MISC before #defining it.

commit 58dc122bf1eb03a4f20a82230f818381aa1c77d6
Author: srittau <srittau>
Date:   Tue Jan 28 15:14:31 2003 +0000

    Removed unused files.

commit 047e5d82e471f35bd09202e0cf4a142982855058
Author: srittau <srittau>
Date:   Tue Jan 28 15:09:44 2003 +0000

    Removed an unused file.

commit 74bc53ae44f3f2657ab8ed6de5d1f74a02f339e0
Author: srittau <srittau>
Date:   Sun Jan 26 16:57:50 2003 +0000

    Fixed Netatalk's version number (pointed out by Olaf).

commit ebf795f8ef766e604dff5096f911007058ee8381
Author: srittau <srittau>
Date:   Sun Jan 26 16:54:46 2003 +0000

    Added a missing define. (Olaf)

commit f9ca290e9dc1144c0e7450b4c8e66033c121ffdc
Author: srittau <srittau>
Date:   Sun Jan 26 16:51:22 2003 +0000

    Revert last (erroneous) check-in.

commit 9f4c2563ebcacfb08deaa98986507d583bb86952
Author: srittau <srittau>
Date:   Sun Jan 26 16:40:44 2003 +0000

    Don't assume offsets, specify the struct member. (Olaf)

commit 53c8f383f9c56d445ff1741bd1a78045b5fb4f44
Author: didg <didg>
Date:   Sun Jan 26 10:42:40 2003 +0000

    bugfix file.c directory.c: open directory descriptor leak, buffer overflow if
    path > MAX_PATH.
    fork.c rename a function, keep afp_xxx only for AFP calls.

commit 7839059258a8ae6a9d0c7d1bdcf136e9ff3cd19c
Author: didg <didg>
Date:   Fri Jan 24 12:42:31 2003 +0000

    bugfix: afp_exchangefiles. need to stat() files again for cnid update when it's a copy (ie not on the same device).

commit dae33a574ac2963d8bd279eaf96e08b5b48afc03
Author: didg <didg>
Date:   Fri Jan 24 07:08:42 2003 +0000

    bugfix: dirlookup() return dirsearch error if any (AFPERR_PARAM).
    cname():
    we always need to call movecwd, even if we extended the cache eg:
    cname dir1\0dir2\0\0 have to chdir to dir1. It wasn't the case if dir2 was not
    in the cache.
    
    do the right stuff when the user don't have right access to a directory. Some
    calls are unfixable (afp_xxxcomment) or will always fail (afp_delete) but it'd
    be ok.

commit c13e74e09d0cbaf4dca17185fd35efefcda7b32f
Author: didg <didg>
Date:   Fri Jan 24 06:58:23 2003 +0000

    improvement: add a SUIDDIR (aka BSD like) for admin user, files create by an admin
    (euid root) are now owned by their parent directory owner. TODO configure option?,
    security?

commit e110516cea5b31478f94f0f8915dec2d72793277
Author: srittau <srittau>
Date:   Tue Jan 21 16:31:38 2003 +0000

    Patch by Olaf: first argument of memset is a pointer.

commit 20c48cd23ec87e71971820a9c3556dca643a3f0e
Author: srittau <srittau>
Date:   Tue Jan 21 16:25:57 2003 +0000

    Patch by Olaf: Fix sysvdir for SuSE.

commit 079689abd34b80f49b8082de5ec0a5bb403a3ce4
Author: srittau <srittau>
Date:   Tue Jan 21 16:22:59 2003 +0000

    Patch by Olaf: enhance --enable-fhs.

commit 1f3aff2b240d81b4f31d2754e91f6f5cb069b851
Author: didg <didg>
Date:   Tue Jan 21 10:09:13 2003 +0000

    setfilparam: with AFP3.x PDINFO bit means UTF8 filename and can't be set in setfilparam.

commit 2b55a3aa77d3bcda5c36eee42c7fab6a412e106e
Author: didg <didg>
Date:   Tue Jan 21 09:58:58 2003 +0000

    more 'if ((A = B()) == C)' to 'if (C== (A = B())) changes

commit aaa26333b5f824077cc293e301b204f612a27235
Author: didg <didg>
Date:   Tue Jan 21 07:55:07 2003 +0000

    fix to a a fix: for duplicates ID in the cache.

commit c21a9da47a23ed4ab614fb25d29a8b511dd68506
Author: didg <didg>
Date:   Sun Jan 19 00:04:37 2003 +0000

    bugfix: adddir() if an ID already exist, remove it from its old location in the
    folders cache.

commit 13fc4f48c0766eb62357036b60d162e30b5a08b2
Author: jmarcus <jmarcus>
Date:   Fri Jan 17 03:16:28 2003 +0000

    Merge the relevant bits from README.cnid into README.ids, then remove
    README.cnid.
    
    Suggested by:   Simon Bazley <simon@eyeeye.com>

commit c913e9dae15d10674a55673b2fe982bf11139084
Author: didg <didg>
Date:   Thu Jan 16 21:18:15 2003 +0000

    BUGFIX: deny mode, tmp lock, byte lock when length is -1, setforkparams,
    AFP3 large file support
    
    deny mode: make it works with more than 2 openers
    
    tmp lock: check conflicting locks with files open multiple times by the same
    process, was only check locks held by other afpd.
    
    byte lock: -1 means to the maximum size of a fork, was always error EOVERFLOW,
    because we don't start from offset 0 and we can't use the POSIX way ie length 0.
    
    setforparams: only conflicting locks if it's a truncate and it removes a locked
    range, was any lock return an error.
    
    AFP3: check for negative values with 32 bits calls, setforparams for size >2GBytes,
    read and write with offset > 2GBytes.

commit 60a8d986667706e525a746815917575f732db075
Author: didg <didg>
Date:   Thu Jan 16 20:06:33 2003 +0000

    /tmp/log

commit cea8087cb941f8d1b76ff32de14ba169a3dc8a6b
Author: jmarcus <jmarcus>
Date:   Wed Jan 15 06:24:28 2003 +0000

    Fix a2boot on 64-bit platforms.
    
    Submitted by:   Steven N. Hirsch <shirsch@adelphia.net>

commit d5fe0508bed28ef27f5d3c98315d84f96dd357c4
Author: didg <didg>
Date:   Sun Jan 12 14:39:57 2003 +0000

    stupid stuff, replace
    if ((a = b) == c)
    with
    if (c == (a = b))
    for '==' and '!=' operators. the form ((a = b) == c) is confusing for some, not
    smart enough, data-flow analyser.

commit f95bee25c76866918188b0c133ccc653331662d6
Author: jmarcus <jmarcus>
Date:   Sat Jan 11 17:31:43 2003 +0000

    * Add ChangeLog entries for recent contribution by Steve Hirsch
    * Add Steve's email to the CONTRIBUTORS list

commit 2a9cec13b85a550413ff6c6c6c8ee13fc8070bec
Author: jmarcus <jmarcus>
Date:   Sat Jan 11 17:26:05 2003 +0000

    * Add Apple II boot support for Appl IIe (with workstation card) and
      Apple IIgs using built-in LocalTalk [1]
    * Fix some ProDOS file attribute problems
    * Fix the RedHat RPM build for RH 7.3 and 8.0
    * Fix a few other build nits
    
    Submitted by:   Steven N. Hirsch <shirsch@adelphia.net>
    Obtained from:  Marsha Jackson [1]

commit 922523a54f01b6f360ddb39fda4f65db266fea8e
Author: didg <didg>
Date:   Fri Jan 10 05:29:01 2003 +0000

    bugfix: afp_openfork() case  ressource fork open read-only and then read-write without file in .AppleDouble.

commit d7c1ee14c81a3c6496e6285fd3e1aab275f224d4
Author: didg <didg>
Date:   Wed Jan 8 22:16:24 2003 +0000

    AFP 3.x add dhx pam uam, not tested!

commit aa6d367eb990d47117b688b7eca825e4c5f2bb8d
Author: didg <didg>
Date:   Wed Jan 8 15:01:32 2003 +0000

    - better error reporting, don't always return noobj.
    - remove unreachable code in cname.
    - revert previous patch for permission.
    - check pathname len in movecwd.

commit 2ae3c77b36071b30c5ecf65d924524225cd67ae6
Author: didg <didg>
Date:   Tue Jan 7 22:13:39 2003 +0000

    check input sindex >=1.

commit dae6525a714d8548a3385d1beed7e327a7e2cb6c
Author: didg <didg>
Date:   Tue Jan 7 22:06:42 2003 +0000

    remove a c++ //

commit eb03e19e050a1833d8056fdfff20015abe72728e
Author: rlewczuk <rlewczuk>
Date:   Tue Jan 7 17:08:26 2003 +0000

    Make FPCatSearch a bit more interactive - if there are not enough responses and
    server is still busy searching for more than 1s.

commit 6b3355565e81fcd76ad8548604e6041c78e6958b
Author: rlewczuk <rlewczuk>
Date:   Tue Jan 7 16:00:29 2003 +0000

    Moving files between different folders on the same volume - changelog

commit 447f9bc3a159d47df3128cc2831981e4ee665b48
Author: rlewczuk <rlewczuk>
Date:   Tue Jan 7 15:55:21 2003 +0000

    Moving things between two folders on the same volume but different group ownership bugfix.
    If destination directory has SGID, group ownership for is changed while renam()ing.
    This is very ugly hack, IMO should be implemented along with force gid/uid stuff.

commit c12033e103b30d1c5a28ddaddc59cc4a45d03e6e
Author: jmarcus <jmarcus>
Date:   Sun Jan 5 00:04:40 2003 +0000

    Whoops, 3.0.17 should read 3.1.17.

commit 9bdf5e1b377924b9aab572a3017a5b2e4501b8d8
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 22:17:44 2003 +0000

    Add a note about README.cnid.

commit 1d5a637b14da831d1816029f671b9052917ad9bc
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 22:16:48 2003 +0000

    There is no root INSTALL file.  Also, we are now in Netatalk 1.6.

commit 150e5495c2983e7835e20ab6fe18953ae497f249
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 22:15:48 2003 +0000

    * Add Dan Wilga as a contributor
    * Update the version info to include 1.6
    * Change my package maintainer email address to my FreeBSD.org address

commit b5e1b86dbb6a88b186c43b0589a41bf4e59ecf9f
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 22:14:03 2003 +0000

    Add a README.cnid which talks about what CNID is, and what it means to
    Netatalk.  It also includes Adrian's old developer notes for a rough
    understanding of the whole process.

commit e1f8bdafac5e1e1e3b025cca1a4bce741817eb22
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 21:53:39 2003 +0000

    * Remove some more references to DB3, and mention exactly which versions of BDB
      we support as well as what is the current recommended version.
    * Clean up the PAM documentation some to make it less Linux specific.

commit abffa9c62b61267e02a9bd7401d09ae7045a0177
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 21:41:48 2003 +0000

    Change all references to db3/DB3 to BDB.  We now support Berkeley DB
    3.0.17, 3.2.9, 3.3.11, 4.0.14, and 4.1.25.  This means that --with-db3 is
    now --with-bdb.

commit 39262cea88f0cabf780d833530020f08e78faed9
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 20:52:15 2003 +0000

    Add a missing '|' operator.

commit 066091c3a02e0eaaa96224e65cd62dc63dbe18e5
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 20:51:11 2003 +0000

    Fix a comment.  We support BDB 3.x and 4.x.

commit c5f89b7e89704b4dc9bfc73c0091a0048340f718
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 20:49:33 2003 +0000

    Clean up the code with astyle.

commit f65bd1ebb70cf83aee624b8a00c13b3b76547fa3
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 19:36:15 2003 +0000

    It's a new year, so let's revive the ChangeLog.  Mention that we now have
    DB 4.1.x support.

commit a8e7cb3ebd2905755500b29f1fd324ad827eb3d7
Author: jmarcus <jmarcus>
Date:   Sat Jan 4 19:33:20 2003 +0000

    Add DB 4.1.x support.  This is a first round.  Please test this if you are
    using DB 4.1.x, and let me know if you have any problems.

commit 6d2a82de6e77d0234350561190dff5a46debcf76
Author: srittau <srittau>
Date:   Wed Jan 1 13:19:24 2003 +0000

    No need to log the strerror() when the return value was "success".

commit 0783fecf0e26a9827fc0a864a59b3a3788675b15
Author: didg <didg>
Date:   Mon Dec 23 00:21:35 2002 +0000

    afp_enumerate() decremente offspring count if a file is not in the reply packet. Help when
    deleting folder with dangling symlinks.

commit 4ce67ed1aa3b1b5d9c06d575f1a61cbafc28b13c
Author: jmarcus <jmarcus>
Date:   Wed Dec 18 00:17:03 2002 +0000

    Remove a log message that may cause afpd to slow down tremendously.

commit 32ccba17917876e58d46afe3c704e0224d6610fe
Author: didg <didg>
Date:   Sat Dec 14 04:01:01 2002 +0000

    possible partiel fix for endless loop (broken pipe)  and endless refresh.

commit 39c62c606989c54cfbd1cfe6ec1993eb2c27ed61
Author: rlewczuk <rlewczuk>
Date:   Sat Dec 7 02:55:00 2002 +0000

    Fixes to -signature option (it was ported from 1.5.5 and I've forgotten
    some 1.6 specific things).

commit 77168f597be39a1aac5b792580751279c133796b
Author: rlewczuk <rlewczuk>
Date:   Sat Dec 7 02:39:57 2002 +0000

    Configure option allowing to set a server signature manually. Useful when
    running multiple instances of afpd on one machine (eg. HA clusters).

commit 7de6d09357eb9c5c7e2f740db4d3ac0776d0dd30
Author: srittau <srittau>
Date:   Thu Dec 5 11:16:33 2002 +0000

    Fix white space indentions of help strings.

commit e8317c24e7970b5a3b22974efcd85758752fe04c
Author: srittau <srittau>
Date:   Wed Dec 4 18:33:39 2002 +0000

    Enable file name mangling by default if did scheme == cnid.

commit 2a12a01d9aefb04e01916f5b1bac41578a6114c5
Author: didg <didg>
Date:   Wed Dec 4 10:59:36 2002 +0000

    - call SIGHUP signal handler only once for worker process
    - check attention, tickle return value and die if the connection is closed

commit 0620a1048408564737b1f2c4665ad846b01fe1f9
Author: srittau <srittau>
Date:   Sun Dec 1 01:33:39 2002 +0000

    Remove unnecessary -I$(top_srcdir)/include from CFLAGS.

commit 96e376dc9d08519d08364d46b97df5290c6d4832
Author: srittau <srittau>
Date:   Sun Dec 1 01:31:29 2002 +0000

    Install stuff into libexecdir, instead of sbindir.

commit 74d66c52bcd69e8753667a4bbecd6e19d79c5294
Author: srittau <srittau>
Date:   Sun Dec 1 00:44:12 2002 +0000

    Modified makecode to only generate one codepage at a time. The codepage to be
    generated must be specified on the command line.
    
    Adapted Makefile.am accordingly.
    
    This ensures that all codepages are listed in Makefile.am, and it is IMO
    a cleaner solution.

commit 6d9627e8069dc1392a8f7d9e78324afe3a60ffca
Author: srittau <srittau>
Date:   Sun Dec 1 00:28:18 2002 +0000

    Added maccode.koi8-r to the generated files.

commit 1732a067e3d0cbf8e640d06e4426042610d0e268
Author: didg <didg>
Date:   Sat Nov 30 10:25:35 2002 +0000

    type is four bytes, and add Flash source .fla

commit b4f06413ef810ea7a1f9182bfefd4f5aaad62e5d
Author: didg <didg>
Date:   Tue Nov 26 18:48:23 2002 +0000

    file descriptor leak if the header is bad. Increment ad_hf.adf_refcount _before_
    ad_close not after.

commit 9e0f9c48ec63b004204078d7cc7aa00e8e099db0
Author: didg <didg>
Date:   Tue Nov 26 08:22:37 2002 +0000

    fix ::

commit b679292cdef0c20c9b14ebb3e262c442f7cc5ace
Author: didg <didg>
Date:   Mon Nov 25 09:42:13 2002 +0000

    AFP 3.x pad for cleartext login, getsession token len is 4 bytes in specs seems
    to be 2 in capture.

commit 3e5402f0f7fdc981b1e5b74f9b30ac6d77e4408d
Author: jmarcus <jmarcus>
Date:   Mon Nov 25 01:33:02 2002 +0000

    Check STDOUT to see if it's a terminal rather than STDIN.
    
    Submitted by:   Tom Kacvinsky

commit 7de657b93a7dfa5d80b7f811266181430c807615
Author: srittau <srittau>
Date:   Fri Nov 15 17:19:08 2002 +0000

    1.6cvs -> 1.7cvs

commit 3265cc2a0d2e99eef895f505246388d295fbf553
Author: srittau <srittau>
Date:   Fri Nov 15 10:59:11 2002 +0000

    Removed the --with-catsearch configure option. (FPCatSearch is now always
    enabled.)

commit 4e6614d855d12c20eb8715f149fbbb0a52f4cc79
Author: srittau <srittau>
Date:   Thu Nov 14 18:06:29 2002 +0000

    Use a makefile variable instead of a shell variable.

commit 1343518c53c84dd1ece542e4bc857581e42bbbbd
Author: srittau <srittau>
Date:   Thu Nov 14 17:21:23 2002 +0000

    Remove support for flock locks.

commit 491fb125418ea0f762e07145c5c4e1a5cbf414b7
Author: srittau <srittau>
Date:   Thu Nov 14 17:18:32 2002 +0000

    Removed support for flock locks.

commit 6749df4c02d3d97fcf7078110c329e389d924863
Author: srittau <srittau>
Date:   Thu Nov 14 17:15:22 2002 +0000

    Remove flock lock support.

commit e9ca03c158b561d32088bcff0a16c424d3d57f3f
Author: srittau <srittau>
Date:   Thu Nov 14 17:13:45 2002 +0000

    Remove an #error if flock locks are enabled.

commit 3c309d1273c9060cb71e374f6004ec212247d347
Author: srittau <srittau>
Date:   Thu Nov 14 17:11:54 2002 +0000

    Fix some errno assignments (== vs. =).

commit cff1e63a3273f41719cfde515088bed016496995
Author: srittau <srittau>
Date:   Thu Nov 14 17:09:38 2002 +0000

    Warning fixes.

commit a9ee449da60ee3d8e3af1fe3a22da48c0160fee6
Author: sibaz <sibaz>
Date:   Fri Nov 8 16:58:32 2002 +0000

    commented out labels within the static definition of several variables so Tru64 is happy

commit 59c5549240b6b5d6fc378c1c2c6f6d80d1ab0911
Author: pooba53 <pooba53>
Date:   Tue Nov 5 18:47:43 2002 +0000

    Fix the problem where two directories with the same name differing
    only in case confuses the Mac Finder.

commit c93a18f4f344dea64a0aa197c2c6a4e8f4d81d98
Author: didg <didg>
Date:   Tue Oct 29 00:28:45 2002 +0000

    bugfix AFP 3.1

commit 182d0e6b439f2159575a48b65870432246d24cbf
Author: didg <didg>
Date:   Tue Oct 29 00:27:42 2002 +0000

    renamedir() return success after rename() even if we can't open .Parent.

commit c913dc47af36ed3f119ed80c026737d7e47d9d4d
Author: didg <didg>
Date:   Sat Oct 26 16:39:42 2002 +0000

    bugfix: set defextmap *after* realloc and sort.

commit c0babec81dd1f72953a91b9757a5753937634c75
Author: didg <didg>
Date:   Fri Oct 25 11:26:49 2002 +0000

    previous change to filedir.c was C99 only.

commit 40362445845b8c9bc419b9e482a57f707e499072
Author: didg <didg>
Date:   Fri Oct 25 11:10:46 2002 +0000

    long name an utf8 name in the same query (copy the same name for now). More
    offspring book keeping.

commit 29e6612b8ac5eeadae9508d73026fc40f567fa4f
Author: jmarcus <jmarcus>
Date:   Sun Oct 20 18:28:47 2002 +0000

    Add some more ignorable items.

commit 589e1ca0031520b47d54452706119b52950a3fba
Author: jmarcus <jmarcus>
Date:   Sun Oct 20 16:42:09 2002 +0000

    Add my recent changes.

commit 4b79470636cca71a9e77a4084a52565420982aa9
Author: srittau <srittau>
Date:   Sun Oct 20 13:43:00 2002 +0000

    COPYRIGHT.mtab was removed.

commit d3e183aa89c7a62f552c39f1a9d6ab03adb79eff
Author: srittau <srittau>
Date:   Sun Oct 20 13:27:47 2002 +0000

    Don't distribute non-existing file CHANGES.

commit 16c71250cf94fb7b4369df930b701a3c236311b0
Author: didg <didg>
Date:   Thu Oct 17 18:01:54 2002 +0000

    AFP 3 fixes ofr cleartxt login and 31 char filename size limit

commit 3b91ad6c291326f4d9ddc3ed15d65e49cbfd5571
Author: jmarcus <jmarcus>
Date:   Wed Oct 16 16:55:55 2002 +0000

    Make CDB the default CNID data store.  This is being done in the hopes that
    CDB will be more thoroughly tested.

commit bcabccbc55541dc10906f14ac90c5a0ebc3d0368
Author: jmarcus <jmarcus>
Date:   Wed Oct 16 16:19:34 2002 +0000

    Add support for variable substitution in dbpath.
    
    Tested by:      Ryan Suarez <ryan.suarez@sheridanc.on.ca>

commit 79545d7ce60d35157304e984bfb1d41ce3eea6d8
Author: didg <didg>
Date:   Wed Oct 16 02:20:41 2002 +0000

    AFP 3.0 changes

commit b29db956f345cab6331556dde97811257365123a
Author: didg <didg>
Date:   Tue Oct 15 19:34:34 2002 +0000

    more AFP 3.0 changes

commit 2c6c05a84c3415c639e3cde862e5ba308c1267f2
Author: didg <didg>
Date:   Mon Oct 14 06:30:49 2002 +0000

    bugfix cname() don't invalidate directory if it's the root parent (did == 1).
    Some client makes bogus request eg:
    FPGetfileDirParam(did = 1, name = Disk 1). I believe with did == 1 only the
    volume name is valid.

commit 749e9df101689d9474740fa29f58eb8972e7e232
Author: didg <didg>
Date:   Sun Oct 13 21:30:55 2002 +0000

    AFP3 change

commit 23b72ba24415f4368c8ccbf22fabe5b2db646dc8
Author: didg <didg>
Date:   Sun Oct 13 16:12:31 2002 +0000

    AFP 3.0 changes

commit 7bafdcacab2aa5c482f41d6def1348b4fe5aba8d
Author: didg <didg>
Date:   Sun Oct 13 06:18:13 2002 +0000

    more AFP 3.x stuff

commit b76182add1fa2ba5c69a852f086f34cdc55793d7
Author: didg <didg>
Date:   Sat Oct 12 18:20:48 2002 +0000

    fix to a fix, hopefully the last one

commit bad38e97331d998bd6fabb72f35bc454a51013be
Author: didg <didg>
Date:   Sat Oct 12 17:27:18 2002 +0000

    fixed to AFP3.0 change, initialize rbuflen in mapid

commit 1cb03258cd136fcf1fba6cf45fe5ce26303588fb
Author: didg <didg>
Date:   Sat Oct 12 16:42:31 2002 +0000

    AFP 3.x changes

commit 53dce15355e4454e96e34eabfb47b4f810ce873e
Author: didg <didg>
Date:   Sat Oct 12 13:46:09 2002 +0000

    moved afp_login_ext from 67 to 63

commit 050320bb93e255f9b5770074d51e4d5900b1f8d0
Author: didg <didg>
Date:   Sat Oct 12 04:02:46 2002 +0000

    more stuffs for AFP 3.x

commit 4222328ad12da2897dafe410c10d7abd714512bc
Author: sibaz <sibaz>
Date:   Fri Oct 11 19:56:33 2002 +0000

    altereed code to keep open logfiles, and flush then instead of closing after each log.  Also logfile will try to open files as root

commit ca0682656a073370a121bf9c3aa95d132c03f85a
Author: didg <didg>
Date:   Fri Oct 11 17:07:19 2002 +0000

    fix version string for AFP 3.0

commit 6b814c857d98259bd82737ce8746c6c1d94e9cd5
Author: didg <didg>
Date:   Fri Oct 11 14:18:21 2002 +0000

    - added a cache for directories offspring count.
    
    - added unix name in struct dir.
    
    - added pread/pwrite, (there was at least one bug in adf_off book keeping).
    
    - removed (temporary?) memory mmap header, it was unused and made the code
      unreadable.
    
    - used a new struct path with unix name, mac name and file stat.
    
    - fixed for catsearch (not well tested)
    
    - temporary ATACC and NO_UAM_LOAD, I will remove them (ATACC is a test coverage tool).
    
    - added AFP 3.1 calls readext,writeext, bytelockext, enumerateext2
      (catsearchext, enumerateext are the same) . --afp3 parameter in
      configure. configure.in changes aren't good. Maybe get CVS samba stuff
      (eg for linux there's no sendfile64 on 32 bits box). The biggest change
      is that we can't use the ressource fork len in the header (it's too
      small). Not well tested.
    
    - fixed few signed/unsigned missmatch, mainly when a signed fetched from the wire is checked
      against and unsigned buffer size.

commit ed29ba4834e5ca1ccc62c384e01134326a5d559b
Author: jmarcus <jmarcus>
Date:   Thu Oct 10 20:27:36 2002 +0000

    Fill in the volume creation time with the datestamp instead of the
    current timestamp.  This fixes most of the identical volume problems
    seen by some users.
    
    Tested by:      Thomas Kaiser <Thomas.Kaiser@kaiser-edv.de>

commit 34733f08078b2928ac763cc34ac2dd23b789d963
Author: didg <didg>
Date:   Wed Oct 9 18:46:31 2002 +0000

    more AFP 3.x define

commit ccea913a9337767b1bf0c01f5d7d75ccfe49231b
Author: srittau <srittau>
Date:   Tue Oct 8 22:15:40 2002 +0000

    Removed mtab-related file.

commit 07d7615dc9bcc6d668ea1a7545359f35bb5b0f6b
Author: srittau <srittau>
Date:   Tue Oct 8 00:03:47 2002 +0000

    Reenabled automake 1.4 bug workaround.

commit b70783c4f0f6dfbd47907182dac8591eecf2b808
Author: didg <didg>
Date:   Mon Oct 7 19:14:41 2002 +0000

    fixed a typo

commit 3383c1db5689eea8e472928cb2106d16a655765d
Author: jmarcus <jmarcus>
Date:   Sat Oct 5 20:13:31 2002 +0000

    Remove a debugging message.

commit 2cd6217f54c7c93b4aee83d744755bf009680202
Author: didg <didg>
Date:   Sat Oct 5 14:04:47 2002 +0000

    with cnid the default replace dirsearch with dirlookup. dirsearch doesn't work
    if the folder is not already in the cache.

commit 8593712e47eda38ec3f6f8e56e3ad1d2c5a233d6
Author: didg <didg>
Date:   Sat Oct 5 13:20:13 2002 +0000

    atalkd/main.c server_child.c if not defined add few macros
    atalkd/main.c initialize before use
    ad_mmap.c ifdef never used code

commit 3f0e8a87bfe9b85c27045fac7e0e994f24fb2583
Author: didg <didg>
Date:   Sat Oct 5 13:07:17 2002 +0000

    afp.h,afp_util.c added defines for AFP 3.0 3.1
    path.h: preprocessor macro working with gcc 3.2

commit c38be36885c8eb44a946a20eea498446b7dd46f2
Author: jmarcus <jmarcus>
Date:   Sat Oct 5 06:22:26 2002 +0000

    CNID supports Berkeley DB 3 as well as 4.  Just to be safe, remove any
    mention of a DB version.

commit a3ebec1959c8cc4d47c112d2e17da65771928f64
Author: srittau <srittau>
Date:   Fri Oct 4 23:51:22 2002 +0000

    mtoupath: Patch by Hans-Peter Jansen:
    
    When conversion of a character fails, the character is hex-encoded.
    
    Debug output.

commit fcf29df32ab9a232437a55eba8d9d9cbed19aaec
Author: srittau <srittau>
Date:   Fri Oct 4 23:42:40 2002 +0000

    Update of the SuSE rc file by Hans-Peter Jansen.

commit 37ca3e099488a708350550485ebc0ef9ae887db6
Author: srittau <srittau>
Date:   Fri Oct 4 23:38:44 2002 +0000

    Removed mentions of the mtab and hash schemes.

commit c00a380b868b365d468368d50852437ae68cc6a9
Author: srittau <srittau>
Date:   Fri Oct 4 15:18:08 2002 +0000

    Removed a work-around for broken automake versions; newer version seem to
    work fine without it.

commit 9a838f8cba643dc08a958174298d593fd1929caa
Author: srittau <srittau>
Date:   Fri Oct 4 15:15:05 2002 +0000

    Removed MTAB support.

commit 25205981568d45eacd4f272302407a0b31a494d2
Author: srittau <srittau>
Date:   Fri Oct 4 15:13:21 2002 +0000

    Removed mtab support.

commit 114f5b5f19f1ba9c05bacb06aea4e79f73947ef7
Author: srittau <srittau>
Date:   Fri Oct 4 15:11:57 2002 +0000

    Removed DID schemes hash and mtab. Made CNID the default.

commit 2856a60b7fc89a70116bf66e5e79a807aea6a5a0
Author: sibaz <sibaz>
Date:   Tue Oct 1 16:58:50 2002 +0000

    added a simplistic explanation of IDs

commit 0160da78c5aafee0978c331853c9f5c41f485719
Author: sibaz <sibaz>
Date:   Sun Sep 29 23:31:24 2002 +0000

    changed all LOG messages using logtype_default to use logtype_afpd

commit 28993a73299e81aeb16e7b89783bbbf32e8ac92a
Author: sibaz <sibaz>
Date:   Sun Sep 29 23:30:20 2002 +0000

    changed all LOG messages using logtype_default to use logtype_uams

commit a4dd261e90b2e3a6dae1ce17ff344b2315f4e098
Author: sibaz <sibaz>
Date:   Sun Sep 29 23:29:13 2002 +0000

    changed all LOG messages using logtype_default to use logtype_papd

commit 3b71506b3d3d45200fbbffe7cae87a25ef8d085b
Author: sibaz <sibaz>
Date:   Sun Sep 29 23:24:47 2002 +0000

    changed all LOG messages using logtype_default to use logtype_atalkd

commit 6ab9ea95365e32ad4fd739e90ae075ef3e00d456
Author: sibaz <sibaz>
Date:   Sun Sep 29 23:18:45 2002 +0000

    added atalkd, papd and uams logtypes

commit 5e1b0acfe6d8fde4dde9875bb451150737353c71
Author: didg <didg>
Date:   Sun Sep 29 18:44:16 2002 +0000

    move struct extmap from a linked list to a sorted array.
    fix a time type. add pollvoltime function.

commit ba745775be598872ded1e507c381fa4d051c14d3
Author: didg <didg>
Date:   Sun Sep 29 17:39:59 2002 +0000

    code cleaning

commit faf348bbf85838c58a6eef657657b11a4dd6a770
Author: didg <didg>
Date:   Sun Sep 29 15:42:14 2002 +0000

    setfilmode() mode cleaning

commit 23feb2d6dfd5b55bb474f020fd652c8e03475dfb
Author: jmarcus <jmarcus>
Date:   Sat Sep 28 03:56:44 2002 +0000

    Another forced commit to see if email is working.

commit 5f243e742af970b2770560eab776098cc0af7448
Author: jmarcus <jmarcus>
Date:   Sat Sep 28 03:43:37 2002 +0000

    Forced commit to test the email feature.

commit 36f70c1dcfde52d32290ec3f979f6c7b205e0703
Author: didg <didg>
Date:   Fri Sep 27 11:34:22 2002 +0000

    bugfix: dirlookup() use the mac name not the unix name

commit fcd89e0be187b694648ab85a73e5123c1d0992dc
Author: didg <didg>
Date:   Fri Sep 27 08:10:40 2002 +0000

    fix to a fix: configure.in catsearch missing ,

commit a84ede3b2de502c9bff31b454f3409b1a94b0eab
Author: morgana <morgana>
Date:   Fri Sep 27 03:42:31 2002 +0000

    Another small change to test the syncmail process.

commit a4b063799a41f0b9ff89e3e47801423a349556f2
Author: morgana <morgana>
Date:   Fri Sep 27 03:34:57 2002 +0000

    Noted addition of syncmail to CVSROOT to log commits to mailing list.

commit 4ac18c4a1a1862863aea2e9b77428df50c22a48a
Author: didg <didg>
Date:   Thu Sep 26 00:02:47 2002 +0000

    bugfix: uam_load() exit if path is empty

commit 150ccf4f4356f91bc4e580fc1c5365188d5eee9c
Author: srittau <srittau>
Date:   Tue Sep 24 11:18:56 2002 +0000

    2002-09-24  Sebastian Rittau  <srittau@jroger.in-berlin.de>
    
            * NEWS: Catted CHANGES to the end of this file. Updated from the
            stable branch.
            * CHANGES: Removed.

commit 46f555f1b482593cc0e2d2dd5230644ed7f68d68
Author: didg <didg>
Date:   Tue Sep 17 00:27:24 2002 +0000

    bugfix: catsearch, ) wasn't at the right place.

commit f1cc1a66c3fda07949e23ee4e3fb7b6cb87214c9
Author: jmarcus <jmarcus>
Date:   Thu Sep 12 20:25:27 2002 +0000

    Whoops.  OpenBSD should use lsof.

commit 0d45f7073eb55529c7143a4ff1afe8f746e99644
Author: jmarcus <jmarcus>
Date:   Thu Sep 12 20:24:05 2002 +0000

    Add support for OpenBSD.
    
    Submitted by:   satadru@umich.edu

commit a3dcacdfd485b62234b171cd0e07edf27d802815
Author: srittau <srittau>
Date:   Thu Sep 12 17:33:03 2002 +0000

    Fixed a warning.

commit 0e97fd94e8d1db54bbb4cea3f820ff151820d885
Author: srittau <srittau>
Date:   Thu Sep 12 17:21:15 2002 +0000

    Made as_timer static and changed its arguments from "void" to "int". Fixes
    a warning.

commit 515d85cdac045300eca4eb278b384879d975097f
Author: didg <didg>
Date:   Wed Sep 11 03:03:27 2002 +0000

    afp_createfile initalize of pointer before use help :(

commit 4845e7713582a59720b1b246d546588030a9c81a
Author: didg <didg>
Date:   Mon Sep 9 01:21:59 2002 +0000

    call mangle() after hex conversion.

commit 92a25f09e656a6606e9a1473900da654f48663ba
Author: didg <didg>
Date:   Sat Sep 7 19:18:59 2002 +0000

    bugfix: --enable-dropkludge INSECURE is an understatement

commit 966e16617f40cc509ea071b620cf7f674f897181
Author: didg <didg>
Date:   Fri Sep 6 04:23:45 2002 +0000

    Oops, ad_path returns a static buffer

commit b379fad7481bf63c88619334a45e88611a4d08fa
Author: didg <didg>
Date:   Fri Sep 6 02:57:49 2002 +0000

    of_findname

commit 761f679631e6f65712e1a21d05070f184ac06bec
Author: didg <didg>
Date:   Thu Sep 5 14:52:05 2002 +0000

    of_findname: remove vol and dir

commit a1254e9b67206b7c1dcfe6676f3e4cf05dfe1962
Author: didg <didg>
Date:   Wed Sep 4 17:28:08 2002 +0000

    move of_findname key from filename to dev, inode.

commit 2b9bd2e2b36793b3cc4e4d44a732965a287e6ccd
Author: jmarcus <jmarcus>
Date:   Sat Aug 31 08:09:06 2002 +0000

    This file was accidentally left out of my umask commit.

commit d2171c99d4d87f972810346ee4f839745a6f8c63
Author: jmarcus <jmarcus>
Date:   Sat Aug 31 08:05:40 2002 +0000

    * Add support for verifying the mangle database if it exists
    * Establish a shared lock on the open AppleVolumes.default file
    * Clean up the code with perltidy

commit 18e5f608f5bb0de7f1ac323da31711b741b7ba2a
Author: jmarcus <jmarcus>
Date:   Sat Aug 31 05:35:09 2002 +0000

    Create a (for now) undocumented volume option, "umask" which gives us
    the ability to have CNID files and directories created with the umask of the
    logged in user.
    
    Currently this is only done for '~' shares, but the umask volume option
    could be specified for any share.  It could even be extended to things other
    than CNID.

commit 1af1e54270ea390cadca77685a21b8d11e770587
Author: didg <didg>
Date:   Fri Aug 30 19:35:16 2002 +0000

    cleaning: was missing in previous commit

commit f3c04e0d1c1cbf8754599578de07f7a5f1cf1083
Author: didg <didg>
Date:   Fri Aug 30 19:32:40 2002 +0000

    cleaning: FORCE_UIDGID is was 100% broken before, it's always broken but with
    fewer #ifdef

commit eaded529c49a21ced7b91d1daf2a575dca1f8ea7
Author: jmarcus <jmarcus>
Date:   Fri Aug 30 16:56:40 2002 +0000

    Add an snprintf() implementation for OSes such as Tru64 which do not
    already have one.
    
    Submitted by:   Burkhard Schmidt <bs@cpfs.mpg.de>
    Obtained from:  Patrick Powell <papowell@astart.com>

commit 6285f6cb3764aacfcc19940dd1eccb6a644e0284
Author: didg <didg>
Date:   Fri Aug 30 10:19:19 2002 +0000

    bugfix: missing headers

commit 7c563936748fcb1d7bd32d87d905175e0602d8ae
Author: jmarcus <jmarcus>
Date:   Fri Aug 30 03:12:45 2002 +0000

    Introduce Conncurrent Data Store (CDB) support to CNID.  This is phase 1.
    In this phase, CDB is a configure option, and is either enabled or disabled
    for all volumes at compile time.  By default, CDB is disabled in favor of
    transactional data store.
    
    CDB has some advantages.  It doesn't use transactions or logging, thus it's
    less likely to be corrupted if the server dies prematurely.  It also
    doesn't eat up disk space with transaction logs.  The disadvantage is that
    it's designed for environments with many readers and one writer.  This means
    that many afpd clients could block while waiting for a write lock on
    the database.  That's why testing is in order.
    
    In phase 2, CDB is be configurable on a per-volume basis.
    
    Phase 3 (if testing of phase 1 and 2 is good) will be to enable CDB as the
    default CNID data store scheme.
    
    To enable CDB, simply specify the configure argument --with-cdb when
    configuring with CNID DID support.
    
    Submitted by:   Dan Wilga <dwilga@mtholyoke.edu>

commit 85b1a6bd6e3d8cbc7eff992f763a1d57b3a0f459
Author: didg <didg>
Date:   Thu Aug 29 18:57:26 2002 +0000

    try to make afpd directory access right  works the way Macs expect

commit 6526648ae91e50a78ccf0c18d7a4bea96fe1ef19
Author: jmarcus <jmarcus>
Date:   Thu Aug 29 17:22:06 2002 +0000

    MFS: Fix NFS quotas on Tru64.

commit fa1a07bbabd0b81705becd6b16ddf66c801ea351
Author: didg <didg>
Date:   Thu Aug 29 14:53:31 2002 +0000

    bugfix: directory handling

commit b5d53d649f730b543eba3a76589b6bd7b735a1c9
Author: didg <didg>
Date:   Wed Aug 28 15:08:16 2002 +0000

    bugfix: renamefile's first parameter is the unix name not the mac one. from
    matsu@nakamoto-sogo.co.jp

commit 5009afc93287e9fbeb4451b1e8414973d4840098
Author: didg <didg>
Date:   Mon Aug 26 08:57:50 2002 +0000

    bugfix: move to the fork's dir before stat().

commit 11b8b3d525057e42b456c148c0b53e1a36006bac
Author: rlewczuk <rlewczuk>
Date:   Sun Aug 25 13:32:09 2002 +0000

    More copyright stuff :))

commit 232d9560a0841237dc4efceb1e203a162c2ed693
Author: rlewczuk <rlewczuk>
Date:   Sun Aug 25 13:31:16 2002 +0000

    Get rid of this my silly copyright message :)

commit 6d6cc03cccb879f6ed274f590a9ffb52b1d6097f
Author: rlewczuk <rlewczuk>
Date:   Sun Aug 25 13:26:19 2002 +0000

    Rudimentary FPCatSearch implementation.
    Still has bugs and some things (like offspring count filter) aren't implemented.
    Activate with --with-catsearch while invoking ./configure.

commit 2883fa1edef9948c17505c5c84c4fcaf0802e212
Author: jmarcus <jmarcus>
Date:   Sun Aug 25 03:22:45 2002 +0000

    Rename SCRIPTS to PERLSCRIPT to silence automake.
    
    Submitted by:   Lance Levsen <l.levsen@pwgroup.ca>
    Thanks from:    many

commit af6dbf40686280a036f1c5100a4ca30fcc1ccc47
Author: jmarcus <jmarcus>
Date:   Sun Aug 25 03:21:40 2002 +0000

    * Refer to the correct platforms file.
    * Don't mention autogen.sh under the quick start section.
    
    Requested by:   Bob Rogers <rogers-netatalk-devel@rgrjr.dyndns.org>
    Submitted by:   Lance Levsen <l.levsen@pwgroup.ca>

commit cedfb2c678ec4b1c8232b12b94d6b38c3cb55e58
Author: jmarcus <jmarcus>
Date:   Sun Aug 25 03:19:52 2002 +0000

    Fix Bob Roger's email address.
    
    Requested by:   Bob Rogers <rogers-netatalk-devel@rgrjr.dyndns.org>
    Submitted by:   Lance Levsen <l.levsen@pwgroup.ca>

commit 887089f41ffd26cedecbd0c18d01de872f350b48
Author: sibaz <sibaz>
Date:   Sat Aug 24 05:00:06 2002 +0000

    reorganised the log messages, fixed the typo conscerning unsetuplog in afp_options, and added an example to the afpd.conf.tmpl file (and removed the warning)

commit e7af0b9ab4e04a257c8ab29cd3facefd50c8bd00
Author: sibaz <sibaz>
Date:   Sat Aug 24 03:47:37 2002 +0000

    doh, the code was looking up the loglevel against a table, then using the position in that table as the value, the enum was ten times that.  That was all that was causing problems.  I've altered the loglevels table to reflect this, by making the more debug levels go debug, debug6, debug7, debug8, debug9, maxdebug, all of which correspond to their enum values except divided by ten

commit ab0c6db880d1cc8b2595635885047be4a92b0c47
Author: sibaz <sibaz>
Date:   Sat Aug 24 02:35:26 2002 +0000

    added list of avaliable logtypes and loglevels to afpd.conf

commit 460dd9ba4279f8b3776e11ef8bf2936ec739a813
Author: sibaz <sibaz>
Date:   Sat Aug 24 02:12:43 2002 +0000

    renamed the -setuplogtype optione to -[un]setuplog, where unsetting a log simply sets its loglevel to severe.  Added usage notes in afpd.conf.tmpl, and allowed for the fact that not all parameters are neccesarily defined (specifying unsetuplog will drop the loglevel parameter)

commit eb63b2731991ca6a5b6c17b323ea810eb4829d4c
Author: sibaz <sibaz>
Date:   Sat Aug 24 02:04:53 2002 +0000

    fixed a re-occuring bug (must have fixed it in the wrong file before)

commit abb262045273069cb0ab80406a5656572097de98
Author: sibaz <sibaz>
Date:   Sat Aug 24 01:33:15 2002 +0000

    altered code so if things stop prematurely you get told why

commit a49a3701ac204645bccf00558faa7a267df277b7
Author: sibaz <sibaz>
Date:   Sat Aug 24 01:32:19 2002 +0000

    altered the format that setuplog works so one less parameter is needed.  This untested, but I'm pretty sure it'll work as intended.  Use at -setuplog option at your own risk

commit afd73e96d3b54aa0ae16c17a5bbe820e99e7d70d
Author: sibaz <sibaz>
Date:   Fri Aug 23 17:42:52 2002 +0000

    added quotes around the logfilepath value if an alternative is given, this didnt work without them

commit 0820700a1b1a88db7510eb7149bc5b6a28b105b1
Author: didg <didg>
Date:   Thu Aug 22 13:41:19 2002 +0000

    full AFP spec for directories/files modification date.

commit a50fe066cec73346bfaa6baf75d5a33a90ed1bbf
Author: jmarcus <jmarcus>
Date:   Thu Aug 22 13:19:58 2002 +0000

    Revert previous commit for the time being.  The author probably _wanted_
    to correlate the PID on the logfile to a running afpd process.

commit d45753940e6da2c4e58cdac13e04a05b3326577a
Author: jmarcus <jmarcus>
Date:   Thu Aug 22 06:59:07 2002 +0000

    Replace snprintf() with a call to strncpy, and use tempnam() to generate
    the name of the debugging file.

commit 12da1700a27f5808c3bc060871fa16cf8b1310dd
Author: didg <didg>
Date:   Wed Aug 21 07:52:03 2002 +0000

    volume.c file.h file.c
    bugfix: try to get file's type/creator right when renaming a file with default
    finder info.

commit 807d3a5eb275c2ff8df8510909a3148dedb9d397
Author: didg <didg>
Date:   Wed Aug 21 05:21:38 2002 +0000

    for now flock is broken...

commit ad790f77b107a983ad207b3c598ded13d7e5e514
Author: srittau <srittau>
Date:   Tue Aug 20 20:25:54 2002 +0000

    Applied patch from Olaf Hering to fix buffer overflows in the conf file
    reader.

commit 272f674e98caae3327e385389765b893273bb784
Author: srittau <srittau>
Date:   Tue Aug 20 19:40:43 2002 +0000

    Warning fixes.

commit 185d3ff7df310c4e5638851815c3ee85f9c8b59e
Author: jmarcus <jmarcus>
Date:   Tue Aug 20 05:36:08 2002 +0000

    Check to see if v_db == NULL not 0.

commit cecb70857dfe0e193eab0418d5def2846f06946e
Author: didg <didg>
Date:   Fri Aug 16 08:07:57 2002 +0000

    fix a memory leak when freeing locks

commit 160c265b93257c13ee21f944fe3f4c5d9e79a697
Author: didg <didg>
Date:   Fri Aug 16 00:42:56 2002 +0000

    Check that object has the right type (file, directory) before setdirparams
    setfileparams.

commit 1e111640819122bb4b59fbf2592184ca5122c1c3
Author: didg <didg>
Date:   Thu Aug 15 06:20:10 2002 +0000

    directory.c setdirparams() indentation fix.

commit 0ec257087fc37d7e6684dcc814b9f4733f4a3026
Author: jmarcus <jmarcus>
Date:   Wed Aug 14 17:49:13 2002 +0000

    Turn down the "file not mangled" message to debug severity.

commit 6d9ac825f42c66513dab71874bbb29533a6520f6
Author: didg <didg>
Date:   Wed Aug 14 10:35:46 2002 +0000

    ad_open.c: check we have the right perm when a file is opened multiple times.

commit 7380c7b4fb55a8b1e5b6d933025b1259770acfc0
Author: jmarcus <jmarcus>
Date:   Mon Aug 5 04:38:50 2002 +0000

    Attempt to fix a division problem leading to incorrect NFS quotas.
    
    Submitted by:   Sam Noble <ns@shadow.org>

commit 2e93d6eaabf562849a4feed6a4d18de100726ce2
Author: srittau <srittau>
Date:   Mon Jul 15 14:19:09 2002 +0000

    AFS patch by James E. Flemer.

commit c063786c1879da3df30e32a4808efe92c5b66542
Author: jmarcus <jmarcus>
Date:   Thu Jul 4 18:14:38 2002 +0000

    Do some bounds checking to insure that the extension doesn't overrun
    our mangled filename buffer.
    
    Reported by:    Thomas Kaiser <Thomas.Kaiser@phg-online.de>
    Pointy hat to:  me

commit 0414a23f39cb6bc2ca111f3ae294da4f74a808a4
Author: didg <didg>
Date:   Mon Jul 1 23:25:00 2002 +0000

    ad_lock.c If the lock cannot be set returns EAGAIN or EACESS

commit 37eeedf7c9c0f8920678fa994b63a053f9162ec3
Author: jmarcus <jmarcus>
Date:   Thu Jun 20 02:16:05 2002 +0000

    Make the fix a little more Perlish.

commit 89d6889837f693fc2d4761bf83f1ea7981019381
Author: jmarcus <jmarcus>
Date:   Thu Jun 20 02:15:09 2002 +0000

    If just one user was logged in to Netatalk, cnid_maint would kick that
    user off.  This was due to an off-by-one error in calculating the afpd
    child process.
    
    Submitted by:   Steve Freitas <steve@newportit.com>

commit 692c7b8dd4899fe1cd37b919ed66c74e95eec7cd
Author: didg <didg>
Date:   Tue Jun 18 23:45:16 2002 +0000

    fix a race between asp_getsession() and tickle_handler(), no reproductible 'unexpected disconnect' when
    mounting a volume.

commit 7795978051db470465bc8cc7f2cea207a8a7bd02
Author: didg <didg>
Date:   Mon Jun 17 18:23:02 2002 +0000

    more bits set in files/folders attributes. Fix error -51 in inspiration

commit b4a02894d4184a7935e46ddf48b75b9aa42e58cd
Author: didg <didg>
Date:   Mon Jun 17 17:58:37 2002 +0000

    ad_open(): small fix for file open read only and then read write

commit 340fa0a8b2defe7dbcbb825b48e48df609ecbf6c
Author: didg <didg>
Date:   Mon Jun 17 11:40:11 2002 +0000

    Macs have a maximum of 2^16 -1 open files... It's not the case for ulimit -n

commit 2088d0ebd7f1628584d8b6aadf9dc42a85a9a891
Author: didg <didg>
Date:   Fri Jun 14 09:20:29 2002 +0000

    volume.c getvolparms() initialize ashort before use.

commit dc806b7a6d00ef4a53b6cdb5a69f9a4142ebb301
Author: didg <didg>
Date:   Tue Jun 11 17:21:10 2002 +0000

    configure.in: VERSION file is in $srcdir, need when configured with
    ../netatalk/configure. I'm not sure $srcdir is the right variable.
    
    bin/afppasswd/Makefile.am: don't chmod afppasswd if it's not built.

commit 950015eca4539057f53c74f5d93db66fdff84011
Author: jmarcus <jmarcus>
Date:   Sun Jun 9 07:15:44 2002 +0000

    Remove some logging code now that things have seem to stabilize (gulp).

commit 9439f2b251f67b25cfedb88f76000946138a41d9
Author: didg <didg>
Date:   Thu Jun 6 10:14:26 2002 +0000

    unix.c:
    dir access right ma_user is a union of all permissions.
    
    volume.c:
    Update curdir only when chdir succeeds.
    Even if chdir to a new volume fails, but if closing the volume succeeds, still return 0.
    
    submit by Ngo Hoc, hoc.ngo@quantum.com

commit 090180a65afa49e1b56ec7b4e3b25d53c4a7d129
Author: jmarcus <jmarcus>
Date:   Mon Jun 3 22:58:10 2002 +0000

    Add BDB 4 support to CNID.
    
    Submitted by:   Andre Schild <A.Schild@aarboard.ch>

commit 1adc6d368c45342a1cc44cc2311a8e3dcfb0d08e
Author: jmarcus <jmarcus>
Date:   Mon Jun 3 22:55:27 2002 +0000

    Fix a problem where data was not being initialized correctly.  This
    problem resulted in files with similar names to disappear when being
    mangled.
    
    Also, reset the mangled filename pointer each time we look for a free
    mangled name.

commit a93a3536da46909afb578691840412c00cb939b3
Author: jmarcus <jmarcus>
Date:   Mon Jun 3 06:27:46 2002 +0000

    Try a different approach to fix the Illustrator problems.  The other
    solution made read-only files inaccessible.
    
    Submitted by:   didier <dgautheron@magic.fr>

commit 587de8d14c9dd3f9f77cafa02c111695d881d0cf
Author: jmarcus <jmarcus>
Date:   Sun Jun 2 22:34:36 2002 +0000

    Allow mangling to work correctly when moving and copying files.  The
    downside of this is that the mangling database currently has no way to
    purge itself.  I'll work on that next.

commit 24153d2dc39f089f66e5baf8f8f43d9928993e17
Author: didg <didg>
Date:   Sat Jun 1 05:10:24 2002 +0000

    afp_read, revert most of my previous patch about EOF, only keep savereqcount for
    lock, unlock op.
    from Akihiro Okamoto.

commit d1a625c0c48606640f39f16963d8788b09187b67
Author: jmarcus <jmarcus>
Date:   Fri May 31 02:19:41 2002 +0000

    Fix problem with last commit not being able to demangle filenames
    correctly.

commit db829bb53d843b8dc6624d58afd4b11cbe5f12f2
Author: jmarcus <jmarcus>
Date:   Thu May 30 20:48:29 2002 +0000

    Don't SEGV if the mangled filename doesn't have an extension.
    
    Special thanks to:      Steve Freitas <steve@newportit.com> for helping me
                            track this down

commit 42a651e36fba5cb1eaae1ffac62c69b3ffb4cfbf
Author: jmarcus <jmarcus>
Date:   Thu May 30 06:41:52 2002 +0000

    Make sure all the databases are closed if a failure occurs.

commit 87c395d877da3c5e651fa272c35cbaf47b92f4bb
Author: jmarcus <jmarcus>
Date:   Thu May 30 06:41:16 2002 +0000

    First round of mangling debugging.  This should actually work.  I ran into
    some problems with read-only files, but that may be a product of 1.6cvs, and
    not necessarily my code.

commit 1b304a03acb48cfc3baec7d33a05cad954325468
Author: jmarcus <jmarcus>
Date:   Wed May 29 18:02:57 2002 +0000

    Add support for long filename mangling.  Basically, tis code will take
    filenames greater than MACFILELEN characters, and mangle them much like
    DOS does.  The mangled filenames are stored in a Berkeley database per
    volume.
    
    NOTE: This code is _not_ tested, and may cause data loss.  Use at your own
    risk.  To enable it, configure with --with-mangling.

commit e5cc4050fd1a85ad4793c34b45d1fa2602c927ce
Author: jmarcus <jmarcus>
Date:   Wed May 29 17:40:36 2002 +0000

    Change setmode to afp_setmode to prevent a conflict with setmode declarations
    in unistd.h.

commit a67992c64b7f6161e9056f46432b45191db228ea
Author: didg <didg>
Date:   Mon May 27 04:47:00 2002 +0000

    initialise before use

commit 9616ac197eb35c6b3b3c2e144ce17c69218e19be
Author: rufustfirefly <rufustfirefly>
Date:   Thu May 23 15:58:55 2002 +0000

    patch #547180 for unprintable characters in psf. Previous behavior was to simply die, now prints a question mark. (Jason R. McVetta <jmcvetta@users.sourceforge.net>)

commit 010821c6905706c3ccaf5b4dbcdc39a4d24835e0
Author: rufustfirefly <rufustfirefly>
Date:   Thu May 23 15:54:27 2002 +0000

    patch #550059 for mac cyrillic code page to koi8-r codepage (anonymous submission)

commit 9f78587f71e6bcb32035b328f81a43b297c8eb17
Author: jmarcus <jmarcus>
Date:   Mon May 20 15:03:19 2002 +0000

    Fix problem with saving files.
    
    Submitted by:   didier <dgautheron@magic.fr>

commit 38873038f5f80d007a3f65652a06b4a8684c9490
Author: sibaz <sibaz>
Date:   Tue May 14 18:47:06 2002 +0000

    surrounded new function body with the #ifdef that turns it off when --without-logfile is set.  Looking at it though this whole file should be turned off when --without-logfile is set, and the LOG macro should just ignore the unused parameters and send a ... with all the vprintf parameters to syslog, thus rendering the code that's left, unneeded

commit 9af9b9d107c828f7bfb781a2185b700edd9097f0
Author: morgana <morgana>
Date:   Tue May 14 15:11:18 2002 +0000

    Documentation updates for pap

commit 2a7e152bbc1c7b45a4da177c0a12de310bb65419
Author: jmarcus <jmarcus>
Date:   Mon May 13 07:21:55 2002 +0000

    Whoops, forgot two files from my last commit.
    
    Pointy hat to:  me

commit 9016a52aac8b012f565733f9e4e924a56b1359c0
Author: jmarcus <jmarcus>
Date:   Mon May 13 06:59:58 2002 +0000

    Add boolean.h and logger.h.  Every header placed in this directory must
    be added to Makefile.am!

commit 3606b9e3a163b19c98d3c0c0dc40886d14bcc5ca
Author: jmarcus <jmarcus>
Date:   Mon May 13 04:59:36 2002 +0000

    A big patch to correct many afpd problems.  For one, the trash will
    work in multi-user environments.  This should also correct the
    read-write/read-only lock issues.
    
    This is a bug patch, and should be thoroughly tested.
    
    Submitted by:   didier <dgautheron@magic.fr>

commit c6c6ceea76a4e58ea64f540e13fdb63a52e3494c
Author: jmarcus <jmarcus>
Date:   Fri May 10 21:47:10 2002 +0000

    Remove all C++ style comments.

commit 4f21ebae954856dc2f2c59c12c406a5da1392ef9
Author: jmarcus <jmarcus>
Date:   Fri May 10 21:35:41 2002 +0000

    Use permissions the way MacOS expects, and avoid losing original permissions.
    
    Submitted by:   didier <dgautheron@magic.fr>

commit b2f77921dcfb0d0fa2f02b706ea4c2788d8c8407
Author: morgana <morgana>
Date:   Tue May 7 15:06:11 2002 +0000

    Updates for recent pap changes/fixes.

commit f6dc39dc002fac3af6652de2a4b704028403b9c4
Author: morgana <morgana>
Date:   Tue May 7 05:39:25 2002 +0000

    Cleanup from removal of pap.8.tmpl.

commit efdd6a659adae40082ea5474d75e8b677fc65bad
Author: morgana <morgana>
Date:   Tue May 7 05:33:18 2002 +0000

    Removed this man page because the man page for pap is already present in the man1 directory.

commit 623f9155893e3cc1ed967b605c738c14fee5eda7
Author: morgana <morgana>
Date:   Tue May 7 04:55:26 2002 +0000

    Updates from Patrick Powell (papowell@astart.com)
     - made debug a command line option (-d) rather than a compile time option
     - updated usage message with all available options
     - print out status in postscript (%%[ .. ]%%) format
     - print status to stderr if statusfile not specified

commit 23f887d0168697eae11d1674804581ca12e3809c
Author: jmarcus <jmarcus>
Date:   Fri May 3 22:51:32 2002 +0000

    * Allow afpd debugging to be enabled at runtime by sending the afpd process
      a SIGUSR1.  stdout will be redirected to a temp file.
    
    * Allow SLP to be disabled per afpd process by adding a new -noslp flag to
      afpd.conf
    
    * Update documentation accordingly.
    
    Submitted by: Glenn Trewitt <glenn@trewitt.org>

commit e0e7658b2ff819d0c1a64413ba6a66afe95dc6c6
Author: morgana <morgana>
Date:   Mon Apr 29 06:56:02 2002 +0000

    backing out last formatting change to cname()

commit 68e54302c574282a29dc42d001d09334c8ae35c1
Author: morgana <morgana>
Date:   Mon Apr 29 06:53:25 2002 +0000

    minor formatting change to cname()

commit b93e96b80cf9dc3255c123d6b6e9ae9604e6c5f4
Author: morgana <morgana>
Date:   Mon Apr 29 06:23:57 2002 +0000

    Fixes to configure process for server messaging.

commit ac4f1b3092e3bada46b562bc4c7e02280d64ce98
Author: morgana <morgana>
Date:   Mon Apr 29 01:52:49 2002 +0000

    Patch from reininn on sourceforge to use euc-jp or shift-jis coded filenames with megatron.  Still need patch for megatron man page though.

commit 437f5c75407201c3e006412f8f1a39cf6144df90
Author: rlewczuk <rlewczuk>
Date:   Mon Apr 22 07:46:00 2002 +0000

    of_rename() double-linked list removal bugfix

commit 1e00f1300e0913039c8cffcb83f40e71e25dcdbf
Author: rlewczuk <rlewczuk>
Date:   Sat Apr 20 19:05:12 2002 +0000

    Opened fork numbering bugfix

commit 1bae13b7504d539c51f74bc2db1fae72a19c0101
Author: morgana <morgana>
Date:   Wed Apr 17 20:55:23 2002 +0000

    Update papd man page to reflect that CAP-style auth is no longer a compile-time option.

commit 1e9ae7ea62cc6c81af04a3a199ff6d0ad49080b1
Author: srittau <srittau>
Date:   Sun Apr 14 10:53:37 2002 +0000

    "R. Lewczuk" <R.Lewczuk@elka.pw.edu.pl>:
    
    | There's also a trivial patch fixing problems with SGID directories on
    | some unstable compilers (ex. RH 7.2).
    
    This is done by removing an inline statement.

commit 6cfc7763a28c066cf8f40c6d1ab7f0e59c8ae01f
Author: srittau <srittau>
Date:   Sun Apr 14 10:51:39 2002 +0000

    "R. Lewczuk" <R.Lewczuk@elka.pw.edu.pl>
    
    | Here's a patch correcting the problem with Adobe Illustrator.
    | However this seems to be a bigger problem with opening forks
    | in RO/RW mode. This patch may introduce some other problems
    | with forks: RO forks may be writable in some circumstances,
    | however I'm not familiar enough with netatalk internals, so I cannot
    | tell definitely what else can I break with this patch.

commit af66ee4624c015dc54f4d95e47de8b0af00ae3b0
Author: morgana <morgana>
Date:   Mon Apr 8 20:47:25 2002 +0000

    Hardcode LD=ld to make it link in Solaris 8 with Sun's C Compiler.  If this breaks other platforms, we'll need to figure out how to autodetect or just make it a manual option set in the Makefile.

commit 143b95b188998bf8d8bea8f7ab9ab5463af5c5cd
Author: srittau <srittau>
Date:   Sat Apr 6 12:54:09 2002 +0000

    RedHat users: Install glibc-devel package.

commit 7a189e6f9fb21e6773ce4892c9e726a1622ca31a
Author: srittau <srittau>
Date:   Sat Apr 6 12:38:45 2002 +0000

    Use ${CC} instead of @LD@ (which isn't defined).

commit 709f1cb2a038c89a1883fe79f15d8b991d3da56b
Author: srittau <srittau>
Date:   Sat Apr 6 12:38:12 2002 +0000

    Fix test.

commit 1ec78c4ce841a7b19265dcd86b0b79a75aaaef57
Author: morgana <morgana>
Date:   Fri Apr 5 00:28:58 2002 +0000

    Small change to note the running ./autogen.sh is only required for builds from CVS.

commit 03a4b89fd15116a21916089a0dd9e9b2625241d2
Author: sibaz <sibaz>
Date:   Tue Apr 2 02:51:37 2002 +0000

    added some Log warnings to show log_setup works.  Also fixed a bug where null values were passed to the function.  Also altered the code to print time, from gmtime to localtime

commit 1ae95ec361c5c0cadd7dbee202c48a923ca20a76
Author: sibaz <sibaz>
Date:   Tue Apr 2 02:47:33 2002 +0000

    added a loglevel log_extradebug

commit 453068ed013469d5e5ba4d1993fca5d67684f06d
Author: sibaz <sibaz>
Date:   Tue Apr 2 02:45:28 2002 +0000

    added log statements to follow setup_logtype option.  Also fixed a bug, that bombed if the expected parameters weren't present

commit 1f3f09581cff7d07d59d3b6e99ee8d416baa8b46
Author: sibaz <sibaz>
Date:   Tue Apr 2 02:41:40 2002 +0000

    added some LOG messages

commit a5e645423e821b077cfe57394d01bf4f2b540517
Author: jmarcus <jmarcus>
Date:   Sun Mar 31 01:17:34 2002 +0000

    Use server name (if not NULL) for the SLP URL.
    
    Submitted by: Glenn Trewitt <glenn@trewitt.org> (with some modifications)
    MFH after: 2 days

commit ee147214d3fe2c3fb084dfe25c0fa7e5cf51871e
Author: sibaz <sibaz>
Date:   Mon Mar 25 00:13:17 2002 +0000

    removed a few silly reused code type errors and a couple of pointer type errors.  Should never have checked it in without testing

commit 628fe17d167006622db825bdda514176b754edec
Author: sibaz <sibaz>
Date:   Mon Mar 25 00:04:52 2002 +0000

    added code to call the new setuplog function in the logger, after breaking the parameters to a -setuplogtype option into their separate parts

commit 1df0f56d872aea7aca475c8e4d7b6a5fa22d7783
Author: sibaz <sibaz>
Date:   Mon Mar 25 00:03:25 2002 +0000

    added a function to allow other code to setup logs by specifying the text strings appropriate, rather than the numerical values.  In the process I added facility to the global log structure.  It seemed appropriate

commit abbd65bca4487e9a4eba909d999cc1627a56bdb4
Author: sibaz <sibaz>
Date:   Mon Mar 25 00:00:13 2002 +0000

    changed the layout to fit in a standard width window

commit e8590ca04843a3f98e6b86cc30f7304347cac0a0
Author: jmarcus <jmarcus>
Date:   Sun Mar 24 17:45:28 2002 +0000

    Allow users to turn off [resolve|create|delete]id advertisements.
    
    Submitted by: didier <dgautheron@magic.fr>
    MFH after: 1.5.3 is released

commit ae1170c11a624cd35a8acde26917814ff6184853
Author: jmarcus <jmarcus>
Date:   Sun Mar 24 17:43:39 2002 +0000

    1. Respect the kFPDeleteInhibitBit attribute
    2. Fix a problem where deep aliases would cause resolveid to fail
    
    Submitted by: didier <dgautheron@magic.fr>
    MFH after: 1.5.3 is released

commit 25fd578ef9d474e1cbc9b580422d3f44c5dff0cd
Author: sibaz <sibaz>
Date:   Sun Mar 24 14:37:04 2002 +0000

    partway through adding the code to setup logging in config files

commit 89587092102212adecde1110709d5b66a8586df8
Author: sibaz <sibaz>
Date:   Sun Mar 24 14:18:56 2002 +0000

    added strings for the loglevels (for use in conf file) and added a new logtype, afpd.  Also added a function so config file parsers can add logtypes to the list without having to know anything about logtypes

commit 0e1f7382fa2429d8c6e339c69755565471b49f0f
Author: jmarcus <jmarcus>
Date:   Sun Mar 24 07:46:11 2002 +0000

    Style cleanup after last commit.

commit 448b72378ab301efa819a372b24e4d42cf6d7dce
Author: jmarcus <jmarcus>
Date:   Sun Mar 24 07:38:23 2002 +0000

    Fix a problem with repetative failed stat()'s.
    
    Submitted by: didier <dgautheron@magic.fr>
    MFH after: 1.5.3 is released

commit f291e1ee2d32891f4f451e946b5894a038ed8c48
Author: sibaz <sibaz>
Date:   Sun Mar 24 01:23:40 2002 +0000

    added new type logtype_afpd

commit 59d416f23fdc1bb8850afb85ac3618c1bd59467e
Author: sibaz <sibaz>
Date:   Sat Mar 23 17:43:10 2002 +0000

    changed all the references to syslog to LOG macros

commit 8d7268fd5872256ad9d7589ec7792df31b6580ee
Author: morgana <morgana>
Date:   Wed Mar 20 20:53:57 2002 +0000

    Fix some issues with CAP-style printer authentication by changing where the
    cleanup occurs to afp_asp_close() and storing the pid of afpd in the CAP file.
    Credit goes to Sam Noble <ns@shadow.org> for this patch.

commit adbb80e1cea98264b77f4b76a53e585f9e3c5423
Author: morgana <morgana>
Date:   Tue Mar 19 23:23:51 2002 +0000

    Update man page and papd.conf template file to note requirement that the printer
    zone must be defined if more than 15 printers are used with papd.  Otherwise,
    the Mac Chooser may not show all the printers.

commit 9539e2337a4d6fba65544127c6d882e996f1cf98
Author: jmarcus <jmarcus>
Date:   Sun Mar 17 23:50:36 2002 +0000

    MFS:
    
    Include errno.h.

commit 103e6c1dbb5131b98d6bcb3354278a37c95bd0f1
Author: jmarcus <jmarcus>
Date:   Sun Mar 17 00:28:07 2002 +0000

    Forgot to include this in the previous commit for enabling more
    intelligent debugging messages.
    
    Submitted by: didier <dgautheron@magic.fr>
    Pointy hat to: Joe

commit 01d32d9be9ca82e01a328d0c46f4bf2b19881887
Author: jmarcus <jmarcus>
Date:   Sat Mar 16 20:39:04 2002 +0000

    When in debug mode, print out the AFP function call names as well as their
    numeric ids.

commit d6cdc8beb13f1e1f8ad3953de7c637c65aa1856d
Author: jmarcus <jmarcus>
Date:   Sat Mar 16 20:38:09 2002 +0000

    1. When in debug mode, print out the AFP function call names as well as their
       numeric ids.
    2. Don't advertise server sided notifications if AFP version < 2.1.
    
    Submitted by: didier <dgautheron@magic.fr>

commit 869084c3a01c6351b8e4426c3928d0fa034c9c14
Author: srittau <srittau>
Date:   Sat Mar 16 18:06:34 2002 +0000

    Removed deleted BUGS file from disribution.

commit 41da5b7f4976dcd12dacdf983e1f32d5285ce927
Author: srittau <srittau>
Date:   Wed Mar 13 19:29:14 2002 +0000

    Eddie's wincheck() fix.

commit d2c520a1c252641e4ad485c4e899c65589de3baf
Author: srittau <srittau>
Date:   Wed Mar 13 19:28:22 2002 +0000

    Warning fixes.

commit 6baac5c584193aabe499bf6a5f71ac059a771feb
Author: morgana <morgana>
Date:   Tue Mar 12 17:06:49 2002 +0000

    Fix so papd actually prints the version instead of "VERSION".  Oops!

commit c9476126eab773900bc2f2de99247cdf30b27c10
Author: srittau <srittau>
Date:   Tue Mar 12 11:03:49 2002 +0000

    Minor cleanups.

commit 63a879f97a4461738622698de978c5b8c66a2aa7
Author: jmarcus <jmarcus>
Date:   Tue Mar 12 07:08:35 2002 +0000

    DEFMASK should be an octal.

commit 8dd1fdc93b48ae221a8ea6396b084e9e500d54d1
Author: jmarcus <jmarcus>
Date:   Fri Mar 8 05:44:28 2002 +0000

    Add the changes since 1.5.2.

commit 3181e32f602c125c9996eed16f363c7c6d5a35fd
Author: jmarcus <jmarcus>
Date:   Thu Mar 7 16:06:01 2002 +0000

    Do not immediately return if an application requests data beyond the end
    of file.  Photoshop has a tendancy to do this with the result being that
    the server reports file corruption.
    
    I have tested this locally on my 1.5.2 server.
    
    Prompted by: many users
    Suggested fix by: Netatalk <atalk@abarrach.franken.de>
    MFH after: 3 days

commit 0a881e862dfb365e5e50be9139f78c633ad22ac2
Author: jmarcus <jmarcus>
Date:   Thu Mar 7 15:59:53 2002 +0000

    Wrap the case of no shell into a #ifndef DISABLE_SHELLCHECK block.  Also,
    throw a log message if this situation is encountered.
    
    Prompted by: Rolf Schoepfer <rolf@samplezone.ch>
    MFH after: 3 days

commit 0ab9f8dac4bec37bb70b3d60669eda4a5420b20f
Author: srittau <srittau>
Date:   Tue Mar 5 23:21:05 2002 +0000

    Really fixed the installation problem.

commit 50cb674ef88c91ac610546ce4a1461bf98af3303
Author: srittau <srittau>
Date:   Tue Mar 5 15:42:47 2002 +0000

    Fix a problem with the PAM install.

commit 91fad6bd493f0cdd0726f697d5ef64f3df90d075
Author: jmarcus <jmarcus>
Date:   Tue Mar 5 02:04:46 2002 +0000

    Fix a problem where afp_deleteid() would delete the parent directory,
    and not the specified file id.
    
    Submitted by: didier <dgautheron@magic.fr>
    MFH after: 3 days

commit ffc24c2c45ccf3937f24cec62a0f661257a06c9f
Author: srittau <srittau>
Date:   Tue Mar 5 01:41:36 2002 +0000

    Removed any special masking of chmod calls. Also fixed a strerror() call.

commit aa9b1ed0f8bde2815c212ada6797bc953c341a8c
Author: jmarcus <jmarcus>
Date:   Thu Feb 28 21:20:39 2002 +0000

    Sanitized some LOG messages.
    
    MFH in: 2 days

commit 2360797aefc6115b22339720377ff5d12782689f
Author: srittau <srittau>
Date:   Mon Feb 25 22:59:49 2002 +0000

    Install acleandir.rc.

commit 3a9b2b868ff959c5d21a8e4080546915c349c736
Author: srittau <srittau>
Date:   Mon Feb 25 22:58:13 2002 +0000

    Re-reverted my last patch. (Why did I revert it in the first place - I must
    have been dreaming.) Also added Gerry Tomlinsom as a former contributor.

commit 4df161d58f3aab7dde95e9d2c9692973195c219e
Author: srittau <srittau>
Date:   Thu Feb 21 10:10:04 2002 +0000

    Fixed description of -passwdfile option. Thanks to Thomas Kaiser for
    bringing this up.

commit 87d869381ae721c608e76d7e4e16cc032e659975
Author: srittau <srittau>
Date:   Thu Feb 21 09:59:24 2002 +0000

    Removed the UMich address.

commit 4aa264b6e5fac0cbd2d36e0ad7b202c658d01227
Author: srittau <srittau>
Date:   Thu Feb 21 09:58:27 2002 +0000

    Removed obsolete file.

commit 04e2c1825ba7677034bd180f99a971e10e998794
Author: srittau <srittau>
Date:   Tue Feb 19 16:32:17 2002 +0000

    DEBUG fixes, include cleanups.

commit a96509487411c48454d4a70d1d87cc8fb4be39e0
Author: srittau <srittau>
Date:   Tue Feb 19 15:17:23 2002 +0000

    Reverted patch from 1.13: start net is now set to 0 again.

commit 3835095194823f07b93b12c3b972f9771ccf7cac
Author: morgana <morgana>
Date:   Sat Feb 16 19:52:34 2002 +0000

    Updated to reflect some completed items.

commit d3900d88e75f29bfde4ba18a0e49ecb520bf92f8
Author: srittau <srittau>
Date:   Sat Feb 16 17:14:54 2002 +0000

    Warning fixes.

commit cd873727c4a138a0c8736784d7090cfb40422fd5
Author: srittau <srittau>
Date:   Sat Feb 16 17:12:53 2002 +0000

    Removed superfluous includes of atalk/logger.h (formerly syslog.h). It's
    not used by megatron.

commit 28adf36c69672bd8c637b6b62b3100c52a740996
Author: srittau <srittau>
Date:   Sat Feb 16 17:12:13 2002 +0000

    Don't fail when PAM files can't be installed.

commit 21a20483c57ec9e32613ffc17d2ca965832b8c7b
Author: srittau <srittau>
Date:   Sat Feb 16 17:11:31 2002 +0000

    Enhance readability.

commit 0e28ee73485135b36896683e33654e63ccb035a9
Author: srittau <srittau>
Date:   Sat Feb 16 17:10:07 2002 +0000

    Hopefully fixing a compilation problem when --enable-srcloc is given without
    arguments.

commit 789eb52318cd67d6366a1f7f622b23745f09e429
Author: sibaz <sibaz>
Date:   Sat Feb 16 15:29:49 2002 +0000

    altered a char comparison with a NULL to a comparison with 0, to remove a suspicious type conversion warning

commit ccbee388c84c6744e7000a50631ad2fc5fbddd59
Author: srittau <srittau>
Date:   Sat Feb 16 11:58:25 2002 +0000

    News for 1.5.2 from stabilizing branch.

commit 06af2fac094c3bc000db0e42743b269383d1b99d
Author: srittau <srittau>
Date:   Sat Feb 16 11:05:16 2002 +0000

    Removed a redundant invocation of umask().

commit e328d0eac0eb0e281df106b1c239139d2363af54
Author: srittau <srittau>
Date:   Sat Feb 16 11:04:50 2002 +0000

    Use strtoul() instead of strtol() when converting the umask option.

commit 2df63fb77b869a44ce98193e7945dcbe3b466333
Author: srittau <srittau>
Date:   Sat Feb 16 10:46:42 2002 +0000

    Remove useless strerror()'s.

commit 616d61260af41a6d8de622821bad301e1bd26b4e
Author: srittau <srittau>
Date:   Fri Feb 15 22:35:53 2002 +0000

    Added grep-check.m4 and ps-check.m4.

commit 6cfa2c0e016739c609f21e18031c3ca15640cb1b
Author: morgana <morgana>
Date:   Fri Feb 15 16:15:21 2002 +0000

    Use VERSION string instead of hard-coded value in gq_rbispoolerid response.

commit d572290123d510a62b1199ba17ce64a12204d7cb
Author: morgana <morgana>
Date:   Fri Feb 15 07:22:27 2002 +0000

    *** empty log message ***

commit 96aba2652a3b509587a2d6362e8213219f4caa41
Author: morgana <morgana>
Date:   Fri Feb 15 07:20:13 2002 +0000

    Small typo in Authentication Failed response to client.

commit 19657d41043cf48a7767c4d7a995d002c24e1d7a
Author: morgana <morgana>
Date:   Fri Feb 15 07:12:41 2002 +0000

    Added support for "ADOIsBinaryOK?" query from client. Papd responds with true. This fixes bug #455001.

commit 948200d40f02a14d694a53b607bf90c84d3ac938
Author: jmarcus <jmarcus>
Date:   Thu Feb 14 18:02:04 2002 +0000

    Fix the comments.

commit 8edf21c7ca8eaef95c5c092d28b4713f5ae09c64
Author: jmarcus <jmarcus>
Date:   Thu Feb 14 05:59:51 2002 +0000

    Fix the error message reported when of_find fails to find a valid fork.  Since
    of_find() doesn't set errno, there's really no since in calling strerror()
    on a "dirty" value.
    
    Prompted by: didier <dgautheron@magic.fr>

commit f2ba01116c0233c573415356868dcb4a60e96145
Author: srittau <srittau>
Date:   Wed Feb 13 18:26:31 2002 +0000

    Typo.

commit 0ca6425c6e831c079c9c87146538869e0596d871
Author: srittau <srittau>
Date:   Wed Feb 13 16:56:20 2002 +0000

    NetBSD fix by Juergen Hannken-Illjes. First network is now set to 1 instead
    of 0. I'm really not sure what this does and if it breaks something on
    other platforms. So please *test*.

commit 82f22d5cb99773dd26bea926754df77173e6113c
Author: srittau <srittau>
Date:   Wed Feb 13 16:48:10 2002 +0000

    Quick and dirty hack to fix build on NetBSD hosts with ELF support. Patch
    by David Rankin.

commit eaf59ab61214a746387fd0b1deb4b0f587069780
Author: srittau <srittau>
Date:   Wed Feb 13 16:44:59 2002 +0000

    Tru64 SIA fixes and Eddie and Burkhard.

commit e0a428c2fcbeab45a637ad78f4d3156c60d0e766
Author: srittau <srittau>
Date:   Wed Feb 13 16:44:02 2002 +0000

    New command line option: --with-nls-dir, moved pkgdir check into its own
    file.

commit f00f388136bc34c41a155390f2a5b850e089afd2
Author: jmarcus <jmarcus>
Date:   Wed Feb 13 15:09:40 2002 +0000

    Fix a potential NULL pointer dereference if a /etc/services entry didn't
    exist for afpovertcp.
    
    Reported by: Burkhard Schmidt <bs@cpfs.mpg.de>

commit 3cc3cb8350df854937c8895ee0257e1550e448a8
Author: jmarcus <jmarcus>
Date:   Mon Feb 11 21:14:33 2002 +0000

    Add a check for uid 0.

commit 12dc545aeb414716cbcece96f5cadabb811280e5
Author: jmarcus <jmarcus>
Date:   Mon Feb 11 21:10:00 2002 +0000

    Correct the script name in one more place.

commit a24e05c07ffe7f982ab0e6d3bb6e5b3fc178103a
Author: jmarcus <jmarcus>
Date:   Mon Feb 11 21:04:16 2002 +0000

    Fix the output of -v so that it reports the correct name of the program.

commit d32bebc483a581faccbcabc23693043102c9235c
Author: jmarcus <jmarcus>
Date:   Mon Feb 11 21:02:00 2002 +0000

    Don't try to recover a DB environment that doesn't exist.
    
    Prompted by: Daniel E. Lautenschleger <dan@bocklabs.wisc.edu>

commit 80fd9361c1b8ed86640cfa7df5ada7022062dd4f
Author: jmarcus <jmarcus>
Date:   Mon Feb 11 16:17:09 2002 +0000

    Clarify that client_polling may take a toll on slower networks.
    
    Submitted by: Thomas Kaiser <Thomas.Kaiser@phg-online.de>

commit 42a5fb658d2ef932c4ebbd959682682c814453f5
Author: jmarcus <jmarcus>
Date:   Sat Feb 9 20:29:40 2002 +0000

    Add a missing '/'.

commit 2b80e6b7495cc3471a2aed8bfcae41fd6b229dd4
Author: jmarcus <jmarcus>
Date:   Sat Feb 9 17:13:52 2002 +0000

    Redo the server notification flag.  Revert to having server notifications
    enabled by default, and rename the flag to -client_polling which will
    disable server notifications.
    
    Update documentation to reflect this new flag.

commit 4be1f1a71b06b51af2314cf32fa7c44018759cce
Author: srittau <srittau>
Date:   Sat Feb 9 14:42:38 2002 +0000

    Fixed wrong line breaks. Thanks to Jonas Smedegaard <dr@jones.dk>.

commit c25eef3097b8903c783ce9e6e29a6c2a22642c97
Author: jmarcus <jmarcus>
Date:   Fri Feb 8 17:43:15 2002 +0000

    Revert previous commit.  It breaks CNID.
    
    Submitted by: author

commit edaab2cf1ca8c144c9a7e04d432e626a3b6bf1f0
Author: jmarcus <jmarcus>
Date:   Fri Feb 8 16:42:31 2002 +0000

    Fix for two things:
    
    (1) General: Using --enable-srvloc results in compile-time errors when
    libslp.a is not installed in a standard location searched by the linker.
    This is due to the missing third argument in AC_CHECK_LIB(slp,
    SLPOpen, , AC_MSG_ERROR([SLP installation not found])) on line  32 in
    macros/srvloc.m4: This sets LIBS="-lslp $LIBS" globally in configure,
    instead of just setting SLP_LIBS and SLP_CFLAGS.
    
    (2) Tru64-specific: In libatalk/utils/logger.c, the function vsnprintf()
    is used. Up to and including version 4.0F, Tru64 doesn't have this
    function in its standard C library, although the DEC C compiler has a
    prototype for it. Instead, vsnprintf() is contained in libdb.a (not to
    be confused with libdb3.a), which must be given as a separate flag to
    the linker.
    
    Submitted by Burkhard Schmidt <bs@cpfs.mpg.de>.

commit 08fc57d1f007c47ff7faf45d3581825892d6a834
Author: jmarcus <jmarcus>
Date:   Fri Feb 8 16:26:31 2002 +0000

    Remove cnid_didname_verify.c.  It is not needed since didname.db has been
    changed to a hash.
    
    This file may make a reappearance when the analysis of the BTree problems
    is complete.

commit 18bff2ec6f3c83228ef186808a98af201cd96473
Author: srittau <srittau>
Date:   Thu Feb 7 23:35:49 2002 +0000

    Added $id$ tags.

commit 833b8b6ca7c1e686233dc9c82d7e57922632a111
Author: srittau <srittau>
Date:   Thu Feb 7 23:35:10 2002 +0000

    Stabilizing branch streamlining: removed a superfluous break.

commit 07fc77e52d7016908809d99e769d31d9d20f9295
Author: srittau <srittau>
Date:   Thu Feb 7 23:33:24 2002 +0000

    Backport from stabilizing branch: Changed my e-mail address partly back to
    srittau@jroger.in-berlin.de, added Sumit's last name.

commit 9c835ad611782e65d81afabd27fca5205da57e47
Author: jmarcus <jmarcus>
Date:   Thu Feb 7 21:45:07 2002 +0000

    Automatically detect the temp directory.  The tmpdir() code is taken from
    File::Spec, and brought to my attention by MacMan One <power2themacs@yahoo.com>.

commit e0acbbcf3dbe1951f520aa327e7912f8830cd5e7
Author: jmarcus <jmarcus>
Date:   Thu Feb 7 16:10:29 2002 +0000

    GREP no longer needs to be editable.  Also, add a blurb about the script, and
    the $Id$ tag.

commit 32436c034b4d65e84a1910c934d852d3db4d76c3
Author: jmarcus <jmarcus>
Date:   Thu Feb 7 15:57:39 2002 +0000

    Add a missing bin element to the db_verify and db_stat paths.  Also, change
    the default db_* commands to something more reasonable.

commit 51cd470c924b3a69f17a343fbff1b0ba67ab09aa
Author: jmarcus <jmarcus>
Date:   Thu Feb 7 05:10:28 2002 +0000

    Add support for the cnid_maint script.

commit 7ac00a42dd5ad0f5f664ff7da4cf8c7aa2528e0a
Author: jmarcus <jmarcus>
Date:   Thu Feb 7 05:09:59 2002 +0000

    Change the name of the Perl-check macro to reflect the fact we are now using
    a standard version.  Also, add support for the cnid_maint script.

commit 5c94457a645dde4a4726115882d37e223e661463
Author: jmarcus <jmarcus>
Date:   Thu Feb 7 05:09:01 2002 +0000

    Add macros to check for grep and ps.

commit 621e94a517b8af44cf8eebb142a4bc9cc55dedc0
Author: jmarcus <jmarcus>
Date:   Thu Feb 7 05:08:36 2002 +0000

    Add DB3_PATH for the cnid_maint script.

commit 907101fd7a5c319e684514ddde6b445910314971
Author: jmarcus <jmarcus>
Date:   Thu Feb 7 05:06:48 2002 +0000

    Fix the Perl-check macro so that it acutally checks for Perl.

commit e01f95d1997ebb3803c8671d87aae138639b3a3e
Author: jmarcus <jmarcus>
Date:   Thu Feb 7 04:28:15 2002 +0000

    Add a missing $(DESTDIR) to fix make install.  Thanks to Eddie
    epl@unimelb.edu.au for pointing this out.

commit 054df81bc269bfbf61b44424976a8eca799fce89
Author: jmarcus <jmarcus>
Date:   Wed Feb 6 21:58:47 2002 +0000

    Add the -server_notif server flag to specify whether or not to advertise
    server notification support.  If this flag is not specified, then the clients
    will poll the server every 10 seconds for directory changes.

commit a071a56869817246a449993adda223d3bbe92160
Author: srittau <srittau>
Date:   Tue Feb 5 20:42:04 2002 +0000

    Fixed some misleading log messages.

commit b4b01da64577b7a9924a330cd50853232ab87992
Author: morgana <morgana>
Date:   Sun Feb 3 22:10:43 2002 +0000

    *** empty log message ***

commit 5f0eb106e1ca2908b0266ba5e564eaecda0c15a2
Author: morgana <morgana>
Date:   Sun Feb 3 22:03:59 2002 +0000

    Make bin/afppasswd setuid root during install.  This lets local users call
    afppasswd to update their afppasswd password, similar to the standard unix
    passwd program.  Fixes sourceforge bug #230524.

commit 538fd6d476e4f3e00bc9d6149e12e1851b60e9d8
Author: jmarcus <jmarcus>
Date:   Sun Feb 3 05:01:09 2002 +0000

    Fix a problem where overquota() will report false if the user has no
    set time limit.

commit 5ed735048bdad03ba5d0d5302c3fb5b75b07a2a4
Author: jmarcus <jmarcus>
Date:   Sun Feb 3 04:57:38 2002 +0000

    Fix a race condition on reading and writing data to the same fork.  Also,
    correct a lock contention issue where one afpd process could lock a
    byte region, and then only unlock part of that region.  The next afpd
    process to access the same reason would receive AFPERR_LOCK.  Submitted by
    didier <dgautheron@magic.fr>.

commit 8e62e5187473e64e21594b5da58b783425520a75
Author: jmarcus <jmarcus>
Date:   Sat Feb 2 21:09:13 2002 +0000

    If the DSI command block is invalid, afpd will disconnect without indicating
    an error.  Submitted by didier <dgautheron@magic.fr>.

commit a4025b2f455fee1bd9101274e9888e09fd6a760e
Author: jmarcus <jmarcus>
Date:   Sat Feb 2 21:08:21 2002 +0000

    Don't try and derefernce freed memory.  Submitted by
    didier <dgautheron@magic.fr>.

commit 64a82aad3313a23c712fa06d62429b1a48e2912c
Author: jmarcus <jmarcus>
Date:   Sat Feb 2 19:12:31 2002 +0000

    Move CNID_INVALID to include/atak/cnid.h to make it public.

commit 6c1d2a098da90062b9fbb21717457c16ddc924b7
Author: jmarcus <jmarcus>
Date:   Sat Feb 2 19:11:33 2002 +0000

    cnid_t is a unsigned variable, Joe!  Thanks to Didier for pointing this out.

commit b3ead83960e98937f511238627018ceb595cc9da
Author: jmarcus <jmarcus>
Date:   Fri Feb 1 19:51:09 2002 +0000

    Yank out all the recovery code.  This will be replaced by a run-from-cron
    script.

commit 5b29b22386133e3ccd20f87f3ae3e5640dfc61a1
Author: morgana <morgana>
Date:   Fri Feb 1 07:03:49 2002 +0000

    dlopen should use RTLD_LAZY instead of RTLD_NOW on NetBSD.  Patch #502168.

commit 259d143feb8f07a3b8e6120beb7339faae18fe93
Author: srittau <srittau>
Date:   Fri Feb 1 06:19:42 2002 +0000

    Back-ported NEWS entry from 1.5.1 from stabilizing branch.

commit a2ec3e303df26b5ad7918906a958934f7136114e
Author: srittau <srittau>
Date:   Fri Feb 1 06:15:34 2002 +0000

    Fixed a typo and improved formatting of Q15.

commit 3ed7db8bac7b9c4a935803eb90e8c0c9de8b6e14
Author: srittau <srittau>
Date:   Fri Feb 1 06:14:39 2002 +0000

    Small change to increase code readability.

commit 74dcc04843e362161d552d0f671dab900626b570
Author: jmarcus <jmarcus>
Date:   Tue Jan 29 21:12:14 2002 +0000

    Update the CNID code again to allow for 4G CNIDs, and a little somethin'
    somethin' to try and fix the issue when a client holding the recovery lock
    on a database unexpectedly disconnects without closing the database.

commit 09f0dee5d3ddc7d218c9e93228c399de0c8698bf
Author: jmarcus <jmarcus>
Date:   Thu Jan 24 16:46:53 2002 +0000

    Forced commit. As of rev 1.34 of cnid_open.c CNID works again in HEAD.

commit a269d16c3383d68a99b4809a411c9b38865671f5
Author: jmarcus <jmarcus>
Date:   Thu Jan 24 16:32:12 2002 +0000

    Fix a potential buffer overflow.  Thanks to didier <dgautheron@magic.fr>.

commit 832463e317e3b2afc2241e3eeca7c5e1b782eb60
Author: jmarcus <jmarcus>
Date:   Thu Jan 24 16:31:20 2002 +0000

    Sanity check this code more since it is run by root.  Also clean up the style
    some.  Thanks to didier <dgautheron@magic.fr>.

commit de3168c8f7870ec4968df8a7e073582bac748a85
Author: jmarcus <jmarcus>
Date:   Thu Jan 24 16:27:31 2002 +0000

    Do some more sanity checking to ensure data integrity.  Thanks to
    didier <dgautheron@magic.fr>.

commit b779b7015eb5c991269552d92bf5948e4d236d01
Author: jmarcus <jmarcus>
Date:   Thu Jan 24 16:24:26 2002 +0000

    errno is meaningless if len == 0.  Thanks to didier <dgautheron@magic.fr>.

commit 499a096d97d0e8c4b63e2d94a365172387b3c17a
Author: jmarcus <jmarcus>
Date:   Thu Jan 24 16:22:16 2002 +0000

    Proper checking for errors when remove() fails.

commit ea249f4cc91281895b6fd96daa9666149a172e75
Author: jmarcus <jmarcus>
Date:   Thu Jan 24 15:15:48 2002 +0000

    Forced commit.  As of rev 1.34 of cnid_open.c CNID works again in HEAD.

commit 4aea6080fc8c81747c65742f9a0587b0b12bcdde
Author: jmarcus <jmarcus>
Date:   Wed Jan 23 02:31:32 2002 +0000

    Add a message indicating what version of BDB is being used.

commit c3ebdbc0834268f9ca598a6208c1659f34f759ef
Author: jmarcus <jmarcus>
Date:   Mon Jan 21 04:48:14 2002 +0000

    Change didname database to a hash instead of btree.  Since we're using a
    red-black tree within afpd to keep directories in line, this is sort of
    redundant.  Also, the compare function seems to be buggy.
    
    This is still a todo item, but as of now, the hash seems to work well, and
    increase database resiliency.  This commit obsoletes the didname verify
    tool in bin.  I'm going to leave the tool in for now pending further
    investigation of this problem.

commit 29a9a84d8e1432d0940cc3d524c699cfe69a2dfa
Author: jmarcus <jmarcus>
Date:   Mon Jan 21 04:06:41 2002 +0000

    Fix some obvious problems in the new CNID code.  However, things are still
    broken, and need to be looked at.

commit eb96b883ab878dcf96239f37bb9f17965d885248
Author: jmarcus <jmarcus>
Date:   Sun Jan 20 01:34:40 2002 +0000

    st is not a pointer here.  Pass its address.

commit 66d9ae405c24926f83a1ad714a7f207d6ba8809b
Author: jmarcus <jmarcus>
Date:   Sun Jan 20 01:32:45 2002 +0000

    Fix a bogon compile error.

commit 3b04eff2fd9b2647aa18caa8d0787f158136855b
Author: jmarcus <jmarcus>
Date:   Sat Jan 19 21:42:08 2002 +0000

    Style police.

commit 3f8355e24db08a7828f6eeafc02ff3dfd8ff4a39
Author: jmarcus <jmarcus>
Date:   Sat Jan 19 21:29:54 2002 +0000

    Style police.

commit 49c26723641c72003e2302b6c1fe2b8bafa5b0c9
Author: jmarcus <jmarcus>
Date:   Sat Jan 19 17:27:20 2002 +0000

    When the user's disk usage exceeds quota hard limit, report bytes free as 0,
    and bytes total as the number of types the user is currently using.

commit 51704758637f682084b793f20504f0383f47de7f
Author: srittau <srittau>
Date:   Sat Jan 19 14:44:20 2002 +0000

    Ignore some (now) generated files.

commit 469bfbdd0269737331f0f94a3dc6a4c3a26157b3
Author: jmarcus <jmarcus>
Date:   Sat Jan 19 00:22:23 2002 +0000

    Back out previous commit.  There is still a point of contention on what the
    correct way to handle quotas.

commit 155cded76c08ff260ce8c82ca37e91c78e1e47ef
Author: jmarcus <jmarcus>
Date:   Fri Jan 18 22:42:24 2002 +0000

    When a user exceeds her soft quota, report disk space free is 0 bytes.
    This is in line with the way Samba does things apparently.

commit df518145727f2ad72a536ea8b68c185996b25596
Author: jmarcus <jmarcus>
Date:   Fri Jan 18 05:23:25 2002 +0000

    Fix up some comments to reflect the last CNID change.

commit 8c50a12261d5bb169deb93a9dde2e2634158d39c
Author: jmarcus <jmarcus>
Date:   Fri Jan 18 05:19:26 2002 +0000

    Change the first CNID from 3 to 17.  According to the AFP 3.0 spec on page
    31 of the PDF file, DIDs 1 through 16 are reserved.

commit de24bfe3da7f32e971e91ec868d13b79e7c88a85
Author: jmarcus <jmarcus>
Date:   Fri Jan 18 04:53:48 2002 +0000

    Disable asynchronous transactions again.  This may be contributing to some
    database instability people are seeing.

commit cc1264f49c896043bbc008c418b6faf21efd0110
Author: jmarcus <jmarcus>
Date:   Fri Jan 18 04:51:27 2002 +0000

    Make the error generated when the actual CNID add fails a little more
    descriptive.

commit be5a7c01e01ecd8ae9c0a99cb431214cef5b2fef
Author: jmarcus <jmarcus>
Date:   Fri Jan 18 04:46:19 2002 +0000

    Forced commit to clean up the code.

commit 72500f9165f40db0588671d10ec90a9742cc29a0
Author: jmarcus <jmarcus>
Date:   Fri Jan 18 04:45:38 2002 +0000

    Whoops!  Add back some missing txn_abort()'s.

commit 708f57b6cdd3671457c420b36522f64c14c89c7e
Author: jmarcus <jmarcus>
Date:   Thu Jan 17 16:19:06 2002 +0000

    Implement a round of CNID DB fixes per suggestions by
    didier <dgautheron@magic.fr>.  These changes enforce non-reusable DIDs
    and FNums, and remove some transaction nesting in cnid_add.
    
    Also, if cnid_add fails for whatever reason, functions that call it will
    return errors instead of proceding.

commit 86ef60fdfcdc29d80b4169b5d2218f801aec81dc
Author: jmarcus <jmarcus>
Date:   Thu Jan 17 16:13:34 2002 +0000

    Fixes from didier <dgautheron@magic.fr> to not use a freed pointer in
    when closing an afp_dsi session, and to not return 0 for as an
    OForkRefNum (per Apple spec).

commit 5dd82b20cf15d2badcead9d218237d87325c7f69
Author: srittau <srittau>
Date:   Thu Jan 17 07:11:12 2002 +0000

    More Solaris cleanups for 64bit compatibility.

commit ea0bb4873b04ed63583668a8136323fe9e6a83b9
Author: srittau <srittau>
Date:   Thu Jan 17 06:13:44 2002 +0000

    signal patches from NetBSD package via David Rankin

commit a89d2ebf83369061f232cd5c3a1d91159873afb7
Author: srittau <srittau>
Date:   Thu Jan 17 06:13:02 2002 +0000

    Cleanups that aim towards the 64bit fixes.

commit ec643ac679694443a4dee5c847453d8477b512b0
Author: srittau <srittau>
Date:   Thu Jan 17 06:12:02 2002 +0000

    Head fixes and cleanup.

commit e9f6866bf85f6f0817884ca2a42ddfb5d56841cb
Author: srittau <srittau>
Date:   Thu Jan 17 06:10:43 2002 +0000

    termcap patches from NetBSD package by Christos Zoulas

commit f36ac8d74100f107652e86f21b148ff76b0c764c
Author: srittau <srittau>
Date:   Thu Jan 17 06:10:12 2002 +0000

    Added padding to a structure. Patch by David Rankin.

commit 16728a67c1b0317b4c3e2e30b08aba168e3d5ca6
Author: srittau <srittau>
Date:   Thu Jan 17 06:08:55 2002 +0000

    Type imporvements.

commit 0e0e348a7749adb20c19ae1e3e365cfdd11b95cd
Author: srittau <srittau>
Date:   Thu Jan 17 06:05:41 2002 +0000

    Fixed typo that prevented compilation.

commit 2c75ca1a46d25d5245886b29cc6002ed816fe240
Author: srittau <srittau>
Date:   Thu Jan 17 06:04:35 2002 +0000

    NetBSD init scripts by David Rankin.

commit cb16130192befaa7efb2c01db839a9e8a0649985
Author: srittau <srittau>
Date:   Thu Jan 17 06:03:17 2002 +0000

    Use new variable NLSPATH.

commit fbf2ec27deeb6001adf2fc59f9a1ed2556631e1f
Author: srittau <srittau>
Date:   Thu Jan 17 05:59:25 2002 +0000

    Auto-generate Perl scripts so the the path to the interpreter will be
    set correctly.

commit 553f9766e161efd1ff7f457cae647d6c2a931ce8
Author: srittau <srittau>
Date:   Thu Jan 17 05:57:04 2002 +0000

    New configure switch: --enable-netbsd.

commit 6ba05b42c779703740100e9d1810577716f9b306
Author: srittau <srittau>
Date:   Thu Jan 17 05:55:41 2002 +0000

    Don't define DEBUG is --enable-debug isn't given. Patch by
    epl@ariel.ucs.unimelb.edu.au.

commit f129c63687840e143571ae5cfd4cac5969909241
Author: srittau <srittau>
Date:   Thu Jan 17 05:53:57 2002 +0000

    New substituted variable: NLSDIR. Equals $PKGCONFDIR/nls for now.

commit adc8cf2ae81bc1a53cbaf821a5a681aae40ecf3e
Author: srittau <srittau>
Date:   Thu Jan 17 05:50:38 2002 +0000

    Use new macros NETATALK_PROG_PERL and NETATALK_AFS_CHECK.

commit 36c93d74bc6a4db0605be539e941d70975eb7e8b
Author: srittau <srittau>
Date:   Thu Jan 17 05:48:51 2002 +0000

    New macro to check for AFS support.

commit 0d25702ee216e6b0d293d0cd02f2f661d1a38d81
Author: srittau <srittau>
Date:   Thu Jan 17 05:48:00 2002 +0000

    Added proper comments.

commit 4f3e3fe44b6f6a3c7ea6184b80baf2914e52dd8c
Author: srittau <srittau>
Date:   Thu Jan 17 05:46:53 2002 +0000

    New macro to check for Perl (just assumes that perl is in /usr/bin for now).

commit c576062c73140eee3f0b91ada7d4170817d7fd8b
Author: srittau <srittau>
Date:   Thu Jan 17 05:45:11 2002 +0000

    Added David Rankin as NetBSD contributor.
    
    Sumit's name is actually Sumit Bose AFAIK.
    
    Partly changed my e-mail address back to jroger.in-berlin.de. (debian.org is
    just for my Debian packaging job.)

commit c024800b6e4a99a9667c36b1f536b7466504fa6f
Author: jmarcus <jmarcus>
Date:   Wed Jan 16 19:55:15 2002 +0000

    Add support for all the DID schemes to fork.c.

commit 8a109cf03a8644c29b90bb8ff0afd410d7479657
Author: jmarcus <jmarcus>
Date:   Wed Jan 16 19:46:52 2002 +0000

    FNum for a fork needs to go out in network byte order.

commit 9a5860f0cd73ca3b0f20a5a24035465fa9e9bb34
Author: jmarcus <jmarcus>
Date:   Tue Jan 15 16:33:25 2002 +0000

    Fix typo in finding SRVLOC libs.  Thanks to Burkhard Schmidt <bs@cpfs.mpg.de>.

commit a2f7a3e539a6d43f224bf4adef133958e90d3975
Author: srittau <srittau>
Date:   Tue Jan 15 13:42:58 2002 +0000

    socklen_t is not standardized. Use size_t, instead.

commit 8e823ee9678b43338b5734c895772fa75bbb8fb9
Author: jmarcus <jmarcus>
Date:   Sun Jan 13 07:22:02 2002 +0000

    Patch from Egon Niederacher <niederacher@fh-vorarlberg.ac.at> to fix quota
    support on FreeBSD.  I also fixed a potention multiplatform bug with
    group quotas.

commit fbdb46c8a335f289e1a3777da0357338b3b36dfc
Author: jmarcus <jmarcus>
Date:   Thu Jan 10 01:36:23 2002 +0000

    Fix a problem with the new logger code.

commit a60a6bff7c66c237fe39d37581c907ba5724f937
Author: jmarcus <jmarcus>
Date:   Mon Jan 7 16:21:00 2002 +0000

    Update AppleVolumes.system from Kazuhiko Okudaira <kokudaira@hotmail.com>
    in dedication to Miss Tamaki Imazu.

commit c67c669140fd0f10b2c835319b0168368aed1ee9
Author: sibaz <sibaz>
Date:   Fri Jan 4 22:03:41 2002 +0000

    added cnid logtype to the list

commit efc466d375e2b60c34990b39b135ce56bd38a99b
Author: sibaz <sibaz>
Date:   Fri Jan 4 04:45:46 2002 +0000

    merged logging code into main branch.  use configure option --without-logfile to turn the new code off

commit 860d731692831b16749021c7ccfdd5f1f5437d97
Author: sibaz <sibaz>
Date:   Thu Jan 3 17:49:38 2002 +0000

    replaced all #include <sys/syslog.h> with #include <syslog.h>

commit 73eced85d8e37bac86d2c424d52bd27c245b26cc
Author: sibaz <sibaz>
Date:   Thu Jan 3 17:29:10 2002 +0000

    altered the layout of code calling syslog witha space to conform with the rest of the code which calls it wihout (syslog( rather than syslog ( )

commit fff7b0b7ecaec9c34f702aa1b8dd8854ac7052ef
Author: srittau <srittau>
Date:   Wed Jan 2 21:14:10 2002 +0000

    Disallow leading and trailing spaces in MSWINDOWS volumes. This is based on
    SourceForge patch #480115, submitted by Patrick Bihan-Faou (pbf) and
    crediting Herv Masson and addresses SF bug #434934.

commit b9b23b5b1586993eb313af2b058b0fbbaeb7fab1
Author: srittau <srittau>
Date:   Mon Dec 31 20:01:17 2001 +0000

    Re-added const qualifier to the argument to parseline. Instead, introduce a
    new non-const tmp variable called tmpbuf. (Joe, you were half a minute quicker
    than I.)

commit b3434223d5cc4d3c9816491daca9eeeb3cabd541
Author: jmarcus <jmarcus>
Date:   Mon Dec 31 18:40:08 2001 +0000

    Remove some const attributes on variables that change.  This should
    get this to compile correctly.

commit 92ccfd82827c68dc2f7d38abb29add21d86ed47d
Author: srittau <srittau>
Date:   Sun Dec 30 18:36:21 2001 +0000

    Added new file from stable branch.

commit 4576019666c876cbc7e01febc0c53ced7219b607
Author: srittau <srittau>
Date:   Sun Dec 30 18:34:25 2001 +0000

    Call this version 1.6cvs.

commit b7468499b0b5550e55c97cdda24e3a7bed04cd5e
Author: srittau <srittau>
Date:   Sun Dec 30 18:30:52 2001 +0000

    Allocate memory for parsing and storing configuration dynamically.

commit c293741eb89feb8f2f60b1b5bb7fce58236af291
Author: srittau <srittau>
Date:   Sun Dec 30 18:26:14 2001 +0000

    Removed unused length parameters.

commit bf32151c3926916635223c5ac349eda819fee320
Author: jmarcus <jmarcus>
Date:   Sat Dec 29 08:22:23 2001 +0000

    Add some missing breaks to preserve correct error reporting.

commit 48ea8ef84a4dd77019e29a09564a1f6e7a5b5b97
Author: jmarcus <jmarcus>
Date:   Sat Dec 29 08:16:21 2001 +0000

    Add some missing breaks to preserve correct error reporting.

commit eb43ae9c4f3817625876741ff14508bd05eb9bf9
Author: jmarcus <jmarcus>
Date:   Sat Dec 29 04:55:32 2001 +0000

    Remove another call to length.  This should take out the last reference to
    an uninitialized variable.
    
    TODO: Remove any mention of the length variable entirely.

commit 0bca35858b91a4800a11f6528fbf2d55a581882a
Author: srittau <srittau>
Date:   Sat Dec 29 03:17:45 2001 +0000

    Fix for SourceForge bugs #471911 and #495260. Overzealous argument validity
    checking.

commit e9bf38eef2b015c55af5cb10f517da1faa5fc14f
Author: jmarcus <jmarcus>
Date:   Sun Dec 23 01:19:55 2001 +0000

    Remove some syslog messages from the new tickle code.

commit 2ff2290d54b750d6de26cd38903619bc8df5bb3c
Author: jmarcus <jmarcus>
Date:   Wed Dec 19 06:40:38 2001 +0000

    --with-msg-dir has been replaced with --with-message-dir

commit 714f5ad4367bda58ebfc40197c125e09c37e272b
Author: srittau <srittau>
Date:   Wed Dec 19 06:02:19 2001 +0000

    --enable-srvloc isn't "EXPERIMENTAL" anymore.

commit 7ca0ca824eab684550e67e65ce34f4697f71dc2f
Author: jmarcus <jmarcus>
Date:   Wed Dec 19 05:30:05 2001 +0000

    Close the SOCKSTAT pipe handle.

commit d0ab562449f3ea610abf62acabffb0f533ce69f3
Author: jmarcus <jmarcus>
Date:   Wed Dec 19 05:28:46 2001 +0000

    Retain compatibility with other platforms as well as provide some code
    cleanup.

commit 6d67b230f92259fb4738ed91a828161b0e8f558d
Author: jmarcus <jmarcus>
Date:   Wed Dec 19 05:26:23 2001 +0000

    Add some FreeBSD-specific patches.

commit 9108499532278c0f5d66c85ee5914101a8bea6c0
Author: jmarcus <jmarcus>
Date:   Wed Dec 19 01:21:31 2001 +0000

    Clean up the tickle handler comment.
    
    TODO: The tickle handler syslog message needs to come out at some point.

commit ee0a93d50dcb65de1c7779d557c65e5af4ea3362
Author: jmarcus <jmarcus>
Date:   Sun Dec 16 19:45:17 2001 +0000

    Remove the snprintf() argument from the sprintf() calls.  Thanks to
    Burkhard Schmidt for catching this.

commit bf29f3582fa45b35b386fdac282b06fe50677a46
Author: jmarcus <jmarcus>
Date:   Sun Dec 16 18:52:46 2001 +0000

    Certain platforms do not support snprintf() (e.g. Tru64).  Remove that
    function call, and replace it with sprintf() after verifying we aren't
    going to overflow srvloc_url.

commit cbcbac2cc60f86e0de6a6b49c95a5fe473ff1ed8
Author: srittau <srittau>
Date:   Sun Dec 16 18:39:34 2001 +0000

    Use conditional compilation for cnid_didname_verify instead of an #ifdef
    in the code.

commit 43474837cc1206a27bf803354ed425edd9d4705d
Author: srittau <srittau>
Date:   Sun Dec 16 18:37:57 2001 +0000

    Remove redundant AC_PREFIX_DEFAULT.

commit 943d9d5f669d4ffbe05c42dc7474cdf4b7e3474c
Author: srittau <srittau>
Date:   Sun Dec 16 18:37:20 2001 +0000

    Use new SLP checking macro.

commit f160b587417709fe9ad10de55470dc8077ba4deb
Author: srittau <srittau>
Date:   Sun Dec 16 18:36:44 2001 +0000

    Use SLP_LIBS and SLP_CFLAGS.

commit e003d559148d59818882c2c9fe29679a82538f60
Author: srittau <srittau>
Date:   Sun Dec 16 18:36:02 2001 +0000

    New macro to check for SLP.

commit 1ad6ff97b3747c75e567f28eba103e2f7e8bd758
Author: srittau <srittau>
Date:   Sat Dec 15 23:59:12 2001 +0000

    Added variable ACLOCAL_AMFLAGS. This should fix problems when aclocal is
    re-run by automake.

commit f09999a8db03917a6324cde8747d35ef7d44c1b1
Author: jmarcus <jmarcus>
Date:   Sat Dec 15 18:34:39 2001 +0000

    Revert 1.10.  This was pointless anyway.

commit 6edc8038858b1312dd37bf20e6035f1062bcfadb
Author: srittau <srittau>
Date:   Sat Dec 15 13:53:05 2001 +0000

    CLEANFILES = $(GENERATED_FILES) instead of mentioning them explicitly.

commit aefe1879265625c89bdd20cb2d9a569a191db90d
Author: srittau <srittau>
Date:   Sat Dec 15 13:45:38 2001 +0000

    Fix distribution of lp2pap.sh(.tmpl).

commit ac93ca02f39a4eeaaa029dd051c05789bc3178ff
Author: srittau <srittau>
Date:   Sat Dec 15 12:13:10 2001 +0000

    Applied patch from Joe to fix Solaris endian issues.

commit 2050bc901314591b74c773eb326aad7d6e82d2a6
Author: jmarcus <jmarcus>
Date:   Sat Dec 15 06:25:43 2001 +0000

    Add a new -timeout option to afpd.  This option specifies how many tickles
    should be sent before the server closes a AFPoTCP (DSI) session.  The default
    is 4 tickles 30 seconds apart, for a timeout of 2 minutes.  This option
    should be used instead of -tickleval to control timeouts.

commit 1a21ab50052cb951650bedfa0628bdd6b07e9d65
Author: srittau <srittau>
Date:   Fri Dec 14 23:01:47 2001 +0000

    Define the conditional COMPILE_CNID for use in Makefiles.

commit bac6dcdf019e46e913895399180a3f52e24acd38
Author: srittau <srittau>
Date:   Fri Dec 14 22:53:33 2001 +0000

    Removed the --with-cflags and --with-libs flags.

commit 55e67ecc3406f19c3cd0891d5b0e53034bfcee4c
Author: jmarcus <jmarcus>
Date:   Fri Dec 14 19:55:20 2001 +0000

    Change sleep() calls to select() calls.  Using sleep() effectively kills
    all SIGALRM handlers on Solaris.

commit 9a61514e736de1cc79c31b54c5d1c9e1dbc5ac66
Author: jmarcus <jmarcus>
Date:   Fri Dec 14 03:10:37 2001 +0000

    Hopefully fix a problem when multiple clients mount and unmount a volume
    repeatedly.  Also, make the cnid.recover file a little more fool-proof.

commit 626c61d5817586e8d94ce6159a61157675f09596
Author: jmarcus <jmarcus>
Date:   Thu Dec 13 15:15:05 2001 +0000

    Have log_archive return absolute pathnames to logs.  This saves us from doing
    a chdir to .AppleDB which can cause problems for other clients.

commit ffade4c6d78e42fbf3ff8bb0ffb3166267a1667b
Author: jmarcus <jmarcus>
Date:   Thu Dec 13 03:31:34 2001 +0000

    Clean up code after all the recent commits.

commit 77d65dee2a1304235b2a25afb778155c13779780
Author: jmarcus <jmarcus>
Date:   Thu Dec 13 02:39:37 2001 +0000

    Fix a bug where certain clients may sleep forever trying to connect to the
    server if for some reason a controlling afpd quit before removing the
    recover.cnid file.
    
    Also, do a full checkpoint when the last client disconnects, and remove any
    logfiles that might be lingering around.

commit b08b4fbf5dc26a61a151f90f68dfd117a113e2de
Author: jmarcus <jmarcus>
Date:   Wed Dec 12 09:16:20 2001 +0000

    Fix a potential bug if cnid_update is called directly after cnid_lookup.
    Also, improve performance when adding new CNIDs.

commit 58463cfa8552b0ff1e9eeedc5f587276456df55e
Author: srittau <srittau>
Date:   Tue Dec 11 00:38:50 2001 +0000

    --enable-fhs does now set mandir correctly.

commit 65a2c7c36b2427e53e16ba0653bcfa06d0cc3249
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 23:45:53 2001 +0000

    Fix braino in last commit.

commit cc8a18da6068ec4943f1946fd81e3be8fe071272
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 22:55:13 2001 +0000

    Re-enable previous DB corruption fix.

commit 2d6a00ccf5e7f2fda91b939e591fabf22c92b5fb
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 21:04:46 2001 +0000

    Fix compilation with db3 3.1.17.

commit cd1a15e63bb244ccd4b3efa3159c933de4ef6467
Author: srittau <srittau>
Date:   Mon Dec 10 20:16:43 2001 +0000

    Warning fixes.

commit 02adddf1878f70db1682d9a4b454bdeb0d62a5a3
Author: srittau <srittau>
Date:   Mon Dec 10 20:15:13 2001 +0000

    Cast argument of diatoupper and diatolower to (unsigned char).

commit 93deba5190a02dc24cc28c1f59ccbe46180661a9
Author: srittau <srittau>
Date:   Mon Dec 10 20:14:09 2001 +0000

    Don't use --with-cflags configure option in example, use CFLAGS variable,
    instead.

commit 627551e4f3029ffafaa6039e1ee630f1e3b04931
Author: srittau <srittau>
Date:   Mon Dec 10 20:12:11 2001 +0000

    Added cnid_didname_verify.1 to netatalk.undocumented.

commit 5cdf8b26297dd764b211311cbe4c3771f41bf363
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 18:39:00 2001 +0000

    Fix a bug in the new DB_RECOVER code that allowed for multiple clients
    to open the same DB ENV with DB_RECOVER.

commit 96ad3b0864bbff6a2b0216878b1be1ed4b034c61
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 07:34:39 2001 +0000

    Make dbname into a #define just to make it easier to spot if it ever
    needs changing.

commit b3219da2f0b474000f20c094522d368ccb0c3bff
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 07:29:09 2001 +0000

    Still compile if CNID DID scheme isn't selected.

commit 7168d3132e799481d1d9e8eb84ea499be111aff6
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 07:21:22 2001 +0000

    Initial import into CVS.

commit 355fd2265013f6bb223e27eb932775fe099adfa0
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 07:20:37 2001 +0000

    Fix up cnid_didname_verify so that it works with automake/autoconf.

commit 678edc93bd3769252781754e12c7feb22bdf5bf8
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 07:04:27 2001 +0000

    Add a utility to check the consistency of didname.db.  Using the stock
    db_verify that comes with Berkeley DB will fail since CNID DB uses a
    custom comparison routine to sort the didname BTree.

commit 93a330c28d780102bf255c66d38ddb27925f2df3
Author: jmarcus <jmarcus>
Date:   Mon Dec 10 03:51:56 2001 +0000

    Fix a problem with DB corruption when multiple clients open the same volume
    at the same time.  Also correct a possible deadlock when deleting files
    at the same time another client is copying files to the same volume.

commit 2e9d071f78f9d130e65d42433333f86e2167f203
Author: pooba53 <pooba53>
Date:   Fri Dec 7 18:18:04 2001 +0000

    Modified script so that spaces could be used in zone name and
    server's nbp name. <bobo@bocklabs.wisc.edu>

commit 0a3db9f40f197d4f84c703a8aa08a6d7c22e902c
Author: jmarcus <jmarcus>
Date:   Fri Dec 7 17:29:06 2001 +0000

    Make sure cnid.lock goes in the .AppleDB directory.  This was requested
    by Alistair Riddell <ali@gwc.org.uk>.

commit 9450de2c07d6411699ab5c8fb8b5dd233f953197
Author: jmarcus <jmarcus>
Date:   Fri Dec 7 17:13:17 2001 +0000

    Update with recent CNID commit.

commit 69a6f1efbb9866b50d55a972c85501820c600611
Author: jmarcus <jmarcus>
Date:   Fri Dec 7 16:58:45 2001 +0000

    Re-enable synchronous transactions in the CNID DB code.  This should improve
    performance.

commit 2f4ae01481843ce1281faa245b378f00a04ce4df
Author: jmarcus <jmarcus>
Date:   Tue Dec 4 16:57:42 2001 +0000

    Add patch to allow afpd to correctly share out NFSv3 mounts.  Effectively,
    we replace access() calls with stat() calls.  Thanks to
    Pierre Beyssac <beyssac@enst.fr> for the patch.

commit 58c36652831abfae201840042447e1aed8f0a952
Author: srittau <srittau>
Date:   Mon Dec 3 19:31:33 2001 +0000

    Fixed --with-ssl-dir.

commit 9fee078c146b92b4afa48d24c175e72439feeb8a
Author: jmarcus <jmarcus>
Date:   Mon Dec 3 15:50:06 2001 +0000

    Don't include time.h as it can be less portable.  Instead, include sys/time.h.

commit d394b4dce406af8787990501c4d31b497bef5fcd
Author: jmarcus <jmarcus>
Date:   Mon Dec 3 15:46:29 2001 +0000

    Tru64 does not define timeval in time.h.  Make sure we check for time.h and
    cma.h to add better portability.

commit da0eb42962821baabb58fd4ea5aad2c60ac13605
Author: jmarcus <jmarcus>
Date:   Mon Dec 3 05:15:02 2001 +0000

    Updated with afpd changes.

commit a7349ad51dd4d6e119ab7414fd19d6a8467f3f35
Author: jmarcus <jmarcus>
Date:   Mon Dec 3 05:03:38 2001 +0000

    BIG commit to improve code style using astyle as well as fix up CNID DB
    so it might actually fair in production.  Also, removed a compiler warning
    when an unsinged variable was being tested as being less than 0.

commit 0f449cb4e52be2ef8b7654b81c1ad5112f3249c3
Author: srittau <srittau>
Date:   Sat Dec 1 15:26:41 2001 +0000

    Removed checks for libs that cause problems on OpenBSD. Use new quota check.

commit be99aa7128914416433bd9c25aa2a2b8102f495f
Author: srittau <srittau>
Date:   Sat Dec 1 15:25:54 2001 +0000

    New quota check macro.

commit c3d42cbd6d85ef1bcc8f64a6200b92558c12e37c
Author: srittau <srittau>
Date:   Sat Dec 1 15:24:40 2001 +0000

    Remove obsolete --with-did configure option.

commit b5afc78535cd221712f6f509d43ea6468a1a02cf
Author: srittau <srittau>
Date:   Sat Dec 1 15:17:33 2001 +0000

    Minor cleanups.

commit 8b04473bc2114c4682fb1d0b04db63e44910636f
Author: srittau <srittau>
Date:   Sat Dec 1 15:15:38 2001 +0000

    Added pam-check.m4 to distributed files.

commit 59f4485162d039d4fcead9ddfa8b8cf915f18949
Author: srittau <srittau>
Date:   Fri Nov 30 05:52:36 2001 +0000

    Small change to the AC_MSG_RESULT of --with-did=hash.

commit 909bc15f01f95956fab52b09dc1c6653ff3a6733
Author: jmarcus <jmarcus>
Date:   Wed Nov 28 03:10:01 2001 +0000

    Fix a potential divide by zero problem.

commit 37d52a10e478a7ff1121286fe3bcb6300191f539
Author: srittau <srittau>
Date:   Wed Nov 28 01:02:21 2001 +0000

    Clean up --with-did check: "hash" is now an explicit argument.

commit cdce96fff9394cb48b770c0b3ecf61896769801b
Author: srittau <srittau>
Date:   Wed Nov 28 00:12:03 2001 +0000

    --with-cnid-db was now merged with --with-did. Document this.

commit ef0922d9c3fc9fbff65dcc230ffae8e8bc718cfb
Author: jmarcus <jmarcus>
Date:   Tue Nov 27 23:38:17 2001 +0000

    Big commit to improve database throughput and fix deadlocks.  This also
    cleans up the source code with a nice call to astyle.

commit 03e64d851db8b5d3b5044e4767b516705109c1eb
Author: jmarcus <jmarcus>
Date:   Tue Nov 27 22:40:52 2001 +0000

    Removed the --with-cnid-db configure option, and replaced it with
    --with-did=cnid.  This makes things more consistent, and avoids dual
    DID calculation schemes.

commit b19bf8b3569ca2fc8199b55306482f71db14dd89
Author: srittau <srittau>
Date:   Sun Nov 25 21:48:01 2001 +0000

    Forward-Ports from the stabilizing branch.

commit 31e9b972c51bd17132fcc179ff7a917e1c2ec066
Author: srittau <srittau>
Date:   Sat Nov 24 18:32:31 2001 +0000

    PAM cleanups, removed unused USE_SHADOWPW conditional.

commit 3898df018dc979b2a4bb4b689fb0cb62b8658ca8
Author: srittau <srittau>
Date:   Fri Nov 23 22:45:23 2001 +0000

    Don't add db3 flags to CFLAGS and LIBS, but use DB3_CFLAGS and DB3_LIBS
    directly, where they are needed.

commit 50309d3a7ded55bb24222f71236ed22fd5891fae
Author: srittau <srittau>
Date:   Fri Nov 23 07:35:12 2001 +0000

    Removed obsolete --with-config-dir option.

commit 3b78b393bfa122320266ea6e38c0d6cbd4c9baaf
Author: srittau <srittau>
Date:   Fri Nov 23 07:34:29 2001 +0000

    Removed obsolete file. Please modify your local acinclude.m4 file as described
    in doc/DEVELOPER if you're building for Tru64 or are creating tar-balls.

commit 5d2411301e1ef0b05ff22116ea84a22020054e1d
Author: pooba53 <pooba53>
Date:   Wed Nov 21 16:22:33 2001 +0000

    Fixed a typo in script.  pooba53 <bobo@bocklabs.wisc.edu>

commit 7b2e02d955b03dfeb244fd60fa6d1d3a0e042799
Author: srittau <srittau>
Date:   Tue Nov 20 19:06:46 2001 +0000

    Mostly reverted Dan's patch after a short discussion with him, but fixed
    the problem regarding --with-config-dir overwriting sysconfdir even if
    the former option wasn't even given.

commit 7c5e4c078d8b28c7f9e7920c2ecebb4dcd3ed41e
Author: srittau <srittau>
Date:   Tue Nov 20 17:07:18 2001 +0000

    Make module known as uams_dhx_pam as well as uams_dhx.

commit 589dde60225e1739c3ab090e7879681c5dc64b1b
Author: srittau <srittau>
Date:   Tue Nov 20 17:06:38 2001 +0000

    Don't print scary (but harmless) errors, when links in $(prefix)/sbin can't
    be removed in "make install".

commit 6b5293a2e1c19d4ca975e5d5deff0891eac2ca43
Author: srittau <srittau>
Date:   Tue Nov 20 17:03:30 2001 +0000

    Warning fixes.

commit 3940180f1d430d5676901bb8edd77daa4f134d49
Author: srittau <srittau>
Date:   Tue Nov 20 17:01:19 2001 +0000

    Document the problems with libtool and Tru64 and add the patch that needs
    to be applied to acinclude.m4.

commit b3a88b2960b0c34ed2e5391c7e815a6bc2ee46e6
Author: pooba53 <pooba53>
Date:   Tue Nov 20 16:04:23 2001 +0000

    Fixed file so --sysconfdir works correctly as well as adding code to
    capture --prefix=DIR and handle it correctly.

commit 397e7d9a6698b5d4ebaed7a900649087f85e2923
Author: pooba53 <pooba53>
Date:   Mon Nov 19 19:12:56 2001 +0000

     Modified distib/initscripts/Makefile.am so that SuSE init script ends up
    in /etc/rc.d instead of sbin/init.d.

commit 154da973fcb8ea9418f01868123eec12bb2775fe
Author: pooba53 <pooba53>
Date:   Mon Nov 19 19:09:42 2001 +0000

    Modify directory where SuSE initscript is. It was going to /sbin/init.d/ but should
    be in /etc/rc.d.  pooba53 <bobo@bocklabs.wisc.edu>

commit 585880a2f8a774aa4e5d2d5caf529a8321c1c554
Author: pooba53 <pooba53>
Date:   Mon Nov 19 13:47:33 2001 +0000

     modified config/AppleVolumes.default to not
              have the "/Home Directory" text in it as this is not the
              proper way of allowing default Home directory access.

commit dc499bbd25a6df74eb70e631ca72074bd0d18615
Author: pooba53 <pooba53>
Date:   Mon Nov 19 13:44:04 2001 +0000

    Modify the line that contains the tilde giving access to Home directories.

commit 51117538d8b327775baa3818def21abe5969a369
Author: srittau <srittau>
Date:   Sun Nov 18 14:22:33 2001 +0000

    Updated to current Debian work-in-progress.

commit 66e55732e4e456b38f3c23c4222cb06bae47691b
Author: srittau <srittau>
Date:   Sat Nov 17 23:47:22 2001 +0000

    Moved acinclude.m4 into macros directory.

commit 1ca3107894c2fc38655b98bf95e7bf4630c413d3
Author: srittau <srittau>
Date:   Sat Nov 17 12:56:47 2001 +0000

    Re-added global CFLAGS variable for now, since automake 1.4 is broken.

commit 66f59ce1af48ed63345ff3bd417686550bb701a7
Author: srittau <srittau>
Date:   Sat Nov 17 12:56:11 2001 +0000

    Warning fix.

commit 9b2b3c5ca60b00ac791aeb6e73f254a4a2f4880d
Author: jnewman <jnewman>
Date:   Fri Nov 16 21:51:05 2001 +0000

    Ooops.  Typo.

commit d8091c9462b56feba2ebc8f15e9f1f3f1f0f35ab
Author: jnewman <jnewman>
Date:   Fri Nov 16 20:11:00 2001 +0000

    Search directories in order of specificity.

commit b5ea25187c026cd9ad111877c38cc5a44bbfaec2
Author: jnewman <jnewman>
Date:   Fri Nov 16 20:10:10 2001 +0000

    *** empty log message ***

commit 83ee47f56c0f66b2dea2b6cfc24700ad68d62884
Author: srittau <srittau>
Date:   Fri Nov 16 15:45:15 2001 +0000

    Warning fixes (%m -> strerror(errno)).

commit 38e332da3a1dfa5bacb9941f853e02545782b48b
Author: srittau <srittau>
Date:   Fri Nov 16 15:44:31 2001 +0000

    Include $(top_srcdir)/include before everything else.

commit 38c4934c00886ee4598115e83507ef5e6c3576d0
Author: srittau <srittau>
Date:   Fri Nov 16 11:11:00 2001 +0000

    Fixed typo.

commit 1a88103b178e4387a530203c4a152501b34e6ae6
Author: jmarcus <jmarcus>
Date:   Fri Nov 16 06:42:45 2001 +0000

    Remove FreeBSD-ism from last commit.

commit ecb2e0f6dd2d0aa1d244ede5dbb68b21001b3c87
Author: pooba53 <pooba53>
Date:   Fri Nov 16 03:16:27 2001 +0000

    * Modified SuSE initscript, distrib/initscripts/rc.atalk.suse.tmpl

commit 9a718d016cd60f9655e6a10e4a7cc020f57521da
Author: pooba53 <pooba53>
Date:   Fri Nov 16 03:12:45 2001 +0000

    Modified SuSE initscript. pooba53 <bobo@bocklabs.wisc.edu>

commit 5d92ef1a497493e0b0d96fdd5f6b2c664e6d0228
Author: jmarcus <jmarcus>
Date:   Wed Nov 14 22:36:35 2001 +0000

    Fix db3 checking code to test for $trydb3dir/include/db3 before it tries
    anywhere else.  This fixes things on FreeBSD at least.

commit a3f338df0c8ffad5f349390f97dff0910ebd3ee6
Author: srittau <srittau>
Date:   Wed Nov 14 21:45:12 2001 +0000

    %m -> %s strerror(errno) (Warnings)

commit f0b03b9373b398abe585bab51fbeda93bd18bc96
Author: srittau <srittau>
Date:   Wed Nov 14 21:42:00 2001 +0000

    The help string of --with-message-dir said --with-msg-dir. (Addresses
    SF bug #46047.)

commit 0c91c72532d3b46cfee3b38444e7d8d2bc627332
Author: srittau <srittau>
Date:   Wed Nov 14 21:34:37 2001 +0000

    Fixed a wrong call to readvolfile(). Thanks to Daniel E. Lautenschleger
    <dan@bocklabs.wisc.edu> for pointing this out.

commit 37fc4d1241733fd13735cb1fc3dbf220b431abe4
Author: srittau <srittau>
Date:   Wed Nov 14 16:03:28 2001 +0000

    Added -ldb to DB3_LIBS...

commit fef91fad1eb3b1aebcc8b9c4319d08b3024ac461
Author: srittau <srittau>
Date:   Tue Nov 13 19:10:47 2001 +0000

    Removed LDSHAREDFLAGS since it's not used, anyway.

commit d48b0584581d2edcb681a5f4c631012a989031ca
Author: srittau <srittau>
Date:   Tue Nov 13 19:06:09 2001 +0000

    Use new macro AC_PATH_DB3.
    
    Replaced LDFLAGS by LIBS.
    
    Longer description for --enable-overwrite.

commit ab6faadf33b6f10ae3ebaa91775aba893386e991
Author: srittau <srittau>
Date:   Tue Nov 13 19:03:13 2001 +0000

    New macro: AC_PATH_DB3

commit e3c0abde2bca201c5116a25c150df0a3a650b755
Author: srittau <srittau>
Date:   Tue Nov 13 15:46:37 2001 +0000

    Ignore another generated file.

commit 362c62cd45e6100542be104c2b52ffb3083d40a7
Author: srittau <srittau>
Date:   Tue Nov 13 15:43:41 2001 +0000

    Minor fixes and improvements.

commit 7ccc1958a6d4538a3af18bb55ca4f8a7c7e31504
Author: rufustfirefly <rufustfirefly>
Date:   Tue Nov 13 15:01:38 2001 +0000

    patch to fix checking of hostname

commit 451b3faff56988ef5d82b3c3f2e5f7e33fca91ce
Author: rufustfirefly <rufustfirefly>
Date:   Tue Nov 13 15:00:53 2001 +0000

    sync

commit 6b25dfdb44f459617ffba07be6e2a73191541cc5
Author: srittau <srittau>
Date:   Tue Nov 13 08:47:29 2001 +0000

    Fixed my scrwed last commit.

commit 8fff728a295fddc77576470f87c33520841521f5
Author: srittau <srittau>
Date:   Sat Nov 10 18:31:06 2001 +0000

    Null-terminate strings after strncpy.

commit 512dad8fe0fd00157438432927bc976061b8c63d
Author: srittau <srittau>
Date:   Sat Nov 10 18:30:21 2001 +0000

    Identify modules as uams_pam as well as uams_clrtxt.
    
    Removed #ifdef USE_PAM guards. This is now handled by the Makefile.

commit 889c7e116c3dbe66484e876e8f89212573a3e217
Author: srittau <srittau>
Date:   Sat Nov 10 17:51:10 2001 +0000

    Log message "uam : Loading..." changed to "uam: loading...". This fits the
    other log messages.

commit 437d03a2c7f876765e0ecb524367d86521e4206d
Author: srittau <srittau>
Date:   Sat Nov 10 16:00:07 2001 +0000

    OpenBSD: Removed comment that :BINDIR: must be substituted by the real
    directory path, since rc.atalk.bsd is now auto-generated.

commit 657c1eb319cf7b52d4ce4b31502b7b7ad6b0661c
Author: srittau <srittau>
Date:   Sat Nov 10 15:59:17 2001 +0000

    Added explanation that MacOS X's network trash handling is broken.

commit d34b42bc10b873c81107a809bab30c271a2c4a22
Author: srittau <srittau>
Date:   Sat Nov 10 15:58:19 2001 +0000

    Auto-generate rc.atalk.bsd.

commit 6e51c22e57a8b4a20930e31292900da1c2a899f8
Author: srittau <srittau>
Date:   Fri Nov 9 18:51:10 2001 +0000

    Removed automake supplied file.

commit 510066895a262f98f55f305ac0b670e050972522
Author: srittau <srittau>
Date:   Fri Nov 9 18:49:30 2001 +0000

    Updated from libtool 1.4.2.

commit 88680a717ee46fc16a9671fea25b3baa01c6a5a0
Author: srittau <srittau>
Date:   Fri Nov 9 11:42:35 2001 +0000

    Ignore more generated files.

commit a88d32196d4042eb48e3b9db823088e0f910a79e
Author: jmarcus <jmarcus>
Date:   Mon Nov 5 16:06:32 2001 +0000

    Include the dbenv path in some of the syslog messages so that administrators
    can easily track down problem volumes.

commit f5297b2df3905212f4c87d5100fd88247f40d4d1
Author: jmarcus <jmarcus>
Date:   Sun Nov 4 22:13:50 2001 +0000

    Add a static variable to track the exclusive lock.  Seems Macs like to open
    the database numerous time per thread of control.  This will keep the
    DB_RECOVER flag from being used more than it should.

commit 2c60aa2f3ba667a3b4f0ae69d6fcc81d83389619
Author: jmarcus <jmarcus>
Date:   Sun Nov 4 17:34:13 2001 +0000

    Re-added code to enable on-the-fly database recovery.  This was originally
    there, but removed as it caused database corruption when multiple afpd
    processes tried to open the same database with the DB_RECOVER flag.  Now,
    we check to make sure we have an exclusive lock, and if we do, we open
    the database with the DB_RECOVER flag.

commit 1a52c152fd86c4864b8bc680b7225395b4b6b666
Author: jmarcus <jmarcus>
Date:   Sun Nov 4 16:30:52 2001 +0000

    Add note about GNU make being required, and fix the make calls.

commit e067137b7feb27139878e9d4c2217161b3b55036
Author: srittau <srittau>
Date:   Sat Nov 3 14:29:44 2001 +0000

    Added @CFLAGS@ to lib*_la_CFLAGS variables.

commit ec93cc4b4ddc3c9b3a275d41c0de32a8d8450716
Author: srittau <srittau>
Date:   Sat Nov 3 14:16:35 2001 +0000

    Clarifications by Glenn Trewitt <glenn@trewitt.org>.

commit 1afa3e0e168788de24003cf46ab6fb959717bdd4
Author: srittau <srittau>
Date:   Sat Nov 3 14:05:36 2001 +0000

    Added doc/REAME.hidden-items.
    
    Formatting changes.

commit c15848931eccca7d3696fe455c392a211734f7ad
Author: srittau <srittau>
Date:   Sat Nov 3 14:05:10 2001 +0000

    New document by Alistair Riddell <ali@gwc.org.uk>.

commit 294413dafe7898d510c1d87ae83316540a3112bb
Author: srittau <srittau>
Date:   Sat Nov 3 13:59:46 2001 +0000

    Use CLEANFILES variable instead of manually overriding the clean rule.

commit ff618959efb0fd7d84c11c8557b047fa41d9f84d
Author: srittau <srittau>
Date:   Sat Nov 3 13:59:14 2001 +0000

    Removed non-existing option --with-lastdid and moved its description to
    the description of --with-did.
    
    Indention fixes.

commit eaa1a3b4f5c91aaa79f297d4afd4ae0f31341137
Author: srittau <srittau>
Date:   Sat Nov 3 13:56:52 2001 +0000

    Added @CFLAGS@ to CFLAGS variable.

commit 0d2b5067298b49aeb60ce3fd7e48d2266aa3e6b0
Author: pooba53 <pooba53>
Date:   Thu Nov 1 03:11:12 2001 +0000

    Fixed compile bug in bin/afppasswd/Makefile.am causing SuSE compile problems.

commit 5b1d1e9903d8dedfcde475b6e676081537cca749
Author: pooba53 <pooba53>
Date:   Thu Nov 1 03:06:58 2001 +0000

    Modified Makefile.am so it compiles properly with SuSE distro.

commit 5bd4cba246d91a7d98e83c9f97643c1fa6d14e15
Author: jmarcus <jmarcus>
Date:   Tue Oct 30 18:38:29 2001 +0000

    Fix a minor aesthetic thing.

commit ee56f701e553309548a72515cf9ec8ba3fa8b5c3
Author: jmarcus <jmarcus>
Date:   Tue Oct 30 17:53:45 2001 +0000

    Another day, another PAM patch.  This time, PAM should really _not_ be
    enabled if PAM is not on the system.

commit e8992bb6f3d08e389d91595b230f5119093c1eb7
Author: jmarcus <jmarcus>
Date:   Mon Oct 29 18:00:46 2001 +0000

    (prog name)_CFLAGS does not appear to be supported by automake (at least not
    1.4x).  Change this to be CFLAGS.

commit a0eee0f54edb8774319b865c7cde0d43cb04eff6
Author: srittau <srittau>
Date:   Sun Oct 28 12:09:17 2001 +0000

    Removed SSL stuff from global variables.

commit 192a42433491d95cac9451f18992b57867dc12da
Author: srittau <srittau>
Date:   Sun Oct 28 12:08:55 2001 +0000

    Re-added SSL use to uams_randnum.

commit c1ee9d48e91669493d8ff7137ac6889c2dc3412d
Author: srittau <srittau>
Date:   Sun Oct 28 12:02:23 2001 +0000

    Link uams_pgp against SSL_LIBS, but not uams_randnum.

commit 7af46000620297547e9ef6bfc6dcdabe1a1c51a3
Author: srittau <srittau>
Date:   Sat Oct 27 13:17:38 2001 +0000

    Fixed include dir option.

commit 32d61c7d32e94b99d42645a854ca82fcb0beb536
Author: srittau <srittau>
Date:   Sat Oct 27 13:17:08 2001 +0000

    Added "macros" as include directory.

commit 5d27b3bada1d7f23935f4653267aef71225900be
Author: srittau <srittau>
Date:   Sat Oct 27 13:16:48 2001 +0000

    Added macros directory.

commit c8d4f62d3f5e7511e004b245daf1ca0746311c79
Author: srittau <srittau>
Date:   Sat Oct 27 13:16:03 2001 +0000

    Moved macro AC_PATH_SSL into its own file.
    
    Added macros/Makefile to generated files.

commit c0c72c9b0f8627317391456f518fe7050a9f0ca9
Author: srittau <srittau>
Date:   Sat Oct 27 13:14:40 2001 +0000

    Ignore generated files.

commit 072fd23d42abe464a11dc46deea9f5b6dfa1d668
Author: srittau <srittau>
Date:   Sat Oct 27 13:13:59 2001 +0000

    First autoconf macro.

commit c2a0eb98e1e8069ee0cbeced06c4ce70650f0848
Author: srittau <srittau>
Date:   Sat Oct 27 13:08:47 2001 +0000

    Removed afppasswd and its man page from the Debian dist.

commit 5f9514a68e0a1ede9b50609c34aecdacec3a66d5
Author: srittau <srittau>
Date:   Sat Oct 27 13:07:16 2001 +0000

    Changed macro name from AM_PATH_SSL to AC_PATH_SSL.

commit debe0360153bb06a77901c87921a27a790138c3e
Author: srittau <srittau>
Date:   Thu Oct 25 20:52:55 2001 +0000

    Removed now useless guard that prevented compilation if USE_DHX wasn't
    defined.

commit ed8440850d91077324f26e988f7f8c1886caafd6
Author: srittau <srittau>
Date:   Thu Oct 25 20:52:25 2001 +0000

    uams_randnum will now only get built if USE_DHX is turned on. Explicitly
    link uams against SSL where needed.

commit 10acff39fb9ba4cec7b2ab480639502274b4b134
Author: srittau <srittau>
Date:   Thu Oct 25 20:42:55 2001 +0000

    Removed special code that would get compiled if UAM_RANDNUM was defined.
    This is now done in Makefile.am (where stuff like this belongs).
    
    Warning fix.

commit da907660d6024c53bcfb79890fedc96e4522a827
Author: srittau <srittau>
Date:   Thu Oct 25 20:37:04 2001 +0000

    Moved the SSL checking code into its own function, cleaned it up, and
    added the substitutions SSL_CFLAGS and SSL_LDFLAGS.

commit 6cd374dbd80fdde678ab2d553971f093a5eef418
Author: srittau <srittau>
Date:   Thu Oct 25 20:33:32 2001 +0000

    Compile afppasswd only if USE_DHX is turned on.
    
    Add SSL_CFLAGS and SSL_LIBS to afppasswd compilation.

commit 0758c0ce03ae79bf94570bf8a37515f77dd89618
Author: srittau <srittau>
Date:   Wed Oct 24 16:25:24 2001 +0000

    Most of this source file was commented out if UAM_DHX was not defined.
    This isn't necessary anymore, since we do now do that in Makefile.am.

commit 42c28eee96433501748acf3ad64385199757a994
Author: srittau <srittau>
Date:   Wed Oct 24 16:21:33 2001 +0000

    Don't #define SHADOWPW explicitly if SOLARIS is also #defined. This is
    the task of configure.in and config.h.

commit 26a88f955c009827ce2abf957c580741e466f7d7
Author: srittau <srittau>
Date:   Wed Oct 24 16:19:12 2001 +0000

    Removed a possible off by one buffer overflow.

commit f2e48831bb8a57ffd04193bf4ef8410a747f0e6a
Author: srittau <srittau>
Date:   Wed Oct 24 16:18:00 2001 +0000

    Cleanup --with and --enable help strings.
    
    Removed variable compile_dhx. It just duped compile_ssl.
    
    Removed explicit setting of compile_ssl on *BSD. If SSL exists on these
    systems, it will be found. Also, this broke --disable-ssl on these systems.

commit 34ce7aa317ac91a87df04c84f8132e20c98a819d
Author: srittau <srittau>
Date:   Wed Oct 24 14:34:33 2001 +0000

    Warning fixes.

commit 3ee3e229907404195da6c42d36ca76e2c7e1db0a
Author: srittau <srittau>
Date:   Wed Oct 24 14:33:25 2001 +0000

    Removed apple_rm(1), apple_cp(1), and apple_mv(1) from netatalk.undocumented.

commit 3d5dbb3c27918efe8410ed880cb833049ebea8f9
Author: jmarcus <jmarcus>
Date:   Wed Oct 24 04:15:19 2001 +0000

    Update with latest patch.

commit 9b613c03ae9415f9676dd37d602d88fed79cf86f
Author: jmarcus <jmarcus>
Date:   Wed Oct 24 04:13:22 2001 +0000

    Patch to allow for read-only advisory locks (thanks to
    Miro Jurisic <meeroh@MIT.EDU>).

commit 46d1c4b029cb8718cee44a48a7551261d17e1988
Author: rufustfirefly <rufustfirefly>
Date:   Tue Oct 23 13:44:35 2001 +0000

    patch from Edmund Lam to allow perms masks

commit c1f507e6d3dd723150191c74fe7abd5fc4c35ad9
Author: jmarcus <jmarcus>
Date:   Mon Oct 22 03:40:18 2001 +0000

    Add some more debugging code.

commit a6023d76dce586e4c68110a76bcc490e9b239138
Author: jmarcus <jmarcus>
Date:   Sun Oct 21 17:34:33 2001 +0000

    Add *.1 to the ingore list to keep cvs from complaining when things are
    built.

commit 06ac901de31a9d8272af749b9bf16d09640c82c5
Author: jmarcus <jmarcus>
Date:   Sun Oct 21 17:14:22 2001 +0000

    Fix problem with -ldb3 being used instead of -ldb.

commit 21452018d8a54033246d6a5e4f105edf93e581f1
Author: jmarcus <jmarcus>
Date:   Sun Oct 21 08:38:30 2001 +0000

    Readd header comments.

commit 39c01712d52e6cbe0148e7569949a08552ef5c6c
Author: jmarcus <jmarcus>
Date:   Sun Oct 21 08:35:03 2001 +0000

    Update with latest CNID commit.

commit 7ed55356c3bb57b1132d4678fdf800b19e5b4d73
Author: jmarcus <jmarcus>
Date:   Sun Oct 21 08:33:33 2001 +0000

    Big commit to improve CNID DB resiliency.  Most of the source files have
    been rewritten to improve diagnostic output and transaction throughput.
    CNID DB also obeys the DEBUG #define so --enable-debug will turn on
    debugging messages to LOG_INFO.

commit 6da2206e60aed9985a11f87ca4332e2658f534ef
Author: jmarcus <jmarcus>
Date:   Sat Oct 20 00:40:38 2001 +0000

    Fix db3 detection for people using db3 3.3.x built from source from
    SleepyCat.  Thanks to Jonathan Newman <jnewman@mudpup.com>.

commit 78a71a5c0e9b53ffedb860c65b0c22f09a3a1363
Author: lancel <lancel>
Date:   Fri Oct 19 16:10:30 2001 +0000

    Added Brandon Warren to contibutors.
    Karen A Swanberg's patches to INSTALL and FAQ.

commit b585b86cf6ca62528fde154e6857396b42402801
Author: jmarcus <jmarcus>
Date:   Fri Oct 19 02:40:47 2001 +0000

    Updated with achfile fix.

commit 9628ead30fd34cd3dc972cbb63179fe82ca4f5f2
Author: jmarcus <jmarcus>
Date:   Fri Oct 19 02:39:07 2001 +0000

    Fix problem with "corrupt resource fork" error on littleendian machines.
    Thanks to Brandon Warren <bwarren@u.washington.edu>.

commit 21e23534ad3589f0cd81f1325ac7a46f6327323d
Author: jmarcus <jmarcus>
Date:   Fri Oct 19 02:37:01 2001 +0000

    Update with latest CNID fix.

commit 11261da18f9362f731168d5f7016fe420e5e12a4
Author: jmarcus <jmarcus>
Date:   Fri Oct 19 02:35:47 2001 +0000

    Fix problem with dancing icons and afpd crashes.

commit 27b53561f188edb46b4923cc6384419f8accc399
Author: jmarcus <jmarcus>
Date:   Thu Oct 18 02:31:56 2001 +0000

    Update with deadlock fix.

commit 1c239dd9247283014c8e2d819dd9c58487289caf
Author: jmarcus <jmarcus>
Date:   Thu Oct 18 02:30:45 2001 +0000

    Fix up the debugging diagnostics some.

commit efa54ad689f33b2b4c7ea68522dbfb7a0f58476a
Author: jmarcus <jmarcus>
Date:   Thu Oct 18 02:28:56 2001 +0000

    Fix deadlock problem by shifting some of the transaction elements.  Also
    cleaned up the debugging code to make the messages slightly more useful.

commit c8898bbda98562f8d1571f2cc710aa40a8ef268e
Author: lancel <lancel>
Date:   Wed Oct 17 07:08:28 2001 +0000

    Organized, indexed and numbered.

commit 35e794023d18a4a4d273d5dee0eea89bef2d78ae
Author: lancel <lancel>
Date:   Wed Oct 17 05:53:35 2001 +0000

    Up-to-date

commit 2775d8f8ee40ef61a853ffa1bc8feb137c064706
Author: lancel <lancel>
Date:   Wed Oct 17 05:53:10 2001 +0000

    Small type changes.

commit 57c1a8901b85714e45882a0e9174b26c417a2551
Author: lancel <lancel>
Date:   Wed Oct 17 05:52:19 2001 +0000

    Added apple_mv and apple_rm man pages.

commit 8170b9968ce387f2028035e69391d113120bfabc
Author: lancel <lancel>
Date:   Wed Oct 17 05:51:23 2001 +0000

    Added apple_mv and apple_rm to GENERATED_MANS list for variable
    substitution.

commit 6777ec12f6cb48e854e677115ce28d77a2dede55
Author: lancel <lancel>
Date:   Wed Oct 17 05:21:52 2001 +0000

    Added error checking against multiple files to one file. Eliminated
    depreciated special variable. $ARGV($#ARGV) to $ARGV(-1)

commit 677bc53f2e55854ef1b928a26a92558f27d8edd1
Author: lancel <lancel>
Date:   Wed Oct 17 04:07:42 2001 +0000

    up-to-date

commit 398fbc5f6ecb0c1dfac2e8e89c0b35860d93ed56
Author: lancel <lancel>
Date:   Wed Oct 17 03:22:14 2001 +0000

    Fix variable interpolation. $(f) to $$f. Difference between autoconf
    and shell variables. f is initialized in a shell loop in the Makefile,
    so it isn't subject to autoconf variable substitutio, as in $().

commit 77def2e9d6648bee852be641a80726317751dee4
Author: lancel <lancel>
Date:   Tue Oct 16 19:48:16 2001 +0000

    Added a section on getting Netatalk.

commit 4bbe03455bfb318e2c13da6b237083a7c4a90ab3
Author: lancel <lancel>
Date:   Tue Oct 16 19:47:30 2001 +0000

    Corrected all doc references.

commit c87683bdc778417e2cd98b04c79f72eac6fae785
Author: srittau <srittau>
Date:   Tue Oct 16 19:24:48 2001 +0000

    Added README for OpenBSD by Karen A Swanberg <swanberg@tc.umn.edu>.

commit c95281e0a7f2f0530fd3bdf612f76cb33e37088c
Author: lancel <lancel>
Date:   Tue Oct 16 19:10:32 2001 +0000

    Added a reference to the DEVELOPER file for external sources.

commit 80896cd7525db3adef9239aee09ae1d946ce5282
Author: lancel <lancel>
Date:   Tue Oct 16 18:35:34 2001 +0000

    Added a reference to the new README.platforms.

commit 769cdf18d0625e9cc7e1cd7f60d5f19297de4669
Author: lancel <lancel>
Date:   Tue Oct 16 18:28:05 2001 +0000

    New stuff.

commit 20c4f94b04c46d82b74c8c18bfa2f4c86ea7b059
Author: lancel <lancel>
Date:   Tue Oct 16 18:27:27 2001 +0000

    Updated perl.
    
    Fixed a failing test where $to wasn't a directory, but
    didn't check that $from was only a single file, result file to file
    always failed.
    
    Fixed the .AppleDouble variable being sent to the split_dir_file
    function, it was mistakenly sending $from instead of $to, result cp
    $from $from, same file.

commit d6430a98cf0551c49ff89b5717967aacbbb12b0e
Author: lancel <lancel>
Date:   Tue Oct 16 18:22:41 2001 +0000

    New man page with variable substitution.

commit a0917b3d2ad35dee74fd29681a2ad5360a13cf51
Author: lancel <lancel>
Date:   Tue Oct 16 18:21:48 2001 +0000

    Modified to allow variable subs in man pages.

commit 66e036f8aa0ac96af37d87efe3a9251a24fd4220
Author: lancel <lancel>
Date:   Tue Oct 16 04:49:08 2001 +0000

    Small typo change.

commit 0361e8a7ae33dc29080b041e222c2c3100d964d0
Author: srittau <srittau>
Date:   Tue Oct 16 02:25:58 2001 +0000

    Updated docs list.

commit cd55dc108b19db5ad5b26200d7d59331e6493f10
Author: srittau <srittau>
Date:   Tue Oct 16 02:12:26 2001 +0000

    Removed unused and empty file.

commit 93d454e9019695caee4d6258ea3603438d744485
Author: srittau <srittau>
Date:   Tue Oct 16 02:08:22 2001 +0000

    Added changelog entry for 1.5pre8-2.

commit abdbe13b60ed0e8f0ff32cca33a6fe0054edca26
Author: srittau <srittau>
Date:   Tue Oct 16 02:06:21 2001 +0000

    Changed my e-mail address. Also, I'm not maintaining RPMs.

commit 6a2c9ca2cf42993832c086c83d32181618d6a0b6
Author: srittau <srittau>
Date:   Tue Oct 16 01:54:42 2001 +0000

    PAM cleanups.

commit a8f727d1d88313b7f1ef6fc20dcd93896ddda6b1
Author: srittau <srittau>
Date:   Tue Oct 16 01:51:14 2001 +0000

    Ignore another generated file.

commit b6b9d0c4cb822e846de7687e601610386aff1fcb
Author: lancel <lancel>
Date:   Mon Oct 15 23:18:43 2001 +0000

    Fix up file list for EXTRADIST.

commit e53a685a89842d0c9d1c05b9b77a976ee56b4401
Author: lancel <lancel>
Date:   Mon Oct 15 23:14:36 2001 +0000

    Merged into README.platforms and deleted.

commit dce2fb38943c2675460b900c1466f73b5b44f323
Author: lancel <lancel>
Date:   Mon Oct 15 23:05:50 2001 +0000

    Initial Entry

commit e287b56d3ded3c4722179397fa6bfa897165f663
Author: lancel <lancel>
Date:   Mon Oct 15 23:05:05 2001 +0000

    Added setpassword Q.

commit be44c1159aaf5e80948a5fb1808f72167fa80dcb
Author: lancel <lancel>
Date:   Mon Oct 15 22:15:38 2001 +0000

    Added Sebastian Rittau and Chris Blake to documentation credits.

commit 055c31c355816d1f56c79c43ba73967ec8e7e2b2
Author: lancel <lancel>
Date:   Mon Oct 15 22:02:17 2001 +0000

    Opps, spelling . . .

commit 17447fa254b0719e083a188eeb7fdd1f77751609
Author: lancel <lancel>
Date:   Mon Oct 15 21:59:53 2001 +0000

    Updated contributors list in the CONTRIBUTORS file.

commit ac30ce509ab7c5e1dd764212ad1bbc566f1f4e5d
Author: lancel <lancel>
Date:   Mon Oct 15 21:44:42 2001 +0000

    Updated contributors list in the AUTHORS file.

commit 14aa45f618a9791f894d5c6bcdb3f3d4c8045bf3
Author: srittau <srittau>
Date:   Mon Oct 15 21:41:24 2001 +0000

    Updates about the required compiler and make programs as well as the SIA
    integration.

commit 358266f406f75cd3e27aae86aa57355c94d52257
Author: srittau <srittau>
Date:   Mon Oct 15 21:39:43 2001 +0000

    Removed file which wasn't used and isn't necessary anymore.

commit a52bd00b70412a5e7689908cc8ddb457b4eb8e32
Author: srittau <srittau>
Date:   Mon Oct 15 21:37:21 2001 +0000

    Removed obsolete parts.

commit 2c7d8912a0781c34627faff25f65052ed531f72d
Author: lancel <lancel>
Date:   Mon Oct 15 17:03:20 2001 +0000

    Couple of format changes.

commit ab4e77055a95f79ba03ccec8f526cd33a990c8d7
Author: lancel <lancel>
Date:   Mon Oct 15 16:28:24 2001 +0000

    Added Karen A Swanberg's FAQ's

commit 58a6d40342e77e3e9669691193238e0274e3cacf
Author: lancel <lancel>
Date:   Mon Oct 15 05:10:43 2001 +0000

    Added basic instructions. Added BDB3 information.

commit 6c0d51307a95accbd4edd439d2deb721fee743bf
Author: jmarcus <jmarcus>
Date:   Mon Oct 15 02:06:13 2001 +0000

    Remove extra debugging cruft.

commit 4958e61263a9cd34f3902f370771952c0459a1f4
Author: jmarcus <jmarcus>
Date:   Sun Oct 14 03:14:41 2001 +0000

    Change truncate to remove for proper logfile removal.

commit 9cd48881ce99f74a8f428283c47baea8384dae85
Author: jmarcus <jmarcus>
Date:   Thu Oct 11 19:10:15 2001 +0000

    Add -lpam to AFPD_LIBS and PAPD_LIBS.  afpd and papd need to be linked
    against PAM if the UAMS are going to work.

commit da089b64c825eb52f59447cc45ad1d4e59855483
Author: srittau <srittau>
Date:   Thu Oct 11 17:11:55 2001 +0000

    Symlink fix.

commit c4e90fb5753948d04cee93f2257d3ff7a0e2ae29
Author: jmarcus <jmarcus>
Date:   Wed Oct 10 20:19:18 2001 +0000

    Properly add -lpam to LDFLAGS (thanks, Sebastian).

commit ec37176058f262cf45d8102a470b343c67879bef
Author: jmarcus <jmarcus>
Date:   Wed Oct 10 18:29:19 2001 +0000

    In order to link against PAM, it helps to have -lpam in LIBS.

commit 32f557a0aec44bcbbe0e32aa1cb7ff380eb1478f
Author: srittau <srittau>
Date:   Wed Oct 10 16:08:18 2001 +0000

    Fixed a build problem caused by the renaming of the Makefile.

commit 6b7dfc2891ae52f0f17257e335626deba6301936
Author: srittau <srittau>
Date:   Wed Oct 10 16:05:37 2001 +0000

    Fixed a C++ style comment. Pointed out by Robert Cohen
    <robert.cohen@anu.edu.au>.

commit ba9cb681929c0b83e685923ac6f43b808eceb951
Author: srittau <srittau>
Date:   Wed Oct 10 15:26:05 2001 +0000

    Fixed typo.

commit 63e6807ee29cc3c3a68df15db8e0ed5f86197934
Author: jmarcus <jmarcus>
Date:   Wed Oct 10 07:21:41 2001 +0000

    The -e argument to test doesn't work for all implementations of test.
    Replace this with a -f option.

commit 32df0a1cb2047003b95c594cae6f2af03886bed1
Author: jmarcus <jmarcus>
Date:   Wed Oct 10 02:52:15 2001 +0000

    Duh, after all my s/errno/rc/ hacking, I make the same mistake.

commit 6f20bda849430a4a80105dd67dd913813710d0ee
Author: jmarcus <jmarcus>
Date:   Wed Oct 10 02:27:06 2001 +0000

    Fix some more CNID DB bugs:
    
    * The .AppleDB contents should no longer show up in the share window
      when connecting to more than one share from a server.
    * memset all DBT structures to 0 each time they're used to avoid any
      EINVAL failures.

commit 7739306ec1e4d48fe024cf0a30629d7338655bd5
Author: srittau <srittau>
Date:   Tue Oct 9 13:17:09 2001 +0000

    Ignore generated files.

commit 0d4745082f52d268f68b0636e8f8f88e09e877bc
Author: srittau <srittau>
Date:   Tue Oct 9 13:15:11 2001 +0000

    Stripped PAM path from PAM modules.

commit 3d28176526e440daf79bab1d979633f8af68ca78
Author: jmarcus <jmarcus>
Date:   Tue Oct 9 04:05:09 2001 +0000

    Updated with my latest commits.

commit 37c13ebddb0bbc4e68cddeb5a50836ac96a45245
Author: jmarcus <jmarcus>
Date:   Tue Oct 9 04:03:33 2001 +0000

    Fix a problem with setting perms on directories.  Thanks to
    Glenn Trewitt <glenn@trewitt.org>.

commit 482c5ab6be88890d78cc166f6021e35592cedad7
Author: jmarcus <jmarcus>
Date:   Tue Oct 9 04:00:04 2001 +0000

    Fix problem with PAM being forced on users by default.

commit 8e73c26eb736352f057fc8f59fee9d0b32c23c8d
Author: srittau <srittau>
Date:   Sun Oct 7 11:49:55 2001 +0000

    Changed default creator from text to unix binary.

commit 285ebf8960b0d6c8ec1bf88d2ea3fef5f92afc82
Author: srittau <srittau>
Date:   Sun Oct 7 11:25:34 2001 +0000

    Readding missing patch.

commit dba9f083515f5e2d2ff02ea737353d41f5f67ce1
Author: srittau <srittau>
Date:   Sun Oct 7 11:24:41 2001 +0000

    Sync with current Debian version.

commit b8dab22667e6f80a6d30413076a54e00b2d281d5
Author: srittau <srittau>
Date:   Sun Oct 7 11:16:20 2001 +0000

    Removed old files.

commit a170d9261d60d9e5b6dd0328e408a26f2a4a0684
Author: srittau <srittau>
Date:   Sun Oct 7 10:51:27 2001 +0000

    PAM compilation fixed.
    
    Fixed some --enable and --with functions.

commit efa7cc6fc8e9c75a03747d4667a7b714c3a24456
Author: srittau <srittau>
Date:   Sun Oct 7 10:50:50 2001 +0000

    automake 1.5 fixes

commit def4d5a9e76ae3eeb56897fd39a57e2f4c34e3b9
Author: srittau <srittau>
Date:   Sat Oct 6 15:57:26 2001 +0000

    Fix --enable-overwrite:
    
     * Moved the main functionality from configure.in to config/Makefile.am.
       I think it belongs in the latter file.
     * No need to duplicate the list of files to install in configure.in.
       This was misleading and confusing and could lead to bugs. (I wondered
       today, why changes to config/Makefile.am didn't work.)
     * --disable-overwrite does now work as one would expect (i.e. it forces
       configuration not to be overwritten).
     * netatalk.pamd will not get installed in $(pkgconfdir)/netatalk.
     * We do now have a proper "check whether configuration files should be
       overwritten... [yes/no]" message.

commit edf684c975f50cc3d8f9aee6c70f261aba83e794
Author: srittau <srittau>
Date:   Sat Oct 6 12:27:38 2001 +0000

    Quoted some variables with {}.

commit 8de306f0378ed8e4a13825ff72f932b9a309a7d3
Author: rufustfirefly <rufustfirefly>
Date:   Fri Oct 5 13:13:29 2001 +0000

    version release 1.5pre8

commit dcd18aac52693b5267c06f463558ac4209774eb4
Author: rufustfirefly <rufustfirefly>
Date:   Thu Oct 4 20:50:16 2001 +0000

    bumped version to 1.5pre8

commit 6dd943076fec8a2c951a2527f711b4e80d530eb6
Author: srittau <srittau>
Date:   Thu Oct 4 20:33:08 2001 +0000

    Make user home directory visible by default.

commit 6712c072716cfd3099cf9c522144e6a16b0dd33d
Author: srittau <srittau>
Date:   Thu Oct 4 20:31:59 2001 +0000

    Don't install netatalk.pamd as netatalk config file.
    
    Warning fixes.

commit 6eb8c791618e8542e24c374bdd31a4010c0427bb
Author: srittau <srittau>
Date:   Thu Oct 4 20:21:18 2001 +0000

    Fixed description of the ca flag (courtesy of Jonas Smedegaard
    <js@debian.org>).

commit 56955ba6426ba178bc688f51e3da0167d1b6ac56
Author: jmarcus <jmarcus>
Date:   Thu Oct 4 15:50:58 2001 +0000

    Revert previous commit.  Apparently, this does break libtool 1.4.  We
    libtool 1.3 users will have to suffer.

commit 576fc301fd4e0ec20554c082b0d9e591f66f4542
Author: jmarcus <jmarcus>
Date:   Wed Oct 3 22:33:39 2001 +0000

    Fixed make problem on systems with libtool 1.3.x.  This could be a bad commit,
    so it could be backed out real quick.

commit 3ee8f24fb1a6db785cb450acd5b1c322e44be43f
Author: jmarcus <jmarcus>
Date:   Wed Oct 3 22:02:16 2001 +0000

    FINALLY fix that damn "AUTHORS: Can't execute" error.

commit 15b96bb18b44774cdf8613540e397112e84b64be
Author: jmarcus <jmarcus>
Date:   Wed Oct 3 19:51:03 2001 +0000

    Fix bug where afpd would erroneously return AFPERR_NOOBJ when it encountered
    a directory that could not be read or searched.  This fixes a problem with
    trashcan handling.

commit 5827f049c6491e2ea0ef7e65fec350b94f9d0ded
Author: jmarcus <jmarcus>
Date:   Wed Oct 3 18:22:28 2001 +0000

    Fix long-standing bug with PAM configuration.  PAM, as always, is enabled
    by default, but can now be explicitly enabled by specifying the --with-pam
    configure argument.  It can be disabled by specifying the --without-pam
    configure argument (as well as --with-pam=no).

commit e9342efe346d62daa1413f6c28ebed6e237fb785
Author: jmarcus <jmarcus>
Date:   Fri Sep 28 14:51:45 2001 +0000

    Fix the log_archive function call so that it is compatible with db 3 3.3.x.

commit ccc6cc8c08020bd8d3353c0f45c4ee5b8a1f8356
Author: jmarcus <jmarcus>
Date:   Thu Sep 27 15:51:26 2001 +0000

    Add support for internal deadlock detection.

commit e954ed891de2a3c23607e78f3ce52bed57a680bc
Author: jmarcus <jmarcus>
Date:   Sun Sep 23 19:08:23 2001 +0000

    More s/errno/rc/ fixes and code cleanup.

commit 9e60a632bf422b15326ee5d944299c0eaa7380fd
Author: jmarcus <jmarcus>
Date:   Sun Sep 23 18:47:52 2001 +0000

    Autoconf comment additions.

commit 5b380a53a393cf26b4c2826dd5d146923fa45d90
Author: jmarcus <jmarcus>
Date:   Sun Sep 23 18:43:44 2001 +0000

    DB_VERSION comment additions.

commit 99ef3462b2cb74f1fb22adeae823b42291ae9d01
Author: jmarcus <jmarcus>
Date:   Sat Sep 22 07:12:10 2001 +0000

    Replaced EAGAIN with DB_LOCK_DEADLOCK.

commit 668a84dbc6cad302cd56040e488ec1eebaf0bee6
Author: jmarcus <jmarcus>
Date:   Sat Sep 22 04:44:48 2001 +0000

    Some cleanup.

commit b8c4592b95e7c2267c74f2381861db47273aa8e1
Author: jmarcus <jmarcus>
Date:   Sat Sep 22 04:43:19 2001 +0000

    Fix db3 compilation on Linux.

commit 0fe667e7345400ec27ecbee2afeb9a4ebe34bd6a
Author: rufustfirefly <rufustfirefly>
Date:   Fri Sep 21 19:05:13 2001 +0000

    small cleanup of changelog

commit 0ca53b287fd2cbf944c481e3217c1d4f54e8562a
Author: jmarcus <jmarcus>
Date:   Fri Sep 21 17:39:20 2001 +0000

    Re-enable codepage translations
    (thanks to Egon Niederacher <niederacher@fh-vorarlberg.ac.at>).

commit 0e312ff2cbc61632ad924ee92d740a1bfa2c4b33
Author: jmarcus <jmarcus>
Date:   Fri Sep 21 15:14:06 2001 +0000

    Updated with my latest CNID DB changes.

commit 9c9a423d94ffebae0b74808977e36ae1dd5ea303
Author: jmarcus <jmarcus>
Date:   Fri Sep 21 15:09:54 2001 +0000

    Whoops, forgot to declare rc in cnid_get.c.

commit 15850ee48091ba2ebb53de20d32fdc50fa2cefa0
Author: jmarcus <jmarcus>
Date:   Fri Sep 21 15:08:32 2001 +0000

    Fix a bunch of problems with database contention and corruption.  Note:
    the database no longer starts with the DB_RECOVER flag.  This caused
    problems with multiple afpd processes accessing the same database.

commit bf9b49d18bf16d23387e4f05a631d7929e70d8d7
Author: jmarcus <jmarcus>
Date:   Thu Sep 20 06:07:12 2001 +0000

    More instances of s/errno/rc/

commit 4dccd1a73f51cdf627170970cc2c4db74c5a498a
Author: jmarcus <jmarcus>
Date:   Wed Sep 19 23:17:22 2001 +0000

    Fixed some problems in the SRVLOC code.  OS 9 doesn't like a port number
    in the URL.

commit 866220e847dd2544e8b31fc2584c9fb0490b5144
Author: jmarcus <jmarcus>
Date:   Wed Sep 19 17:47:55 2001 +0000

    Updated for my cnid_add.c fix.

commit fed253a89cf0192f35ab0d2be7778819c65c0ade
Author: jmarcus <jmarcus>
Date:   Wed Sep 19 17:44:39 2001 +0000

    Fixed a problem with looking up rootinfo.  You can't do sizeof on a pointer
    address!

commit 88b6b9b95f1662ad3907e5e14a69d16cf861d655
Author: jmarcus <jmarcus>
Date:   Wed Sep 19 03:11:28 2001 +0000

    Update with the afp_options.c code fix.

commit 9fdbb36341be0fb49fefdc31583366372b2f9bb4
Author: jmarcus <jmarcus>
Date:   Wed Sep 19 03:08:40 2001 +0000

    Added a missing break in the CLI options parsing code.  Thanks to
    Edmund Lam <epl@unimelb.edu.au> for catching this.

commit f1c2f1b1a3f55ca6b6ae87b3fcb2562038b613cc
Author: jmarcus <jmarcus>
Date:   Tue Sep 18 22:21:46 2001 +0000

    Added much-needed db3 version checking code.  CNID DB should work
    "out of the box" on db3 3.1, 3.2, and 3.3 (other problems aside).

commit 489863ad7db40ebb1a05d12ec434c8e1d49c250c
Author: jmarcus <jmarcus>
Date:   Tue Sep 18 16:06:06 2001 +0000

    Removed uams_guest from the default list.  It is no longer in the default
    UAM list in afpd.

commit a4c30254c7e10bc79b42de8c97769af3feb4556d
Author: rufustfirefly <rufustfirefly>
Date:   Mon Sep 17 13:41:24 2001 +0000

    SLP support added (Joe Clarke)

commit 8d353dceceb5a890efee9c4ebf80184c0dcc80f5
Author: rufustfirefly <rufustfirefly>
Date:   Fri Sep 14 14:31:57 2001 +0000

    updated

commit 2a54ce057d1437d7cf9516bf088ca844e0a0badd
Author: rufustfirefly <rufustfirefly>
Date:   Fri Sep 14 14:31:10 2001 +0000

    fix from Robert Cohen <robert.cohen@anu.edu.au> for missing endif

commit aced45942092656e25e69c661b978ab69508ce0e
Author: jmarcus <jmarcus>
Date:   Thu Sep 13 04:27:26 2001 +0000

    Fix malloc problem trying to obtain interface list when no atalkd.conf
    file exists.

commit e81f18a35a77e82d84e19300dff682a81f4f2a6e
Author: uhees <uhees>
Date:   Wed Sep 12 19:13:16 2001 +0000

    fixed erroneous printf format arguments enclosed in 's instead "s.

commit 28e594efce359027ecb2fa2a580b8e1324c4ded2
Author: jmarcus <jmarcus>
Date:   Tue Sep 11 00:30:26 2001 +0000

    Now that we're only incremeting one at a time, make length reflect that.

commit ed43f5332f887bb4256d2d4f79360dfdd01e9950
Author: jmarcus <jmarcus>
Date:   Mon Sep 10 21:20:30 2001 +0000

    Increment the new interface list by one each time we reach its maximum size.
    This avoids having to malloc a chunk of memory, only to free it later.

commit 172739027facf9e7626d03ab495944c30ce69119
Author: rufustfirefly <rufustfirefly>
Date:   Mon Sep 10 18:27:14 2001 +0000

    added version reporting for the main daemons with a -v switch

commit 271306440bf07d6f7d3d2e0fa9393eafd52b8962
Author: rufustfirefly <rufustfirefly>
Date:   Fri Sep 7 13:44:37 2001 +0000

    endian checking/memcpy fixes

commit 4b777c7af436135108b2391c6d5a230a5d69e480
Author: rufustfirefly <rufustfirefly>
Date:   Thu Sep 6 20:00:59 2001 +0000

    AC_HEADER_STDC autoconf change

commit f4c70982f27d940f0428140a18ac9dbf9cc92ed5
Author: rufustfirefly <rufustfirefly>
Date:   Thu Sep 6 19:04:39 2001 +0000

    autoconf POSIX.1 sys/wait.h check

commit 0918f69ed3d4e17b0bfac6f96764ca0dafa63a47
Author: jmarcus <jmarcus>
Date:   Thu Sep 6 14:43:05 2001 +0000

    Updated with the CNID changes I made yesterday.

commit e4479468928e1282777b5f36740973dc51e17208
Author: rufustfirefly <rufustfirefly>
Date:   Thu Sep 6 14:36:47 2001 +0000

    resync ChangeLog to repository

commit f4eba9ea4982253410be634dfe5c7de6195170d2
Author: rufustfirefly <rufustfirefly>
Date:   Thu Sep 6 14:36:34 2001 +0000

    added errno.h and sys/errno.h to list of includes to check (??)

commit 9876c655809747b1d24710903a913229ab5e403a
Author: jmarcus <jmarcus>
Date:   Wed Sep 5 21:57:32 2001 +0000

    Comment out the DBENV->open with DB_JOINENV flag.  This only seems valid
    if you're using db3 3.2 or later.  Since most Linux users are using 3.1.17,
    this may cause more problems than it fixes.

commit b8110d08350e991244fd666c8260445f360b4821
Author: jmarcus <jmarcus>
Date:   Wed Sep 5 21:53:29 2001 +0000

    Fix up the comments on why I use rc instead of errno.

commit d7f01e0c4fe87038440ba8c5a8bc3758245ae247
Author: srittau <srittau>
Date:   Wed Sep 5 18:38:23 2001 +0000

    Removed AFILE_VERSION and ACHFILE_VERSION constants.

commit f9400b60c6a1006a043613617eba1ce07b2a5161
Author: rufustfirefly <rufustfirefly>
Date:   Wed Sep 5 13:42:16 2001 +0000

    quick, dirty, Sun hack to seed openssl 0.9.6 ... FIX THIS

commit 860c33bc64197094edaaef60103b07820b678ac4
Author: rufustfirefly <rufustfirefly>
Date:   Wed Sep 5 13:30:16 2001 +0000

    add veto_file() prototype (Edmund Lam)

commit 83760c588d06c6afe057fd48bd6db98d9e157065
Author: rufustfirefly <rufustfirefly>
Date:   Tue Sep 4 13:55:00 2001 +0000

    properly checks for db3 headers (Joe Clarke)

commit 1633aa342734017ff317e48f4c122831bb92d1d9
Author: rufustfirefly <rufustfirefly>
Date:   Tue Sep 4 13:52:45 2001 +0000

    "veto files" patch (Edmund Lam)

commit e8555c6dec0053648fa0a0cacdf47511707acd46
Author: rufustfirefly <rufustfirefly>
Date:   Tue Sep 4 13:49:54 2001 +0000

    patch for overwriting DIDs and misc FreeBSD db3 stuff (Joe Clarke)

commit 462f987fe962a56824aab3d35a7eae1d8575400b
Author: rufustfirefly <rufustfirefly>
Date:   Fri Aug 31 14:58:48 2001 +0000

    Edmund Lam's compilation patches for non-CNID support

commit 17d7e0416ac7724f7b8d2c525583aea177bc97f8
Author: srittau <srittau>
Date:   Thu Aug 30 19:02:11 2001 +0000

    Replaced $^ by $<.

commit 8e4a6fba100a201421729c45d300ccc27622cc98
Author: srittau <srittau>
Date:   Thu Aug 30 13:17:25 2001 +0000

    Make the dia*map's array of type int instead of unsigned char. This
    should fix warnings, since we can now use char's all over the place
    instead of the ugly unsigned char's.

commit 8cd5c5a9a1d739c274dce4867fe50cf3055e527a
Author: srittau <srittau>
Date:   Thu Aug 30 13:14:53 2001 +0000

    Warning fixes.

commit ab4083dba539f20fa8394a8c367f0e9e6a177959
Author: srittau <srittau>
Date:   Thu Aug 30 13:13:30 2001 +0000

    Comparison operator is "=", not "==" in the "test" command.

commit 1107fbbd97b6ab2eb770ccb0d56e357cb61bfaef
Author: srittau <srittau>
Date:   Thu Aug 30 00:46:55 2001 +0000

    New upstream version and a lot of changes.

commit de2df1a59fd26b9615f64e93611cf408194a0d30
Author: srittau <srittau>
Date:   Thu Aug 30 00:46:19 2001 +0000

    Removed libssl-dev from build depencies.

commit 2896717aec9095b3562bec96c68b24ed4b7226ca
Author: srittau <srittau>
Date:   Thu Aug 30 00:45:37 2001 +0000

    Updated to current licenses.

commit 2ae0969976da38e64839af7ebe138c71990b3301
Author: srittau <srittau>
Date:   Thu Aug 30 00:45:06 2001 +0000

    Update file lists.

commit 86a29e803bff754dbf76db5e8b7bf736aa25b8bd
Author: srittau <srittau>
Date:   Thu Aug 30 00:44:47 2001 +0000

    Make --without-ssl-dir work.

commit d36cc36404e193916c4780848cf485d2204ff805
Author: srittau <srittau>
Date:   Thu Aug 30 00:44:30 2001 +0000

    Cleanup. Use debhelper v3.

commit 2356f4624227358eace791bd4ff92ea1aac72760
Author: srittau <srittau>
Date:   Thu Aug 30 00:06:41 2001 +0000

    Fixed a bug that could lead to segfaults.

commit 632f6a85e45af5846388c51f91f3e28786d37167
Author: lancel <lancel>
Date:   Tue Aug 28 07:13:03 2001 +0000

    Add configure file protection.

commit 23241a97632f2ea87d2fedc7b2a7bd4b6511aa82
Author: uhees <uhees>
Date:   Mon Aug 27 15:26:16 2001 +0000

    removed unneeded cnid_lookups; fixed a bug in afp_createid.

commit 30a9c01b3da09d2885b33136882b0fc30f6620d8
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 27 13:56:18 2001 +0000

    finally released 1.5pre7

commit 275550d63f76fdfda07b756cbb88d5dbadb5f017
Author: srittau <srittau>
Date:   Sat Aug 25 10:29:44 2001 +0000

    Expanded support archs list.
    
    --enable-lastdid -> --with-lastdid
    
    Added note that libtool 1.4 is required. Also bumped up links to the
    latest versions of the other autotools.

commit e30f20a036dcbb7b66f62fb114d1df2daedcb6fb
Author: srittau <srittau>
Date:   Wed Aug 22 13:48:08 2001 +0000

    Depend on the timeout package.

commit f3a952071f6f19a6ca3ac2f83cf7915a43462107
Author: srittau <srittau>
Date:   Wed Aug 22 13:46:49 2001 +0000

    Updates from -pre6-7.

commit a0e0440ea24cebee857ac88d2e98f866bc6026ac
Author: srittau <srittau>
Date:   Wed Aug 22 13:42:27 2001 +0000

    Made new -pre6 release.
    
    -pre7 release will close a bug.

commit e247416c66a69b9d875fdea570dd760b9f5ea1b7
Author: srittau <srittau>
Date:   Wed Aug 22 13:31:59 2001 +0000

    Ugh. Removed superfluous files.

commit f389aefde68b425e552f83ea49e392771035ccf3
Author: srittau <srittau>
Date:   Wed Aug 22 13:29:19 2001 +0000

    debhelper v3 fixes.

commit a462959f7ef5d8d61018048644f55b8963d32719
Author: srittau <srittau>
Date:   Wed Aug 22 13:29:05 2001 +0000

    Specify paths explicitly.

commit 9f1c5a65f99ca67c330ed7ff6ce6e40f17db0fec
Author: srittau <srittau>
Date:   Wed Aug 22 13:25:05 2001 +0000

    Use -export-dynamic LDFLAG.

commit 9321f0e56815f556eda8640b19fe1b314be0e567
Author: rufustfirefly <rufustfirefly>
Date:   Wed Aug 22 13:04:35 2001 +0000

    removed ltconfig

commit f85aa85b412fccb2b4d7308bd1a5be225ffcd1a6
Author: srittau <srittau>
Date:   Wed Aug 22 13:03:34 2001 +0000

    distrib/debian/TODO and distrib/debian/VERSION were removed.

commit 3459e12e8a4db8ebaafaef07eac55cc92aeabc2c
Author: srittau <srittau>
Date:   Wed Aug 22 12:57:33 2001 +0000

    Typo.

commit 02eab761d6336e890b8ff78c1a4f1257aa6753d4
Author: srittau <srittau>
Date:   Wed Aug 22 12:52:17 2001 +0000

    Typos fixed. Patch by Alistair Riddell <ali@gwc.org.uk>.

commit bac9b712a03714f4d354d8ccc237dddbc562915d
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 21 20:56:43 2001 +0000

    updated DB3 check in configure.in

commit 271b33b974c06e1708cbb9235e10a36b62a9819b
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 20 16:38:49 2001 +0000

    set to ignore ~ files

commit 4cb3d2a645ff585a25362dcff32535c1760bf74f
Author: uhees <uhees>
Date:   Sat Aug 18 13:20:30 2001 +0000

    fixed a comment

commit 554784daee67c90d291b65992c8f8bb78fe8324b
Author: uhees <uhees>
Date:   Sat Aug 18 07:45:46 2001 +0000

    fixed a nasty bug in strncasecmp (n > 0).

commit 575da551ee1fffe663a9fd0e78c69caf5302e6a6
Author: srittau <srittau>
Date:   Fri Aug 17 18:49:22 2001 +0000

    Conditional did not work as expected. Removed for now.

commit f25cd179d90776ff9e758e872aae66bb54bb9e84
Author: srittau <srittau>
Date:   Thu Aug 16 17:19:24 2001 +0000

    Removed my personal TODO file from CVS.

commit caedbcd6920324bdbe3e79ebaaf7ada47c82215e
Author: srittau <srittau>
Date:   Thu Aug 16 17:18:27 2001 +0000

    DH compat level 3.
    
    Doc changes.

commit a9ef5b0e52ba4089e5dec44dd4b2cf94742a8a8e
Author: srittau <srittau>
Date:   Thu Aug 16 17:13:58 2001 +0000

    Don't compile and link (but distribute) empty source files.

commit 48ca7e23c7a7a69f9abe79a41744aa8a17ebaf5a
Author: srittau <srittau>
Date:   Thu Aug 16 17:12:45 2001 +0000

    Doc contribution by Chris Blake <Chris.Blake@anu.edu.au>.

commit 3d543291067873099d018fb02d7ab36661ea01e1
Author: uhees <uhees>
Date:   Thu Aug 16 14:47:35 2001 +0000

    see log.

commit acc0ebc6f5b0c5a1f5bae51773471fe4c5685f31
Author: srittau <srittau>
Date:   Thu Aug 16 14:45:36 2001 +0000

    Finally removed -rdynamic flag. Please add a configure check if it's
    needed somewhere.

commit 684c02b6e8b5345097b8db47cce56f9a5c25c1f7
Author: srittau <srittau>
Date:   Thu Aug 16 14:41:57 2001 +0000

    Corrected flock check.

commit 9f16f9ae4fb0aeb28279597b02786c0f8af5ad81
Author: uhees <uhees>
Date:   Thu Aug 16 14:30:29 2001 +0000

    in db result checking replaced EAGAIN by DB_LOCK_DEADLOCK; fixed a potential transaction problem in cnid_add.

commit d98bec2ac5e6b54c4d0aa3d44163563bf76ae927
Author: srittau <srittau>
Date:   Wed Aug 15 17:56:00 2001 +0000

    Conditionally compile flock.c.

commit 4f1328f95e1a89776b15cfdba0d25770a7831fa4
Author: srittau <srittau>
Date:   Wed Aug 15 15:29:14 2001 +0000

    Fix.

commit 7563ed42c28a9797ea4a2283ec45134972191e05
Author: srittau <srittau>
Date:   Wed Aug 15 02:17:06 2001 +0000

    Warning fix.

commit 3078b8874d2c56ec522f564556b503a58840c6fd
Author: srittau <srittau>
Date:   Wed Aug 15 02:15:53 2001 +0000

    Warning fixes.

commit cb2678ae5d0c7faaea8cef44565901a98a275ad9
Author: srittau <srittau>
Date:   Wed Aug 15 02:15:30 2001 +0000

    Changed prototypes of strdiacasecmp and strndiacasecmp to be more
    sensible.

commit 276338bd624ca762451abd3e3bb784b222b42d79
Author: srittau <srittau>
Date:   Wed Aug 15 02:10:38 2001 +0000

    Tru64 warnings fixes.

commit b908d7ebc7c375a38e2862dc596127d58e4bd714
Author: srittau <srittau>
Date:   Wed Aug 15 01:45:00 2001 +0000

    DEC C fixes.

commit 8550bec11f7f23440d56bbb236a37d072b5cc1c4
Author: srittau <srittau>
Date:   Wed Aug 15 01:41:05 2001 +0000

    Removed duplicate bprint() function (see util/bprint.c).

commit 3287e3ece12494ce5caf17d0fbbc4eaf86df47a3
Author: srittau <srittau>
Date:   Wed Aug 15 01:39:39 2001 +0000

    Tru64 warning fixes.

commit 0801bae0eb9869adc8e58d228fbd573d1f19153d
Author: srittau <srittau>
Date:   Wed Aug 15 01:37:34 2001 +0000

    Warning fixes.

commit f8829c391bc9c558ed9116371e15b56dd79f2df8
Author: samnoble <samnoble>
Date:   Wed Aug 15 01:21:01 2001 +0000

    In afp_mapname and afp_mapid we now convert the id we send/receive
    to network byte order.  This should fix a long standing bug in
    the admin functionality.

commit 278809058115146b1d66956ebbc4cd143bb6909f
Author: samnoble <samnoble>
Date:   Wed Aug 15 01:13:25 2001 +0000

    Changed the datatypes in uidgidset to be uid_t and gid_t rather than int.

commit f5258ea02c1c37403571cd6a86c4e66a4aab1c10
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 14 14:00:08 2001 +0000

    CNID/DID patch from Uwe Hees (moderately tested)

commit 711f2d775fd55eaeaceff0d8d21172cb881551e9
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 13 14:34:52 2001 +0000

    added --force to libtoolize (again)

commit 2a8bff60f6752a660a8fbe35fb7bc8161ee29413
Author: srittau <srittau>
Date:   Sat Aug 11 11:47:22 2001 +0000

    Warning fixes.

commit 07f9b71aec32299c2880982f468a92f455f026ef
Author: srittau <srittau>
Date:   Sat Aug 11 11:45:00 2001 +0000

    libtool 1.4 changes.

commit 52692ea902279f5c1fc32b83ee87933ead6abc69
Author: srittau <srittau>
Date:   Thu Aug 9 20:42:19 2001 +0000

    Typos.

commit f6a2cfa8a16428c93b6c020e6ec1c01b92b2f614
Author: samnoble <samnoble>
Date:   Thu Aug 9 16:54:57 2001 +0000

    Merged changes from meeroh@mit.edu to fix the kerberos uam build process

commit 2864ce7b1c9ea37a4e58238e2e4a31d41afefe1c
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 9 13:29:59 2001 +0000

    fixed ridiculous typo. egg on me.

commit ce9bff73d9b6b3813fcf7fa0e9f6bcca169efeea
Author: rufustfirefly <rufustfirefly>
Date:   Wed Aug 8 18:12:30 2001 +0000

    sourceforge patch

commit 535c6fe8486f08b7a76a037ae33e83027d80f996
Author: srittau <srittau>
Date:   Mon Aug 6 22:14:56 2001 +0000

    Added missing Makefiles.

commit da20d847d26b0a15a70ea1ffa464e34433178caf
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 6 13:39:30 2001 +0000

    slight comment cleanup

commit 3f6b0e538a019d766b1a4dfb2c04bd9f7a9cc5b5
Author: srittau <srittau>
Date:   Fri Aug 3 22:47:36 2001 +0000

    Include old Makefile for reference. They should be removed in the long
    term and their rules integrated into the Makefile.am's.

commit 089e56776951bfbdaa8e7d36aa73da84e0e9da1d
Author: srittau <srittau>
Date:   Fri Aug 3 22:33:13 2001 +0000

    automake'ed. This will probably break something, but well...

commit 52d26c77949ef995ad17583e1aa43434c06a6cba
Author: srittau <srittau>
Date:   Fri Aug 3 22:13:53 2001 +0000

    Cleaned up libatalk.a creation.

commit 767548a01151cdb331d341f299c6f58b58b4ab12
Author: srittau <srittau>
Date:   Fri Aug 3 22:13:28 2001 +0000

    bcopy -> memcpy, bzero -> memset

commit 20ff799010f95913358cad305bcdf6b0964832fb
Author: srittau <srittau>
Date:   Fri Aug 3 22:12:54 2001 +0000

    Changed command variables from type int to unsigned int. Fixes warnings
    and maybe a serious bug on Tru64.

commit b0bb726a495a1a8eb5f0be5b1610f75dac025716
Author: srittau <srittau>
Date:   Fri Aug 3 22:11:23 2001 +0000

    Restored -rdynamic linker flag for now.

commit 8c1bd6333e853cb1a76d207e58bf4178528ad421
Author: srittau <srittau>
Date:   Fri Aug 3 22:09:57 2001 +0000

    Made a variable const.

commit 1b94df78ade7b1bef0bceb2349ca708520bb536a
Author: srittau <srittau>
Date:   Fri Aug 3 22:08:29 2001 +0000

    Removed -rdynamic LDFLAG.

commit 053d97856375c16bcc25fab9971b7d0f1ee29bab
Author: srittau <srittau>
Date:   Fri Aug 3 22:07:22 2001 +0000

    bcopy -> memcpy

commit 56c3d72de6483338b73db86d1eee69de3c1121f4
Author: srittau <srittau>
Date:   Fri Aug 3 22:04:23 2001 +0000

    Fix problems with INSTALL and README files.

commit fec5529fcc80dc2f8507b8ae1a625089b104dfd9
Author: srittau <srittau>
Date:   Tue Jul 31 19:59:35 2001 +0000

    Neue manpage.

commit fd371714895adf541884a0f3f83b746a1253fec9
Author: srittau <srittau>
Date:   Tue Jul 31 19:49:02 2001 +0000

    Warning fixes.

commit d11dbe849df672f2a193747bf1ba282568d5924a
Author: srittau <srittau>
Date:   Sat Jul 28 13:10:47 2001 +0000

    Inserted changelog of version 1.5pre6-6.
    
    Added --enable-last=did to ./configure options.
    
    Added manpage timeout(1).
    
    Removed /etc/netatalk/netatalk.conf from Debian distribution.

commit c0adfa917318408d5aa2e7f0105a47efe4eb4100
Author: srittau <srittau>
Date:   Sat Jul 28 12:00:28 2001 +0000

    Added a missing "&&".

commit feffd832f0395730623b7d25167733f672cccc0f
Author: srittau <srittau>
Date:   Sat Jul 28 11:55:51 2001 +0000

    pam.d directory is now created.

commit a488278665b42010409d408901705b2b3f7a4c8d
Author: srittau <srittau>
Date:   Fri Jul 27 17:28:03 2001 +0000

    Fixed typo (exho vs. echo)

commit 657b4aba31adf82f6b2da9fc0c90efde411bca3d
Author: rufustfirefly <rufustfirefly>
Date:   Fri Jul 27 14:01:49 2001 +0000

    updated documentation for timelord

commit 45df29094e06d7c02eb25be5ad04c1ae0c6edf70
Author: srittau <srittau>
Date:   Fri Jul 27 07:04:39 2001 +0000

    Added missing man page.

commit 2fa2fabdc22c56d735c4002dbfd0b9b7d8cc23ab
Author: srittau <srittau>
Date:   Thu Jul 19 16:17:23 2001 +0000

    timelord(8) does now have a man page, too.

commit 004fc8064bf9ff03430a6383f6f63460c483041e
Author: srittau <srittau>
Date:   Thu Jul 19 16:14:23 2001 +0000

    Obsolete.

commit b57435ac03ce77a2560751991858154a889115c7
Author: srittau <srittau>
Date:   Thu Jul 19 16:13:13 2001 +0000

    netatalk-conf.1 does now have a man page.

commit e7bc5a0c2479b284ebfd9e1173de6b45fc8187fa
Author: srittau <srittau>
Date:   Thu Jul 19 16:07:49 2001 +0000

    Added changelog entry of 1.5pre6-5.
    
    1.5pre7 will have updated config.{guess,sub}.

commit 5ffeed4a2b928711df24d8ffe8b24d50f49ff398
Author: srittau <srittau>
Date:   Thu Jul 19 16:05:12 2001 +0000

    No need to remove use of mktemp() in etc/atalk/file.c
    
    To do: security audit.
    
    To do: use dh_autotools when this is available.

commit 1465fa2fc71523c1c41386b6f39a61ab3168b18f
Author: srittau <srittau>
Date:   Thu Jul 19 14:12:15 2001 +0000

    Removed obsolete makefiles.

commit 5b9776d381e4d9a6dd49b768a21d7ba0d6150b1f
Author: srittau <srittau>
Date:   Thu Jul 12 23:18:12 2001 +0000

    Corrected one field size (u_int32_t instead of int - may differ on
    64bit archs).

commit 7317acbdefb70df59d31223b2ae693956663a3b3
Author: srittau <srittau>
Date:   Thu Jul 12 23:14:18 2001 +0000

    Fixed.

commit ab6a39913b0bc27eb38a595f0cff8c875cecdfbf
Author: srittau <srittau>
Date:   Thu Jul 12 23:13:42 2001 +0000

    Corrected man page name.

commit a3849a49a7db7dd44ce072147dc1e7437a8e6520
Author: rufustfirefly <rufustfirefly>
Date:   Thu Jul 12 18:51:11 2001 +0000

    patch to make Tru64 ltconfig proper (Burkhard Schmidt)

commit 86d05a11ce7005511a708fba7f57ccb4c2240abd
Author: lancel <lancel>
Date:   Tue Jul 10 18:39:34 2001 +0000

    Changed ppd url in manpage

commit 2831b25972288705b1446c9707e528ffcd3843f6
Author: rufustfirefly <rufustfirefly>
Date:   Tue Jul 10 13:38:13 2001 +0000

    *** empty log message ***

commit e3d26c66135bd1a74add381067c5d912f779e1a4
Author: morgana <morgana>
Date:   Sat Jun 30 17:42:51 2001 +0000

    "Unquote" ppd values by removing leading and trailing quote character. This should fix bug #426141.

commit a4772fa50378fb23354fc515ca237d9957f77ed7
Author: rufustfirefly <rufustfirefly>
Date:   Fri Jun 29 14:14:46 2001 +0000

    massive commenting/autoconf changes

commit 744aba2a76a1fc13571104ec6cb9a79b360a0a66
Author: uhees <uhees>
Date:   Wed Jun 27 18:26:53 2001 +0000

    reverted a change (removing /lib/security) that I accidently committed.

commit bc015252db7202137e1f392020bb3bafaa6a68ba
Author: uhees <uhees>
Date:   Wed Jun 27 18:22:19 2001 +0000

    fixed a typo in uams_guest.c.

commit 12ab04431c06d9f8107b3596c768bf50b156ba88
Author: rufustfirefly <rufustfirefly>
Date:   Wed Jun 27 14:53:16 2001 +0000

    FORCE_UIDGID fixes (it compiles properly now with that enabled, but untested)

commit 73678aed001f1d711c0f473528ebc0839e4020ef
Author: morgana <morgana>
Date:   Wed Jun 27 03:38:05 2001 +0000

    Modified etc/papd/file.c to fix binary printing in papd.

commit 09a1a5b66a05cbf3ae5cf93838b4ee7dc3cd5283
Author: morgana <morgana>
Date:   Wed Jun 27 03:33:14 2001 +0000

    Modified markline() to return 1 on success instead of *linelength.  This should fix remaining problems with binary printing.

commit 71628558aa460046a27bf46f8e9928a7febdb381
Author: srittau <srittau>
Date:   Tue Jun 26 23:58:32 2001 +0000

    s/:RESDIR:/:ETCDIR/g (pointed out by Olaf Hering <olh@suse.de>)

commit 453e3b2c6bba101082ac1ddd9e0d850621e311a4
Author: srittau <srittau>
Date:   Tue Jun 26 23:54:59 2001 +0000

    Segfault fixes by Olaf Hering <olh@suse.de>.

commit 26bb0c677f792d1b3870e84d8a5980f25134b034
Author: srittau <srittau>
Date:   Tue Jun 26 23:52:30 2001 +0000

    Obsolete.

commit b9989b20398076c8701571e8d835e5fba47e05aa
Author: srittau <srittau>
Date:   Tue Jun 26 23:52:12 2001 +0000

    Removed support for debian specific VERSION file.

commit 094a25fb6ced5e9a220e068f6c08b9e2ef3f0dce
Author: srittau <srittau>
Date:   Tue Jun 26 23:51:14 2001 +0000

    Corrected version number.

commit b602395f784bc608e737bd1f1b30b2e940ca58c8
Author: srittau <srittau>
Date:   Tue Jun 26 23:50:55 2001 +0000

    To do: Generic rc.atalk file.

commit 644c7d4f1a295df818a7f8339ac750821e7c26dc
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 25 20:13:45 2001 +0000

    CVS id tags, define fixes, code beautification

commit 2fe5085b11511198a18aac9cb879b16f4f1d703d
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 25 18:17:49 2001 +0000

    fixed DISABLE_SHELLCHECK support in afpd and papd (Jason Keltz <jas@cs.yorku.ca>)

commit 7952e70aaf2ed18f2225f6f15d3ac2d2c68b4053
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 25 15:18:00 2001 +0000

    Tru64 patch (Burkhard Schmidt)

commit c99856d60f67fc6df9ee3fd6d68a25bd92e398f7
Author: srittau <srittau>
Date:   Sat Jun 23 15:28:21 2001 +0000

    Added links to undocumented(7) man page for new scripts.

commit 68d187cb23f4214492301cdc3ac744257e4f391a
Author: srittau <srittau>
Date:   Sat Jun 23 15:25:45 2001 +0000

    Distribute *.tmpl files, not the generated man pages.

commit f962794cd88405f4bc4a2aff2ab2eee7a5e24d04
Author: srittau <srittau>
Date:   Sat Jun 23 15:25:02 2001 +0000

    Build fix.

commit 4faa1ea1254c81b3485998daee3f38916fb2c673
Author: srittau <srittau>
Date:   Sat Jun 23 15:23:02 2001 +0000

    Added missing header files to noinst_HEADERS.

commit 67a58c3d190d35df0149709e485bc8ecbbad3f19
Author: srittau <srittau>
Date:   Sat Jun 23 15:21:58 2001 +0000

    Also distribute the actual macusers script.

commit 964317a280622cdcb791e1e4673a0e9e6aaab3d5
Author: srittau <srittau>
Date:   Sat Jun 23 15:21:01 2001 +0000

    Upped version number of CVS release.

commit 31ed6ff288e8e717ecb2ee6c2cfd7f4eade136ba
Author: srittau <srittau>
Date:   Sat Jun 23 15:19:25 2001 +0000

    Added Debian specific TODO file.

commit 107d2cfd87f8bb6b6be514a5f3dc7009d33c253a
Author: srittau <srittau>
Date:   Sat Jun 23 15:17:27 2001 +0000

    Cleanups.

commit c772c8b14aa0c279c75344f52457e09ba0b4fb3c
Author: srittau <srittau>
Date:   Sat Jun 23 15:16:47 2001 +0000

    Upped version to 1.5pre7.

commit 9aadc61c22fdf95f6f2077f6b9133154043cd665
Author: srittau <srittau>
Date:   Sat Jun 23 15:16:14 2001 +0000

    Removed obsolete patches.

commit f32c34b425fdde5cb69785ddfa579284591df4c9
Author: srittau <srittau>
Date:   Sat Jun 23 14:16:23 2001 +0000

    Added DEB_BUILD_OPTIONS support.
    
    Cleaned up ./configure invocation.

commit 17027a083d179ef1b6a261740c506a1bfa0be5aa
Author: srittau <srittau>
Date:   Sat Jun 23 14:10:54 2001 +0000

    Added binheader(1) and nadheader(1) to the list of undocumented programs.

commit beadb91b972d979387ba4a41dc35caa02690af20
Author: srittau <srittau>
Date:   Sat Jun 23 14:08:54 2001 +0000

    Removed generated files.

commit 7a01868c7cb14d2d60440b730f4780b6f11e2f46
Author: srittau <srittau>
Date:   Sat Jun 23 14:02:35 2001 +0000

    Changed maintainer e-mail address to Debian address.
    
    Added an empty line.

commit 329807cf8eb57d321cd5f8eee22f7a565fd89ea0
Author: srittau <srittau>
Date:   Sat Jun 23 14:00:26 2001 +0000

    Changed section from net/devel to non-US.
    
    Changed maintainer e-mail address to Debian address.
    
    Upped Standards-Version to 3.5.5.0.
    
    Build-Depend on libdb3-dev instead of libdb2-dev.
    
    Build-Depend on libssl-dev instead of libssl096-dev.
    
    netatalk-dev depends on netatalk (>= 1.5).

commit eaa68a0b8d790c8a0f2263c0699b08981b00c81e
Author: srittau <srittau>
Date:   Sat Jun 23 13:48:49 2001 +0000

    Inserted two new releases for Debian.

commit 8bf5494d38ab1f96a8a891bf789d1679ef1ef9d3
Author: jmarcus <jmarcus>
Date:   Thu Jun 21 17:39:58 2001 +0000

    Fixed the problem where pkgconfdir=NONE/etc/netatalk if --prefix was not
    specified.

commit 6c1f3cff882955229cb9e0b94eca5e725817633b
Author: rufustfirefly <rufustfirefly>
Date:   Wed Jun 20 18:33:03 2001 +0000

    commenting changes, more autoconf support in afpd, etc

commit a4f02baeb585398257884bf1b1c1ae340549b6b6
Author: rufustfirefly <rufustfirefly>
Date:   Wed Jun 20 14:51:12 2001 +0000

    Joe Clarke's fix for linux/quota.h checking, removed NO_DLFCN_H define

commit adca12121c797853009813c25f4a60d69f910269
Author: rufustfirefly <rufustfirefly>
Date:   Tue Jun 19 18:04:39 2001 +0000

    Joe Clarke's patches and some other fixes

commit 6789fff766e574fe0200f8901cc407f63ef522e5
Author: srittau <srittau>
Date:   Tue Jun 19 17:12:22 2001 +0000

    Set pkgconfdir explicitly.

commit 25ad52a0e7741043b8b7d7d637e107afbe7e67ac
Author: srittau <srittau>
Date:   Tue Jun 19 17:03:26 2001 +0000

    Oops. Reenable --with-config-dir.

commit 375b79ecbe6a4fead8e5085ff4fe9497caf3294d
Author: srittau <srittau>
Date:   Tue Jun 19 16:55:23 2001 +0000

    Substitute PKGCONFDIR by the contents of the variable by the same name.

commit 204b7b8125dd6b0a63792c557ac467417cc22399
Author: srittau <srittau>
Date:   Tue Jun 19 16:10:37 2001 +0000

    File netatalk is not auto-generated anymore. Install file netatalk.pamd
    instead.

commit ab1c75e6c30ba845fb0a3729602a638d519a8266
Author: srittau <srittau>
Date:   Tue Jun 19 16:02:58 2001 +0000

    Don't ignore netatalk.

commit 4d6f3cb12ca00b6dc18d0a848d2bb025b637700a
Author: srittau <srittau>
Date:   Tue Jun 19 00:28:09 2001 +0000

    Added netatalk-config(1).
    
    General cleanup.

commit 3654b5b5e1d20821cbc36c7df92816145ab81cc0
Author: srittau <srittau>
Date:   Tue Jun 19 00:18:19 2001 +0000

    netatalk-config(1).

commit c4eda13a70cbd7b7e8e0e810592358f73f8425be
Author: srittau <srittau>
Date:   Tue Jun 19 00:15:18 2001 +0000

    Ignore *.la files.

commit 367b58a9637c2f4a061cf9a53c578b29f621d154
Author: srittau <srittau>
Date:   Tue Jun 19 00:12:31 2001 +0000

    Changed --sysconfdir from /etc/netatalk to /etc.

commit 1bbeba94c30e8018e08964e49c35e0c499fe3eef
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 18 13:57:11 2001 +0000

    small change (lastdid should have been last)

commit 32871639f1ac5cc331a6e8616e0e28fd6848c850
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 18 13:50:06 2001 +0000

    patches from sourceforge

commit 463d8d2c21cc38f0c929fcb62cbdbc74ab1cc281
Author: samnoble <samnoble>
Date:   Wed Jun 13 17:41:44 2001 +0000

    added #include <sys/cdefs.h> so that __P is defined on systems like TRU64

commit dacdb732458e8825b6004e8355b606fedd8109d8
Author: rufustfirefly <rufustfirefly>
Date:   Wed Jun 13 15:44:45 2001 +0000

    oops, forgot to commit changelog

commit fb4a7a6f1aa63a770b797cd4f1b3b333cc1d847b
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 11 20:36:10 2001 +0000

    uams path now pulled from sysconfdir, not config_dir

commit af5e6c767f4b00513ef0d43841a1ebee2db3c776
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 11 17:35:55 2001 +0000

    patch #432137 to map unmappable characters, from Andre Schild (aschild@users.sourceforge.net)

commit d69028d333a4f0a536170bbeca788a21ddc89159
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 11 17:31:46 2001 +0000

    patch #432052 to add portability to IRIX, HP-UX and AIX (Russ Allbery)

commit 48eac71d6666ed7986730a069333f6010465f6e2
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 11 17:27:28 2001 +0000

    patch #431859 from Russ Allbery to remove ucbinclude on solaris/w flock support

commit b662c819035a8f446c8da033f1bddd6d9bb71b3f
Author: srittau <srittau>
Date:   Sun Jun 10 20:10:55 2001 +0000

    Warning fixes.

commit 81ff025d521d6dda75d4cb03b625726f2835e472
Author: srittau <srittau>
Date:   Sat Jun 9 21:00:11 2001 +0000

    Use CLEANFILES variable instead of manually overriding the clean rule.

commit e164b70f99247ed4d00ef09c4b38516f951c56c4
Author: rufustfirefly <rufustfirefly>
Date:   Thu Jun 7 17:18:26 2001 +0000

    small fix to load mtab table initially if supported to fix mtab DID support

commit 1055dde31109ab72f0928889af4b84ddbf6a63a4
Author: rufustfirefly <rufustfirefly>
Date:   Thu Jun 7 16:01:49 2001 +0000

    patch #422860 from Sebastian Rittau to correct pagecount.ps packaging problems

commit c0160bd82530935c4b86b5eaaed10dbce0e07055
Author: rufustfirefly <rufustfirefly>
Date:   Thu Jun 7 15:57:54 2001 +0000

    patch #422856 from Sebastian Rittau to move to pam_unix.so (& cleanups)

commit 454d87a5dc524ccf501582fc57b0695d506c0b74
Author: rufustfirefly <rufustfirefly>
Date:   Thu Jun 7 15:57:26 2001 +0000

    removal of CONFIG_DIR in favor of sysconfdir

commit 66850e7edccbabe33c12a89d10dc5cba6bb775ff
Author: rufustfirefly <rufustfirefly>
Date:   Thu Jun 7 15:39:27 2001 +0000

    Sebastian Rittau's patch (sf #422872) to move from CONFIG_DIR to sysconfdir

commit 5ec11a9bfdeda9562d30bf4f5acdd73ced78b17f
Author: rufustfirefly <rufustfirefly>
Date:   Wed Jun 6 19:05:04 2001 +0000

    moved version to 1.5pre7 (in anticipation of the next release)

commit af0d6028540f766f6ae9185f419f2922e4726dcc
Author: rufustfirefly <rufustfirefly>
Date:   Wed Jun 6 19:04:24 2001 +0000

    dropkludge fixen

commit 598d13ed92345f7620710720a8ea4cfd58b7482d
Author: rufustfirefly <rufustfirefly>
Date:   Wed Jun 6 13:36:36 2001 +0000

    sync initial mtab additions/changes with tree

commit 82656e61ae06cb1ab7ecb4730599c0a01d017fb3
Author: pooba53 <pooba53>
Date:   Tue Jun 5 12:56:19 2001 +0000

    Modified configure.in so that references made to $ac_prefix_default were correct.

commit e37e29ef24f0e3046601bd30da17633ab5f358c0
Author: pooba53 <pooba53>
Date:   Tue Jun 5 12:51:17 2001 +0000

    Changed occurences of $ac_default_prefix to $ac_prefix_default to match reference made at the beginning of the program.

commit e6f44455d83b7c76a8ba3d291bcf4958bd5622c7
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jun 4 19:06:15 2001 +0000

    implemented Sebastian Rittau's change to avoid overwriting AppleDouble headers

commit 69d7a5d71630b1fe1b84f83ecfed55ba1ab2cde9
Author: rufustfirefly <rufustfirefly>
Date:   Fri Jun 1 19:49:51 2001 +0000

    quick compile fix for the test_parse_mtab code

commit f633dd24a3f9c6bb944faa5bc5175869cf6cd07f
Author: rufustfirefly <rufustfirefly>
Date:   Fri Jun 1 13:59:45 2001 +0000

    fix for linux compile by Sam Noble <ns@shadow.org>

commit b030aacd51f5c1fd22c604f9114bac776f26e040
Author: srittau <srittau>
Date:   Thu May 31 18:58:48 2001 +0000

    Added missing include: <sys/socket.h>.

commit 0f04dcfbf5cab3c5fae26920a687f7625da45ba7
Author: srittau <srittau>
Date:   Thu May 31 18:55:19 2001 +0000

    Added missing include <sys/socket.h>.

commit 64bbba7372ebe0e20c90d565495f500a8ace366d
Author: srittau <srittau>
Date:   Thu May 31 18:53:01 2001 +0000

    Add -I$(top_srcdir) to CFLAGS.

commit a24a8fa9f80174f42fc8d35af3354f53702b1a66
Author: srittau <srittau>
Date:   Thu May 31 18:48:32 2001 +0000

    Warning fixes.

commit 6b99a258e898a54d6fe9ed0679fac1c72771364a
Author: srittau <srittau>
Date:   Thu May 31 18:42:58 2001 +0000

    Changed invocation of AC_PROG_LIBTOOL to AM_PROG_LIBTOOL and removed
    duplicate invocation.

commit d0d2bedbb244ac61d39cdb3a590c30fc4c9f0d1f
Author: srittau <srittau>
Date:   Thu May 31 18:39:00 2001 +0000

    Warning fixes.

commit d17038252ad4d4f2e670f51c8052937ff5cbf0d1
Author: srittau <srittau>
Date:   Thu May 31 18:38:00 2001 +0000

    Correct prototyping.
    
    Return correct return values in main functions.
    
    Added missing includes.

commit c30710576f34eee03fe71e9980b2b7f0e4eb3835
Author: srittau <srittau>
Date:   Thu May 31 18:36:53 2001 +0000

    Added forward declarations to eliminate warnings.

commit be8ec860cc79d1c3fc9dd5eee76e3d34d2faac40
Author: srittau <srittau>
Date:   Thu May 31 18:34:11 2001 +0000

    Ignore generated files.

commit 841539b8ef498b91cb65f8dfb14c6ee025f44fca
Author: rufustfirefly <rufustfirefly>
Date:   Fri May 25 16:18:36 2001 +0000

    documentation for Bob Rogers' mtab code

commit 0f4eecbccf70993f3d807c62fe3227f968e83678
Author: rufustfirefly <rufustfirefly>
Date:   Fri May 25 16:18:08 2001 +0000

    experimental code added from Bob Rogers to generate more persistant DIDs
    (please note that the code is not used by afpd yet)

commit 0c15770b3bc9fa7d6dbdc5a7d0fa01ca21778260
Author: rufustfirefly <rufustfirefly>
Date:   Fri May 25 13:23:55 2001 +0000

    another Tru64 patch from Burkhard Schmidt

commit 9e9e2f2ecf0bab7cab3b12a11405705414d34465
Author: samnoble <samnoble>
Date:   Thu May 24 21:23:50 2001 +0000

    prototyping to allow the compiler to do some real argument checking
    turned up a number of problems which are now fixed (due to the addition
    of prototypes for functions in papd)... in particular papd will no longer
    dump core in alphalinux when it tries to unregister all its nbp services.

commit eec86527b680fff7adf1cbf8cd76f50332db04d0
Author: samnoble <samnoble>
Date:   Thu May 24 00:37:50 2001 +0000

    removed CAPDIR

commit 8b2615989f69d7a5869c5b8bc698204c7a3ee781
Author: samnoble <samnoble>
Date:   Thu May 24 00:12:01 2001 +0000

    removed the configure-time option for specifying CAPDIR.  This is now
    specified per-server and per-printer in afpd.conf and papd.conf.

commit 35024026e0f457241927504e1d9b2667cf209ea8
Author: samnoble <samnoble>
Date:   Thu May 24 00:10:27 2001 +0000

    added documentation regarding the new -authprintdir option which replaces
    the compile time CAPDIR

commit 97387fd53208a41d236ff06d25642891cf1a1e94
Author: samnoble <samnoble>
Date:   Thu May 24 00:05:24 2001 +0000

    include description of authentication options which were
    previously described in README.MORGAN which is no longer with us.

commit 432760fdf4b6df5475462aa390d2c03867dc9a6d
Author: samnoble <samnoble>
Date:   Wed May 23 23:55:23 2001 +0000

    Remove all references to CAPDIR.  Add a config file option for authprintdir
    authprintdir is configured per-server and per printer.
    
    The 'ca' flag in papd.conf now takes a directory ie "ca=/tmp/print"

commit 34815065800407ed5cd5973c664d9d788126c81a
Author: samnoble <samnoble>
Date:   Wed May 23 23:48:34 2001 +0000

    This patch adds function prototypes, fixes a few argument count bugs for
    a couple of calls to syslog/printf, explicity adds return()'s for functions
    which are supposed to return a value, and a few other generic code-cleaning
    things which enabled atalkd to run on AlphaLinux again (it hasn't run properly
    in about a year).

commit 83c04f2b336a03942b530ef7db51b15d7afd8cdd
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 22 19:13:36 2001 +0000

    more Tru64 fixes from Burkhard Schmidt <bs@cpfs.mpg.de>

commit c7dfaa40a3233ade50d27d0bb8f25c3a7355ea1d
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 22 19:05:56 2001 +0000

    more POSIX-compliant rm

commit df1ed76e8a03a071738fc75af847843890d0dd29
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 22 13:35:26 2001 +0000

    portability fixes and Tru64 patch from Edmund Lam <epl@unimelb.edu.au>

commit 046928b67420934a8dc5cfe03d383eb3035948d7
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 15 13:35:53 2001 +0000

    patched by Joe Clarke for FreeBSD compatibility

commit 336e9f85e5552c035d646974871501819a0d7406
Author: rufustfirefly <rufustfirefly>
Date:   Fri May 11 12:17:45 2001 +0000

    old patch for Tru64, forgot to commit

commit b54c3598684b2e540505767362ed1814c123cd0a
Author: srittau <srittau>
Date:   Thu May 10 00:39:49 2001 +0000

    Modified patch to apply cleanly (to a version of etc/psf/Makefile.am that's
    not in CVS, yet).

commit 452708635dbb337fb5fa0f24b45c8e9a5a6d7fa4
Author: srittau <srittau>
Date:   Thu May 10 00:39:04 2001 +0000

    New patches.

commit a14aa184006f552351002531a3404925b483d0bd
Author: srittau <srittau>
Date:   Thu May 10 00:01:24 2001 +0000

    common.h is another source file.

commit 4272a99edb6274e851b8e85c39fec186a3351ac0
Author: srittau <srittau>
Date:   Wed May 9 23:57:25 2001 +0000

      * Use ./configure --sysconfdir instead of --with-config-dir.
      * Upstream package does now install PAM file in the correct directory.
        Removed rule, correcting this from Debian rules file.

commit bf99b42fae22afdfc5e21b0ec4d9258f7af435fe
Author: srittau <srittau>
Date:   Wed May 9 23:53:40 2001 +0000

    Build fixes.

commit a11bb0d6ae68b8f46889c1dbb4017f01df765419
Author: rufustfirefly <rufustfirefly>
Date:   Wed May 9 13:54:45 2001 +0000

    fix problem with -v flag and rm

commit b1c7cadbd3d533dd9ff1612f57bf7a2bb8da6348
Author: rufustfirefly <rufustfirefly>
Date:   Wed May 9 13:35:40 2001 +0000

    more portable Makefiles (thanks to Christian Weisgerber <naddy@mips.inka.de> from OpenBSD)

commit 668a76afb68df30eff72961195f26481bfe68b82
Author: rufustfirefly <rufustfirefly>
Date:   Wed May 9 13:30:50 2001 +0000

    half reversal of previous patch; bad arguments to $(LN_S)

commit dd10f166a343ec1cee5eac852bfb2c8a5fb45364
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 8 18:03:18 2001 +0000

    Tru64 patch from Burkhard Schmidt <bs@cpfs.mpg.de>

commit fd194ee5e091b6abc531e6bb76e47c9b621101b0
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 8 15:43:30 2001 +0000

    makefile fixes from Olaf Hering <olh@suse.de>

commit 8fb76264dd1a27c36d3798882cc63570887a7642
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 8 13:52:38 2001 +0000

    added contrib/macusers/Makefile to list of Makefiles to build

commit a348f2fed948bfc7d98b444451374e98dc2f076a
Author: rufustfirefly <rufustfirefly>
Date:   Mon May 7 20:05:32 2001 +0000

    typo fixes patch from Burkhard Schmidt <bs@cpfs.mpg.de>

commit fb049a517c48cc6c7536b81fe2826946972da9ed
Author: rufustfirefly <rufustfirefly>
Date:   Mon May 7 14:16:47 2001 +0000

    small adaptations for CVS tree

commit 35dc111cc6c927a8c6ae120d324d23f25486dc6f
Author: rufustfirefly <rufustfirefly>
Date:   Mon May 7 14:15:42 2001 +0000

    added script to shorten names

commit 8b0fbb26bae0f3d0f9d48b83a0129e99c0b3ed15
Author: rufustfirefly <rufustfirefly>
Date:   Mon May 7 12:49:18 2001 +0000

    small makefile and ID tagging changes

commit 08e0aab7a381c18933433a28fd6bc479a55d19dd
Author: srittau <srittau>
Date:   Sat May 5 16:17:26 2001 +0000

    Non-DSFG free code was removed.

commit 9328d33cf86be67586b5ee83df5ac69464848d63
Author: srittau <srittau>
Date:   Sat May 5 16:15:41 2001 +0000

    Call automake.

commit d0ebc7135d8d63a32e237e8040086ef9761f5077
Author: srittau <srittau>
Date:   Sat May 5 16:15:14 2001 +0000

    Removed copyright notice of University of Newcastle upon Tyne. It's code
    was removed.

commit bb70d5800a0c1d745f7763b001937a0101efee89
Author: srittau <srittau>
Date:   Sat May 5 16:13:39 2001 +0000

    Also install pagecount.ps.

commit d53755639af5ffd3b2543eb1e39e2dda262e530d
Author: rufustfirefly <rufustfirefly>
Date:   Thu May 3 13:57:44 2001 +0000

    Tru64 fixes from Burkhard Schmidt <bs@cpfs.mpg.de>

commit 59663e2e4cc96881b0b667e2b0e4cea0ad336e97
Author: srittau <srittau>
Date:   Tue May 1 16:17:54 2001 +0000

    Changes from 1.5pre6-2.

commit 1d8c75c358f35241a2672b5fbca33188fc4fdbbb
Author: srittau <srittau>
Date:   Tue May 1 13:58:43 2001 +0000

    In the description of my patch, I wrote: "Should not break anything."
    This would have been true if there hadn't been updates since I wrote
    the patch. Fixed.

commit a7b8d110e93d139b34f689be9124f3f29fd689cb
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 1 13:45:34 2001 +0000

    more patches from sourceforge

commit 235864646fc8895d15ec5f24c4f97a2c17ce326c
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 1 13:41:25 2001 +0000

    symbolic links for megatron from Sebastian Rittau (srittau) (#420446)

commit a557f403a242de5fd451d4d973d972d0f1d682d5
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 1 13:35:23 2001 +0000

    overhaul of redhat initscript by Ryan Cleary (tryanc) (#418094)

commit a78b89e6579aff719be5ece265ac7eca318b53a8
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 1 13:30:31 2001 +0000

    replacement for old bin/afile from Sebastian Rittau (srittau) #420302

commit cb22616b6b035325d3f25eb910787da358e06b29
Author: rufustfirefly <rufustfirefly>
Date:   Tue May 1 13:21:20 2001 +0000

    warnings removal patch (#420300) from Sebastian Rittau (srittau)

commit 4f7eef5f68cb223d3f045caa5867e9b327973551
Author: srittau <srittau>
Date:   Tue May 1 00:03:18 2001 +0000

    Use INSTALL_DATA instead of INSTALL to install maccode files.

commit 9766ce1baafa38315a8a646a875f0e11a851b60f
Author: srittau <srittau>
Date:   Mon Apr 30 23:51:36 2001 +0000

    Ignore more generated files.

commit ac9b629a93825f4408d697c7f28649b7564bf62d
Author: morgana <morgana>
Date:   Wed Apr 25 17:23:24 2001 +0000

    *** empty log message ***

commit 12bf2845b3899c8e6d3dd990ca910e3a425a7810
Author: morgana <morgana>
Date:   Wed Apr 25 16:06:08 2001 +0000

    Changed some LOG_ERR's to LOG_DEBUG's in setdirowner function.  When the chown fails, it is a "soft error" which does not need to be reported at the syslog LOG_ERR level.  We were scaring off some users with these errors.

commit dc3d0a24a85c38bc62d96eaea4ab612c43da0028
Author: rufustfirefly <rufustfirefly>
Date:   Tue Apr 24 13:35:48 2001 +0000

    fixed tcp_wrappers compilation (detected wrong in configure.in)

commit 923ba7acae226549885ce25e3966fabfd44c9293
Author: rufustfirefly <rufustfirefly>
Date:   Tue Apr 24 13:04:52 2001 +0000

    add AFPD_LIBS

commit e2626f55ad946a4a278b742e875af5a7de8b7f30
Author: rufustfirefly <rufustfirefly>
Date:   Mon Apr 23 12:23:55 2001 +0000

    afpd/papd libs patch changelog entry

commit 5afbc941fb270b1e3c811ec7326fdd9844e887c7
Author: rufustfirefly <rufustfirefly>
Date:   Mon Apr 23 12:23:24 2001 +0000

    1.5pre6 versions of spec files

commit 9f4716e5ac78c160c6de3b4fc41ad9429cd85909
Author: rufustfirefly <rufustfirefly>
Date:   Mon Apr 23 12:22:39 2001 +0000

    add AFPD_LIBS to LIBS

commit 5938527b71caa26c40dadf867757b37985937c43
Author: rufustfirefly <rufustfirefly>
Date:   Mon Apr 16 17:49:49 2001 +0000

    merged patch #416371 from Heath Kehoe (hkehoe@users.sourceforge.net),
    fixing OSX problems, byteorder issue in etc/afpd/directory.c, and the
    superfluous error messages in etc/uams/uams_dhx_pam.c

commit 6b02656fa2d665386d74b051be06ab2e51380531
Author: rufustfirefly <rufustfirefly>
Date:   Mon Apr 16 17:45:17 2001 +0000

    added autoconf/automake stuff to TODO

commit cc263acb2b0b5c1850044ff0408165252c57f218
Author: rufustfirefly <rufustfirefly>
Date:   Thu Apr 12 13:31:26 2001 +0000

    Release for 1.5pre6

commit 21623d14a02f3b96b1eabce092933c80f4362113
Author: rufustfirefly <rufustfirefly>
Date:   Tue Apr 10 19:00:52 2001 +0000

    resolved commit conflict in changelog (minor)

commit a6356d5cde6ffb587adadc334cc4513f84273b52
Author: rufustfirefly <rufustfirefly>
Date:   Tue Apr 10 18:57:50 2001 +0000

    timelord compilation optional, disabled by default

commit 9b0b41284cac7fb64f2da28a93a9f762ce49fc1d
Author: rufustfirefly <rufustfirefly>
Date:   Tue Apr 10 18:09:19 2001 +0000

    oops. paper bag time.

commit 40fd0487ac567b446112b0cd987d7c6e4a34c296
Author: rufustfirefly <rufustfirefly>
Date:   Tue Apr 10 18:06:57 2001 +0000

    patch from Jason Keitz (jkeitz@users.sourceforge.net) to disable checking for valid shell

commit 0c8447448c82fab0d5ac71a6f4f9fce896ef31b9
Author: srittau <srittau>
Date:   Fri Apr 6 21:46:57 2001 +0000

    * Added libdb2-dev to build-depends. (Closes: #92774)
    * Complies with Debian policy version 3.5.2.0.

commit 78e3536456edbf1db58cfee47ec5fb2afdb8c51a
Author: srittau <srittau>
Date:   Fri Apr 6 21:44:41 2001 +0000

    Retrospectively added a changelog entry for a new version of netatalk-1.4pre2.

commit d3214c2ab3f75442e70703723f5003d72376b8ab
Author: lancel <lancel>
Date:   Wed Apr 4 18:34:36 2001 +0000

    Added netatalk.conf info

commit 8715e893cff7d1ab6b78d9d468d3ca800256c7e9
Author: lancel <lancel>
Date:   Wed Apr 4 17:17:04 2001 +0000

    Added netatalk.conf info

commit 54e1171455c42acbb7f979a38ddfde6a794adc86
Author: rufustfirefly <rufustfirefly>
Date:   Tue Apr 3 13:20:42 2001 +0000

    integrated patch from Soren Spies <sspies@apple.com> to fix disconnect on afp_createid()

commit b8cbed4b90a7bb7810c1fac7c71a0f11ae23e93f
Author: rufustfirefly <rufustfirefly>
Date:   Mon Apr 2 19:12:12 2001 +0000

    added contrib/shell_utils/cleanappledouble.pl script from Heath Kehoe <hakehoe@avalon.net>

commit fa1bbdfa1cbfe84628e9e080ae694be291455f77
Author: morgana <morgana>
Date:   Sun Apr 1 16:11:38 2001 +0000

    Fix for server messaging. Afpd switches user to root to unlink message file, then immediately switches back to user.

commit 75c0b03bda1069e133cc494cd7af34e15ec7f6a1
Author: rufustfirefly <rufustfirefly>
Date:   Thu Mar 29 16:45:52 2001 +0000

    added TIMELORD_RUN, set by default to "no"

commit c64fb2d7bc07f1c07a54f65937034867e9b24eb1
Author: rufustfirefly <rufustfirefly>
Date:   Thu Mar 29 16:40:35 2001 +0000

    moved VERSION to BVERSION to avoid redefining VERSION

commit bc91e4df06ee47b23e715c121f077683abc2f967
Author: rufustfirefly <rufustfirefly>
Date:   Thu Mar 29 16:33:44 2001 +0000

    added HAVE_BROKEN_DBTOB (whoever updated configure.in forgot it here)

commit cca3156f849cfce1e8eabd17aa75810af493cd56
Author: samnoble <samnoble>
Date:   Thu Mar 29 06:02:58 2001 +0000

    This patch fixes "broken" handling of dbtob (converting diskblocks to
    actual bytes) on Linux (every version I've used).  Basically if you mount
    a filesystem that uses diskblocks with a size other than 1024 bytes/block
    netatalk just assumes that you've got 1024 byte blocks anyway and reports
    incorrect quota information.  define HAVE_BROKEN_DBTOB in configure.in to
    enable this fix on other platforms.

commit 6567a007b849c78b070521cf1fc9c28ce71e2ff1
Author: samnoble <samnoble>
Date:   Wed Mar 28 22:49:25 2001 +0000

    updated to work with a recent release of the Umich AuthMan UAM.

commit bbd6a1808fb8bf422d485e661c6621fbc8056475
Author: samnoble <samnoble>
Date:   Wed Mar 28 22:42:15 2001 +0000

    added check for HAVE_CONFIG_H

commit e981ef3742f42adc4cb7d2b71f95bee8ca6b201c
Author: samnoble <samnoble>
Date:   Wed Mar 28 22:22:45 2001 +0000

    Added UAM_OPTION_PROTOCOL to find out if we're ASP or DSI

commit fd0055fbba18817303a0cd199ee200ee18490ff7
Author: lancel <lancel>
Date:   Wed Mar 28 15:37:54 2001 +0000

    Text fixes, added --prefix

commit fcb044441b4501f40970d7e91f1d09930d2ede8a
Author: rufustfirefly <rufustfirefly>
Date:   Mon Mar 26 20:11:53 2001 +0000

    un-hardcoded -shared, moved into LDSHAREDFLAGS

commit 714079134e5dc5597eb386b1067683a2d9b9514a
Author: lancel <lancel>
Date:   Sat Mar 24 05:27:52 2001 +0000

    Added Credit for pam

commit 7cc20cee038f7e7524739a0fa73cd4986f957d45
Author: lancel <lancel>
Date:   Sat Mar 24 05:11:17 2001 +0000

    Fix URLs

commit 69da2675ae1839e3151e4d65a15ceddaf8eca3f5
Author: lancel <lancel>
Date:   Fri Mar 23 04:13:25 2001 +0000

    ./etc/uams/Makefile.am fix

commit 8a1120ba4b5cc9cab42f9b61f0350fabf679c001
Author: lancel <lancel>
Date:   Fri Mar 23 04:05:48 2001 +0000

    Added $LDFLAGS definition and usage.  Enables -L linker flags to be passed for a --with-ssl-dir configure directive. Fixes compiler fail on uams_dhx.so by not finding libcrypto.

commit 634250b2d8d27385daefb0c8545c80232f8a5b1d
Author: lancel <lancel>
Date:   Thu Mar 22 22:23:17 2001 +0000

    Update file lists in Makefile.am

commit e6c590d41f2d6b8fe46b7bdd975dbf6c3c64fca7
Author: lancel <lancel>
Date:   Thu Mar 22 19:56:41 2001 +0000

    Changed ftp filenames for GNU programs automake and autoconf.

commit c751a671fc8621838786745b71b93e757f1930b3
Author: rufustfirefly <rufustfirefly>
Date:   Thu Mar 22 19:09:11 2001 +0000

    more OpenBSD fixes from Jean-Philippe Rey

commit 040ec1253db63dd985a39d8c726838dc891241f4
Author: rufustfirefly <rufustfirefly>
Date:   Thu Mar 22 17:57:33 2001 +0000

    OpenBSD compile fix (tx to Jean-Philippe Rey for this one)

commit 611d661cda00eac22ceb03112b270889c56b61b8
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 21 14:36:36 2001 +0000

    patch from Jonathan Paisley (jonp@chem.gla.ac.uk)

commit 949e5bf1dd3ed77cd4016132994fa9a3087e09b2
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 21 14:12:33 2001 +0000

    fixes for FreeBSD relying on unistd.h (not crypt.h) for crypto headers

commit 3fd8f2e05f7da94b3cf8f46247d138a3f72e2df6
Author: lancel <lancel>
Date:   Mon Mar 19 18:38:31 2001 +0000

    Spelling mistakes

commit 04aff1f5360e7b591e7f80b0cf6d85dc05bf64e7
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 14 17:38:17 2001 +0000

    patch for emptying trash (Patch #408218)

commit eee887dbdf641a0d4c6537613240a833cb63f55d
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 14 17:31:57 2001 +0000

    patch from Yoshinobu Ishizaki for Linux 2.0.x builds

commit f4bba0a9ec2a73edef16009727124fceafa46ddf
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 14 15:57:44 2001 +0000

    fixed ad_mode / O_RDWR bug reported on netatalk-admins list

commit 8d3276a612a91aa809b992fb0d1a251cbe0b4a74
Author: rufustfirefly <rufustfirefly>
Date:   Fri Mar 9 14:44:47 2001 +0000

    fixes for Solaris build problems, noted by Akop Pogosian <akopps@csua.berkeley.edu>

commit 2dd644cf412445c8e5b138c74feb539ebfc7b135
Author: rufustfirefly <rufustfirefly>
Date:   Thu Mar 8 14:37:28 2001 +0000

    patches from Sebastian Rittau for a cleaner build

commit 44296d42e62f9b5f9508d06783eeaeb6cb7d039c
Author: rufustfirefly <rufustfirefly>
Date:   Thu Mar 8 14:31:21 2001 +0000

    updated netatalk redhat rpm spec file with small fixes

commit c32128df787d08500e3673600baf5bf5339f5c94
Author: srittau <srittau>
Date:   Wed Mar 7 22:40:28 2001 +0000

    Documentation has moved.

commit 55442236ec75b9e9b3c30fe18ff3795f72d3893a
Author: srittau <srittau>
Date:   Wed Mar 7 22:40:07 2001 +0000

    The file I used to check if we are in the main netatalk source directory
    has vanished. Use a different one.

commit a78c817ef9a90753990d51efd5432e020e4fd8e9
Author: srittau <srittau>
Date:   Wed Mar 7 22:37:56 2001 +0000

    Ignore generated files.

commit ead643ef51a2dfe30ce6d6a2df923d3d5dde0ca1
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 7 21:47:44 2001 +0000

    stub README to stop debian build from breaking

commit a4d69e0d0854ed739338368824af861c965c3b00
Author: srittau <srittau>
Date:   Wed Mar 7 20:59:53 2001 +0000

    Removed uams_dhx_pam.c.patch integrated in the main source tree.

commit fc805659d367b3a88c12f09ea520f67722b286f9
Author: srittau <srittau>
Date:   Wed Mar 7 20:56:13 2001 +0000

    Better checking for the version information.

commit 3dbe26a3277e84169287b3d63441a9650813921e
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 7 20:44:34 2001 +0000

    removed stale README.* references

commit b23f18a0c82b18fff5894e56db28a97b19500d61
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 7 20:40:17 2001 +0000

    hack README stub

commit dab5a51c38bc8a4f95f3f73197996e359e5a7503
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 7 20:39:24 2001 +0000

    updated spec files for release

commit 6130faf90e14d9aa09d04c6f5fbe7efef5ad68e2
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 7 15:36:54 2001 +0000

    fix for VOLOPT_MAX being 11 instead of 9 without FORCE_UIDGID
    (thanks to Axel Bringenberg <A.Bringenberg@srz-berlin.de>)

commit c3b5d9f584d56019a6d6a72180f8fa101a7a1331
Author: rufustfirefly <rufustfirefly>
Date:   Wed Mar 7 15:19:20 2001 +0000

    change from Sebastian Rittau to fix Kerberos UAM compile break (typo)

commit 9226d13a4d868a08e7220eead80ace0e4ae83487
Author: lancel <lancel>
Date:   Tue Mar 6 23:26:10 2001 +0000

    Bring ChangeLog up to date.

commit 3b4c478c072fe9b5d6dcfec72190717bce2640cb
Author: lancel <lancel>
Date:   Tue Mar 6 23:20:25 2001 +0000

    Moved to docs/ where they should be, not INSTALL/.

commit 7a35b70ee87c85b76af4207857e98fdb820f4788
Author: lancel <lancel>
Date:   Tue Mar 6 23:08:01 2001 +0000

    *** empty log message ***

commit a7c3801c92bb500ad557d3f9a4d556493dc8c380
Author: lancel <lancel>
Date:   Tue Mar 6 19:40:00 2001 +0000

    Moved FAQ, AND READMEs to ./INSTALL

commit 0332936b9525eec7f5f23cf34579e47fc6ecd986
Author: lancel <lancel>
Date:   Tue Mar 6 19:35:36 2001 +0000

    Added ./INSTALL/INSTALL.txt

commit 6a466f564e090a0f00d17536fcb625776b819156
Author: lancel <lancel>
Date:   Tue Mar 6 19:32:48 2001 +0000

    Moved README.ASUN, README, FAQ to ./INSTALL

commit 6e864e9295a15186747d80498ca7a267f8bcdc51
Author: morgana <morgana>
Date:   Tue Mar 6 17:47:23 2001 +0000

    A few updates to papd entry.

commit 16fe2405cd2b3824680c30ae15c5c07be8ad5d14
Author: morgana <morgana>
Date:   Tue Mar 6 17:42:40 2001 +0000

    Removed README.MORGAN because that information in now in papd's man page.

commit d046935fa63a7a94c9c6b9a8a00af62c81f711c3
Author: morgana <morgana>
Date:   Tue Mar 6 16:19:17 2001 +0000

    Updated papd man page to match current code.  Added descriptions of authenticated printing and other new papd options.

commit b28a357a3ae4124e470b4872c1481c08ca0a3777
Author: itlm019 <itlm019>
Date:   Wed Feb 28 21:43:13 2001 +0000

    AppleDouble directory creation debugging

commit a6fc3d689fcb3a97ed8e5a3f409e05dd04187361
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 28 16:53:23 2001 +0000

    added dropbox as a volume option when DROPKLUDGE is compiled in

commit 2f74755bf9bb1f2729b49aba0f93c643acb9ec19
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 27 21:32:26 2001 +0000

    fixed Id tag in Changelog

commit 9450e05d0211b64dc68c99cc04fc83b90dec012d
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 27 21:32:10 2001 +0000

    updated readme

commit 8d9cc2de5004f2ecf6e02831565731a35af004de
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 27 21:07:20 2001 +0000

    Kerberos UAM module changes. (still not working yet, initial changes)

commit 616b5fc48f7ef312c22bdb9162c0b36aaec7b79c
Author: srittau <srittau>
Date:   Tue Feb 27 20:44:28 2001 +0000

    Bumped version to 1.5pre4-2.
    
    Added copyright of the University of Newcastle upon Tyne to copyright.

commit 8a2397f9ed7424c5d7b8677fc91d6a7d6f843da1
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 27 17:24:39 2001 +0000

    PGP UAM module compilation support using --enable-pgp-uam

commit 5268a18e175c883c0f62bb3bd0bde8a3e17d254c
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 27 17:07:42 2001 +0000

    uams CVS Id tag addition, uams_dhx_pam auth module works again, new spec file for redhat

commit 1d728566a7c3a37e0a1ec59f14ee4050f5665bb6
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 27 16:27:19 2001 +0000

    compilation fixes for FORCE_UIDGID enabled

commit bc4446f05f11d54121ab8bffa88ec94cda6cae74
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 27 16:26:18 2001 +0000

    changed USE_AFS to AFS to work with current tree

commit 6c15b98e2feddcb89b32800ecb1500b462bf6b98
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 27 14:23:24 2001 +0000

    updated requirements documentation

commit a2d2fe39810c11a1d02c427209c156871a511708
Author: rufustfirefly <rufustfirefly>
Date:   Mon Feb 26 15:39:00 2001 +0000

    initscript patch for kernel module loading, timelord updates, SSL fix for Mac OS X building

commit 86323ed61ff8321e6aca9fc83303fc2cb0de28da
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 23 22:16:15 2001 +0000

    moved FORCE_UIDGID check after config.h load (paperbag)

commit 2b4a2c7554848740f8bf5183de94c889aa211c08
Author: srittau <srittau>
Date:   Fri Feb 23 22:05:04 2001 +0000

    Changelog entry for the upcoming 1.5pre5-1.

commit a3a47cd529de64e4c30f329fdaa91e0790062bcd
Author: srittau <srittau>
Date:   Fri Feb 23 22:04:22 2001 +0000

    Removed unneeded generated file.

commit 8e67208a5bca587d98b7f6cb7a81405eaa8f4bc6
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 23 21:32:24 2001 +0000

    added confdefs.h

commit 41ac23bbf7a16fbceacd27fa4e7e7ece8a9f2f35
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 23 20:13:40 2001 +0000

    fix for FAQ not being distributed in .deb (Sebastian Rittau)

commit 39295c20a6aaf6ee8e7422e376422dede6dd890c
Author: srittau <srittau>
Date:   Fri Feb 23 20:06:32 2001 +0000

    Also ship the FAQ.

commit 8cbe7a96911cc13e408dfa16020f21a2a45bc863
Author: srittau <srittau>
Date:   Fri Feb 23 20:02:12 2001 +0000

    Added a check for the INSTALL file.

commit cc70812b04ab09c73af4bddd7859db2dd5df062c
Author: srittau <srittau>
Date:   Fri Feb 23 20:01:04 2001 +0000

    Source version is 1.5pre5.

commit 715cc824ec2373248ea5b8f148d785abee6dde7b
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 23 16:35:49 2001 +0000

    fixed typos in configure.in, and search for hosts_access in libwrap

commit ab8c150eda13b23b1b2f5357d5ba64f24813b768
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 23 16:35:07 2001 +0000

    added ltconfig and ltmain.sh

commit 081a972d05330800723df46f1ab0a0c9534dd0f1
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 23 15:49:56 2001 +0000

    autogen fix for libtoolize (Wes Hardaker)

commit 3eec3c30138755f501ae40d96bee6813d14e5543
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 23 15:46:46 2001 +0000

    bumped version to 1.5pre5, pending release of paperbag fixes

commit f2fab839a3c843a420a36198790e188e85832cad
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 23 15:46:13 2001 +0000

    implemented Wes Hardaker's patch for AFS support

commit 7c7e239f0249e30c22474298a1af192b8a6565bf
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 23 15:35:36 2001 +0000

    codepage fix from Axel Barnitzek (barney@users.sourceforge.net), keeping ChangeLog up to date

commit a3cbc042fb1f9dad175aa10d52bc61f718d0dfde
Author: srittau <srittau>
Date:   Thu Feb 22 09:27:09 2001 +0000

    Removed more patches applied upstream.

commit ce69aa5117d5204566ecae9624d5bf73cedbed43
Author: srittau <srittau>
Date:   Thu Feb 22 09:25:06 2001 +0000

    Removed SSL support from version 1.5pre3-1 and added to 1.4pre4-1.

commit f554f873548fdf1510df83cd99cdd08ed941e28c
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 21 21:00:37 2001 +0000

    megatron fixes from the old Debian maintainer (Sebastian Rittau)

commit b0de43a1cb62c9446c8c7940c142d0882c3a8182
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 21 20:30:30 2001 +0000

    Debian distrib/debian/patches/libatalk.patch for automake (Sebastian Rittau)

commit e81e25bd95660e7dd5ef2a773248d1eee67bc164
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 21 20:26:53 2001 +0000

    ship add_netatalk_printer properly for Debian (Sebastian Rittau)

commit 2c91ebd86ab0b1a43bdf6b1ad9948846f3985eee
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 21 20:25:47 2001 +0000

    fix "make dist" to not fail (Sebastian Rittau)

commit 1a1be9ff248beba13e5120ea3905e948f2d9a65b
Author: srittau <srittau>
Date:   Wed Feb 21 19:20:34 2001 +0000

    Upstream file has fixed some issues.

commit 120942c6bb798ce35202662a6779a63f90191c6d
Author: srittau <srittau>
Date:   Wed Feb 21 19:04:32 2001 +0000

    Removed unneeded patch.

commit 45b6c5d3210cff105ec81921b7c2f7bcdbe4a5ef
Author: srittau <srittau>
Date:   Wed Feb 21 18:57:39 2001 +0000

    Removed patch that was fixed upstream.

commit 3467e10e5646843a492b1672a53dc9895709ca68
Author: srittau <srittau>
Date:   Wed Feb 21 18:52:49 2001 +0000

    Finalized pre3-1.
    
    pre3cvs-1 -> pre3-1

commit da0bb75553d979b38351061b880effd4351c7bc7
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 21 13:34:06 2001 +0000

    pam.d file fix

commit 675f83248cf47ec4e165106795a74d1143c8ebf1
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 21 13:06:55 2001 +0000

    added Dreamweaver Template extension (dwt) and added CVS Id tag

commit d80fd7e3e66137cef2bbaf021106b43923c3cec7
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 21:26:45 2001 +0000

    shadow password specific PAM file

commit 5213c04086ccf3d289dae5c283050e13f359748a
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 21:20:52 2001 +0000

    allow for installation of PAM netatalk file

commit f87edbe5a42dc8a60f442001ee67fab9782b9815
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 20:37:10 2001 +0000

    removing -latalk, since it is unneeded and sometimes causes errors

commit 71dc294724bb53e29f2599a038b2619fc3a6ebed
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 20:35:17 2001 +0000

    fixed typos introduced in other commit

commit 70c7e8b9957f24a0090a49a27c136670d5acc51a
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 17:43:21 2001 +0000

    removed -latalk that broke build (d'oh!)

commit 42b25bc90176528185f8fc56d9bbb4024136524f
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 17:20:04 2001 +0000

    changed version to 1.5pre4

commit 2478763cce3c6c77f348238a2141ca9e2e0c8d52
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 17:17:20 2001 +0000

    slight fix, added AC_CONDITIONAL for USE_SHADOWPW for PAM files

commit 00c805b8065fb4eb636f2666db80953aba8c358d
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 16:57:32 2001 +0000

    removed old scripts, updated, added mandrake RPM spec from 1.5pre3

commit 13010d8fe109684700d847df98ea803706df511e
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 16:56:24 2001 +0000

    Solaris build ignores for CVS

commit 0c7b32ea11c5020519374b361f003ff94db49a46
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 16:46:16 2001 +0000

    added .tmpl generated files to ignore list (cleanup for release)

commit 46450d2d579a1fb957870f721e78a431734600ba
Author: rufustfirefly <rufustfirefly>
Date:   Tue Feb 20 16:40:13 2001 +0000

    SuSE / Tru64 fixes for initscripts

commit e13698b7c235d92e1de291266bf1fc9c15b2bbdc
Author: srittau <srittau>
Date:   Mon Feb 19 21:23:35 2001 +0000

    * Removed various build patches now included upstream.
    * dh_installmanpages -> dh_installman
    * Removed comment about Debian specific changes from debian/copyright.
    * Merged in changes made to 1.5pre3-0.1 changelog entry.

commit 40a2e247fba7acd561c51fd7cf250b202d662242
Author: srittau <srittau>
Date:   Mon Feb 19 21:20:56 2001 +0000

    Use dh_installman from debhelper v3 instead of the deprecated
    dh_installmanpages. Build depend on debhelper >= 3.0.0.

commit 3f25b74421d1a198f49809339b56938982f087fc
Author: srittau <srittau>
Date:   Mon Feb 19 21:18:29 2001 +0000

    Removed comment about Debian specific changes.

commit 56428f1f1081df4f052ac8ffa59eed67480f1db7
Author: srittau <srittau>
Date:   Mon Feb 19 21:16:33 2001 +0000

    Exit with "error" status 0 when program executes successfully.

commit c97ab7928cf019673c039b65bc6aa4a13131b76b
Author: rufustfirefly <rufustfirefly>
Date:   Mon Feb 19 19:32:34 2001 +0000

    removed Debian build specific flags from fhs section (Sebastian Rittau)

commit f9dd424ee1f6e7cbb124de31e8eff03a6a3e702f
Author: srittau <srittau>
Date:   Mon Feb 19 18:37:40 2001 +0000

    Use the new --with-fhs configure option.

commit 3db0464e8205109a069398a41a5ef13e2ef4b0c7
Author: srittau <srittau>
Date:   Mon Feb 19 18:36:54 2001 +0000

    Honor -DFHS_COMPATIBILITY.

commit 6f70d6098f7450dc571f225bf0a2ed30b1e6900d
Author: rufustfirefly <rufustfirefly>
Date:   Mon Feb 19 16:23:00 2001 +0000

    ignore maccode.* files generated by makecode

commit f5d9022b6f828bfdc95c2e295cbcd80471cea392
Author: rufustfirefly <rufustfirefly>
Date:   Mon Feb 19 16:09:31 2001 +0000

    added --enable-fhs / FHS_COMPATIBILITY for Debian maintainer

commit e828c3730c1d1a30c9bb5ac6eed0d484fedbda18
Author: rufustfirefly <rufustfirefly>
Date:   Mon Feb 19 15:47:44 2001 +0000

    makefile fix from Donald Lee (donlee@icompute.com)

commit 672731a66498d537a9d1415daa644aec49f79c5c
Author: srittau <srittau>
Date:   Mon Feb 19 15:20:18 2001 +0000

    Another .cvsignore file.

commit 9fd96f6d10908ed590d7cf27561062cb19c16323
Author: srittau <srittau>
Date:   Mon Feb 19 15:16:57 2001 +0000

    Added .cvsignore files so that I don't get spammed everytime I do a
    cvs checkout.

commit 6c145949e5399eef673efd0e7bc53bcc8ff1b103
Author: srittau <srittau>
Date:   Mon Feb 19 01:31:53 2001 +0000

    Removed files I accidently included in my tar file of the Debian packaging.

commit 1974c8b081bbfbaeba1022f0eaa06c6390296345
Author: rufustfirefly <rufustfirefly>
Date:   Sun Feb 18 18:55:31 2001 +0000

    Debian packaging files from Sebastian Rittau (srittau@jroger.in-berlin.de)

commit 4997cc8768bed7259c5ca286fc83849a4ae5a78b
Author: rufustfirefly <rufustfirefly>
Date:   Sat Feb 17 16:25:58 2001 +0000

    fixed typo in SuSE configure option

commit f7ea242a2dacb06c19053eed2796395aa5100154
Author: rufustfirefly <rufustfirefly>
Date:   Sat Feb 17 16:21:13 2001 +0000

    Makefile patches from Sebastian Rittau (Debian package maintainer)

commit c4f62cfe0ad95f13374207520ec27c563d54b38a
Author: blayde <blayde>
Date:   Sat Feb 17 05:45:02 2001 +0000

    *** empty log message ***

commit 45976e97c80d7c14b37153bccb33d720f7d0b2ef
Author: blayde <blayde>
Date:   Wed Feb 14 23:16:57 2001 +0000

    *** empty log message ***

commit 45fe66ebfb99d815e3da4380abd5c4c236533a75
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 14 16:34:58 2001 +0000

    added support for Solaris kernel module build

commit 4806f000b161fb40892edb334638bcfecc683af3
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 14 15:43:28 2001 +0000

    added contributed SuSE init script with proper paths, etc

commit 2c43a7a9e1a57ae2b70e09cf85448f92ed73cc68
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 9 16:08:10 2001 +0000

    initial FAQ commit (mostly stubs)

commit 618b2a4a027f3745f2b78f405f08b121223b65f9
Author: rufustfirefly <rufustfirefly>
Date:   Fri Feb 9 16:07:23 2001 +0000

    added reference to the FAQ

commit 84c9f9e7d4aaf2128cb670fdf022afdd114c4f58
Author: rufustfirefly <rufustfirefly>
Date:   Thu Feb 8 19:45:05 2001 +0000

    Makefile.am patches from Sebastian Rittau (srittau@jroger.in-berlin.de)

commit 9972bf22a3c66ec3e70a0441cdfad360ce3598d6
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 7 16:07:55 2001 +0000

    fixed symlinks creation for psf in $(prefix)/sbin/

commit e6990024671a85c5c3b6364c58259538e1c18f52
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 7 14:42:55 2001 +0000

    updated README for 1.5 series to avoid confusion

commit 50ff998dfa01cc76281efae94e889c23d3dcf061
Author: rufustfirefly <rufustfirefly>
Date:   Wed Feb 7 14:26:52 2001 +0000

    Fixed FreeBSD problem with missing #!/bin/sh (Bill Moran <wmoran@mail.iowna.com>)

commit eaf209b19969caa07434f42902ebce1721ddd3bb
Author: blayde <blayde>
Date:   Sat Feb 3 01:43:08 2001 +0000

    *** empty log message ***

commit 7a835e5385d2cb11bf068d29ed055d59946389ec
Author: blayde <blayde>
Date:   Fri Feb 2 16:10:17 2001 +0000

    *** empty log message ***

commit 4fe912270b4d49e7486c4b9baf443f9ca2cf26ee
Author: itlm019 <itlm019>
Date:   Thu Feb 1 21:13:53 2001 +0000

    Yet another dropkludge fix.

commit 982bf7c327041eca1edd8f6751bd0b91241bfcdb
Author: itlm019 <itlm019>
Date:   Thu Feb 1 20:55:07 2001 +0000

    This is a fix for server messaging... only affects what appears in the log and
    what happens when DEBUG is set.

commit a3b4a854d1cc667392f8ee6ec197cd500d06aed0
Author: fucus <fucus>
Date:   Thu Feb 1 06:25:56 2001 +0000

    this fixes a problem exposed by the os x appleshare client. flushfork
    wasn't re-reading appledouble header information from the disk
    when it needed to do so. as a result, you could get zero-length resource
    forks.
    
    -a

commit 44389df7a477582facc6d376dc7b71599fb409ec
Author: blayde <blayde>
Date:   Thu Feb 1 02:53:04 2001 +0000

    *** empty log message ***

commit a2306077157c188791e85b0bb43704489f487b77
Author: itlm019 <itlm019>
Date:   Wed Jan 31 08:43:31 2001 +0000

    The rest of Peter Westlake's permission patch (see the note in
    etc/afpd/file.c for details... a bug in Sourceforge is preventing me from
    submitting multiple files simultaneously).

commit 09c044a6cf92dbbe9ec9d6482245b4cf451ff603
Author: itlm019 <itlm019>
Date:   Wed Jan 31 08:40:24 2001 +0000

    Permission patch from Peter Westlake <peter@harlequin.co.uk> to fix behavior
    when deleting files to better-match Unix behavior.  As I understand it, if
    the directory allows write permission but the file allows only read
    permission, Unix flavors allow you to delete the file, since you're changing
    the directory entry, not the inode.  Before this patch, netatalk would not
    allow deletion of a file if you have read access to it, even if you had write
    access to the directory.
    
    This patch has not yet been tested with other permission-modifying features
    such as dropkludge, and admingroup, so additional changes to these
    modifications and/or to dropkludge and admingroup may follow.

commit cd60423facdcbf9f86689c239914ff5aef6f5f26
Author: blayde <blayde>
Date:   Mon Jan 29 11:18:28 2001 +0000

    *** empty log message ***

commit fe799d02fc65261e7374c7c1f3b43639f057b70a
Author: itlm019 <itlm019>
Date:   Sat Jan 27 17:54:26 2001 +0000

    This file shouldn't be compiled at all unless FORCE_UIDGID is defined, so I
    added some #ifdef statements for that.

commit 9bf9720eac4a50851bc5c90762cd89947ad758d3
Author: itlm019 <itlm019>
Date:   Wed Jan 10 23:35:40 2001 +0000

    Since it seems Kevin Myer's patch is primarily a solution for linux users,
    I've modified it so that it only takes effect if linux is the detected O/S.

commit e21ea25e5f251a9cc9ae58769c1e7293a265d4c5
Author: itlm019 <itlm019>
Date:   Wed Jan 3 21:41:06 2001 +0000

    Kevin Myer's permission patch (needs further testing)

commit fff6f24ca00f041f046ac7e154adc38986e0b43e
Author: rufustfirefly <rufustfirefly>
Date:   Tue Jan 2 23:00:35 2001 +0000

    half of FORCE_UIDGID commits for afpd (STILL HORRENDOUSLY BROKEN, PROBABLY)

commit 346c089b155aabf5da32e36d654ed6835d3d3f88
Author: rufustfirefly <rufustfirefly>
Date:   Tue Jan 2 18:57:07 2001 +0000

    * moved lp2pap.sh out of root of repository
    * small initscripts modprobe check for appletalk module in redhat
    * autogen now removes INSTALL/ (kludge)

commit 98c91227e197761f7c5e31e4b6cea8bef8e75ffb
Author: rufustfirefly <rufustfirefly>
Date:   Tue Dec 5 20:07:41 2000 +0000

    code beautification. nothing major.

commit 6a108ae761f287701665bc5caf93a67cbe72b85f
Author: jouvin <jouvin>
Date:   Mon Dec 4 13:18:48 2000 +0000

    configure.in : Modification done by Michel Jouvin to fix a problem with
    library search path on Tru64.
    
    According to autoconf maintainer suggestion, move -L/path/to/lib from LIBS
    variable to LDFLAGS. This was done because on some systems (like Tru64)
    -Lpath must appear before -llib that requires  -L. This is not the case
    if -L is in LIBS as -l are inserted at the head of LIBS by autoconf to
    preserve library search order required by some systems.

commit 957162be267ce96db1efc268ea27cee9e284a3f5
Author: jouvin <jouvin>
Date:   Fri Dec 1 10:00:34 2000 +0000

    Changes made by Michel Jouvin - jouvin@lal.in2p3.fr - 23/11/2000
    
    Modifications aim at introducing support of Compaq Tru64 (ASIP only, done with
    4.0f), allow greater flexibility with PAM handling during netatalk build and
    properly propagate to Macintosh client file permissions driven by ACL on the
    server side using XPG4 access() function.
    
    - configure.in : add support for Tru64 OS, allow greater flexibility
    with PAM for better handling of systems (like mine) without pam
    (basically _pam uams are built only if pam libs are present and
    --with-pam triggers what are the actual targets for uams_clrtxt.so and
    uam_dhx.so), check availability of access() function in standard libaries.
    
    - acconfig.in : initialisation (#undef) of new macros introduced for Tru64
    support.
    
    - etc/uams/Makefile.am : Complementary mods for flexible handling of pam. Use
    standard install target as cp -d is not available on every platform (in
    particular Tru64). Define links uams_clrtxt.so and uams_dhx.so at install time only, directly in target dir and add -f to ln command. Add
    'expect_unresolved *' when building shared libs.
    
    - sys/netatalk/endian.h : Include config.h if it exists.
    
    - etc/atalkd/route.c : define rtentry as ortentry on Tru64 to allow successful
    compiling (anyway this part is not used on Tru64 as appletalk layer is not
    available).
    
    - distrib/initscripts/rc.atalk.redhat.tmpl : define 3 variables for netatalk
    bin, sbin and config subdirectories and use them in files path to allow
    easier manul customization of path.
    
    - Addition of a distrib/initscripts/rc.atalk.tru64.tmpl, modeled on
    rc.atalk.sysv
    
    - distrib/initscripts/Makefile.am : add a target for Tru64
    
    - etc/afpd/directory.c : if XPG4 access() is available, call it as it was done
    when AFS is defined through function accessmode() (defined in unix.c). This
    allows correct presentation of permissions to Mac users if the file server
    has ACLs.
    
    - etc/afpd/unix.c : add accessmode() function. This is the existing afsmode
    function less the checks to validate the current path is in AFS.
    
    - etc/afpd/afs.c : afsmods() modified to call new accessmode() after the
    checking phase.
    
    - etc/afpd/auth.c : Add a message with LOG_DEBUG priority telling which uam
    file is being loaded. Allow easier detection of misconfiguration.
    
    - etc/afpd/uam.c : log a message in case uam_load fails because mod_symbol()
    failed to locate the required symbol.

commit ffd3801b342345e719b36d31815b656f43453740
Author: itlm019 <itlm019>
Date:   Mon Nov 13 21:58:11 2000 +0000

    Minor changes to the logging text

commit 89d20e1e7c6351d09229c8354d5245a019435cc0
Author: jnewman <jnewman>
Date:   Fri Nov 10 16:11:55 2000 +0000

    Remove force 2 GB option after introducing fixed code from Uwe Hees into etc/afpd/unix.c

commit f564d30613a8a596e63526488671d726d795eeef
Author: jnewman <jnewman>
Date:   Fri Nov 10 16:05:38 2000 +0000

    Changes to ustatfs_getvolspace from Uwe Hees for a more elegant and clean volume size calculation solution.

commit cfb633fa5e1c988bab41814821dd8d62c7b39be2
Author: rufustfirefly <rufustfirefly>
Date:   Fri Nov 10 15:46:32 2000 +0000

    added options for redhat and cobalt sysv scripts to install properly

commit 926a2c4065494c1b731e311abf27dc45e4169404
Author: itlm019 <itlm019>
Date:   Fri Nov 10 00:57:38 2000 +0000

    General fixes for logging, error reporting, this, that, and the other thing.

commit 699896173a027ea72b27d6acdda8cd391196a188
Author: rufustfirefly <rufustfirefly>
Date:   Thu Nov 9 19:46:16 2000 +0000

    change symlinks depending on whether --with-pam is used (USE_PAM conditional)

commit b586f1e30fcdf6af1a88e2d37a06f6f245e4cef7
Author: rufustfirefly <rufustfirefly>
Date:   Thu Nov 9 19:38:39 2000 +0000

    conditional PAM config file install fixed (USE_PAM conditional)

commit 9ac7edabe94cda32a1a2dc399b2a2a2101775add
Author: rufustfirefly <rufustfirefly>
Date:   Thu Nov 9 18:48:00 2000 +0000

    reversal of last (bad) hack.

commit 7f86b23e3de8f3c3bb2f1f51c05ad6d2c85d4e3b
Author: rufustfirefly <rufustfirefly>
Date:   Thu Nov 9 16:16:08 2000 +0000

    fixed pgp UAM so that it builds at all

commit d8d7604d98fc894db03ec38ef598886faa584467
Author: rufustfirefly <rufustfirefly>
Date:   Thu Nov 9 15:32:40 2000 +0000

    Fixed struct inside UAMs to allow proper loading

commit d52227ca3304a25eb21063ba9606f0c02620039f
Author: rufustfirefly <rufustfirefly>
Date:   Wed Nov 8 20:37:30 2000 +0000

    fix for libdes not being checked in the right place
    
    (fixes builds on openssl systems without libdes)

commit 004eff0d68383f31743c34252b3f7359aec01b2d
Author: rufustfirefly <rufustfirefly>
Date:   Wed Nov 8 20:28:08 2000 +0000

    fixed symlink install and build (unfortunately generates install warnings)

commit 807de8f68c0f888d1720b37cd83169928440f102
Author: jnewman <jnewman>
Date:   Wed Nov 8 17:12:38 2000 +0000

    Add force 2GB conditional at configure time.  This will turn off the code in etc/afpd/unix.c that doesn't seem to work right with 64 bit file sized systems.

commit 5db537c8b4628b6dcdcf143826d026161bbf6746
Author: itlm019 <itlm019>
Date:   Fri Nov 3 03:23:18 2000 +0000

    Put log reopen back to "LOG_DAEMON" instead of "LOG_LOCAL0" (which is a site-
    specific change).  Also added a "Connection terminated" message to logging
    that will appear whether the user logs out or whether their connection is
    terminated abnormally.  Should help log parsing utilities.

commit 204426036bbd78f94dc11a027a1eab48508a5f68
Author: itlm019 <itlm019>
Date:   Wed Oct 25 19:51:54 2000 +0000

    Minor change so that automated statistical scripts can differentiate between a login
    and a log message indicating admin access.

commit 9bf4edf8d348751646c6d0666e28be5542109495
Author: itlm019 <itlm019>
Date:   Wed Oct 25 17:30:49 2000 +0000

    The log shouldn't report the admingid every time anyone logs in.

commit c85292898a115867f9fce8473b9eaf25d1b0aabb
Author: itlm019 <itlm019>
Date:   Thu Oct 19 23:42:49 2000 +0000

    Added DROPKLUDGE file copying support, modularized DROPKLUDGE operations,
    and improved error handling.  That means we have DROPKLUDGE support for
    creating files, moving files, and copying files now.  As far as I'm aware,
    that covers all the ways of adding a file to a directory via AppleShare.

commit a1f3899e8c3d49d513a5052eaadb40559065e101
Author: rufustfirefly <rufustfirefly>
Date:   Wed Oct 18 15:26:27 2000 +0000

    kludge for avoiding redefinition

commit a7b471a88a7361cead4870949b3868a4f6e5ba6a
Author: itlm019 <itlm019>
Date:   Mon Oct 16 21:15:27 2000 +0000

    One more "oops" fix.

commit 353d70531fd6e3de19f41bc3503a55ae2d681024
Author: itlm019 <itlm019>
Date:   Mon Oct 16 21:12:52 2000 +0000

    Fixes to a couple of "oops"'s introduced in version 1.3.

commit 26cc556316ef42866721fe25f078e7f7db4f1761
Author: itlm019 <itlm019>
Date:   Mon Oct 16 21:01:41 2000 +0000

    DROPKLUDGE fix to "move" procedure and a few general code cleanup things

commit 4a88171ffa14528c3b9957c6f3efbd7862b0d74a
Author: morgana <morgana>
Date:   Mon Oct 9 15:42:40 2000 +0000

    Renamed 'struct comment' to 'struct papd_comment' because 'struct comment' was already defined on some systems.

commit 5980dabec9da08d9512c01582f85cfc9803b7687
Author: itlm019 <itlm019>
Date:   Fri Oct 6 21:13:18 2000 +0000

    Replaced mtoupath() calls from the previous patch with upath for efficiency.

commit 1eac3632617baf0befa0c26d1289464aa45fd3af
Author: itlm019 <itlm019>
Date:   Fri Oct 6 20:43:40 2000 +0000

    Fixed handling of Unix-prohibited characters in file names for dropkludge.

commit 55037094749ebf11d35869e857218d0f5ee090b6
Author: rufustfirefly <rufustfirefly>
Date:   Thu Oct 5 13:51:34 2000 +0000

    fix for debian's bad netinet/tcp.h, including stdint.h

commit 98958eae7f651020a2e38426191f4b91f0ba1907
Author: rufustfirefly <rufustfirefly>
Date:   Wed Oct 4 15:21:41 2000 +0000

    removed HAVE_SYS_CDEFS_H hack

commit abccc9df211cb6832d1602e51038ff2e435e6185
Author: rufustfirefly <rufustfirefly>
Date:   Wed Oct 4 15:20:41 2000 +0000

    better sys/cdefs.h fix to use sys/generic/sys/cdefs.h if not found

commit c17205bee40b6b90c454a446ceb164600de6c54c
Author: rufustfirefly <rufustfirefly>
Date:   Wed Oct 4 15:09:56 2000 +0000

    added ifdef for ADED_FILEI, and cdefs.h fix

commit 9ddc8e9086f83097032fd365e0f7dde727087c00
Author: rufustfirefly <rufustfirefly>
Date:   Wed Oct 4 15:08:08 2000 +0000

    added checking for cdefs.h and sys/cdefs.h

commit ea17b2a8348d0b2cd8def5484ba70562e8113492
Author: rufustfirefly <rufustfirefly>
Date:   Thu Sep 28 16:49:47 2000 +0000

    Added afpd.conf man page

commit f205c12e7b57096081e1f04e675ad05e0b8e0ce5
Author: rufustfirefly <rufustfirefly>
Date:   Thu Sep 28 16:49:21 2000 +0000

    Somehow this got overwritten. Remade from scratch.

commit fa28e59d49a8203e4a9f7e4534e475afa78b281c
Author: rufustfirefly <rufustfirefly>
Date:   Wed Sep 27 15:06:15 2000 +0000

    oops. put afpd instead of atalkd, since there is no afpd.conf page yet. d'oh!

commit e36d48dadcf4e1eef2f1ed7d6b33bbc4aaf9c2ac
Author: rufustfirefly <rufustfirefly>
Date:   Tue Sep 26 19:09:25 2000 +0000

    added papd.conf man page, and simplified Makefile.am

commit 7d768b3499e02418d8cf8db0ae22ddf56bb73675
Author: rufustfirefly <rufustfirefly>
Date:   Fri Sep 22 20:01:39 2000 +0000

    added atalkd.conf documentation (man page)

commit cefb85a2ff8ef613eda7fa706512d2de2ade2f49
Author: arichard <arichard>
Date:   Fri Sep 22 15:18:44 2000 +0000

    Make man5 man pages independent of configure scripts paths.

commit e232da9dda8c120c6f5119289241555cfafc5db1
Author: arichard <arichard>
Date:   Fri Sep 22 15:06:03 2000 +0000

    Remove all theses Makefile files that have a corresponding Makefile.am,
    so they are unused and trashed the first time you run the configure
    stff

commit f352e9552dc5ed463f0bacc48388fd7a479b7159
Author: rdschulz <rdschulz>
Date:   Fri Sep 22 14:35:32 2000 +0000

    *** empty log message ***

commit ed0dfe3896b19d60384456de2e06625d8ab29b2f
Author: rdschulz <rdschulz>
Date:   Fri Sep 22 12:58:15 2000 +0000

    setvoltime modified for concurrent multiuser update of volumes

commit 611db8dae5818a72dd3f10b577b8352c2de011c5
Author: rufustfirefly <rufustfirefly>
Date:   Wed Sep 20 19:24:22 2000 +0000

    New man pages (section 5) for config files, initial import

commit b0e89db7b80dfc4f2d9db274fe335dd78c7e0f2f
Author: itlm019 <itlm019>
Date:   Wed Sep 20 06:44:50 2000 +0000

    Missing paren in DEBUG section

commit 98dec374d236253850f9045a934f31a163ee110a
Author: arichard <arichard>
Date:   Tue Sep 19 17:13:46 2000 +0000

    Makes files and comments refering to install or configure variables up to date
    at the install time. In 1.4-asun version, this was done by a special sed script
    at install time. This was droped from Makefile.am files. I have reinstroduced
    it in, I hope, a clever way and also used it for distrib/initscripts/rc.atalk.redhat.in.
    This will enable us to use any paths at the configure and get the various paths updates
    in mans, scripts and comments.

commit 3467741467efe4bcf2811a1d226f79024bfe621e
Author: jnewman <jnewman>
Date:   Sat Sep 16 20:16:49 2000 +0000

    move libcrypto test into openssl found section

commit b9eee70c4bfca743b1fa7faaa54943cc1b5179f1
Author: jnewman <jnewman>
Date:   Sat Sep 16 19:42:38 2000 +0000

    libpam doesn't have a main(), so search for a reasonable replacement - pam_start

commit 24e4d0e105557b5f0eee883c95cd2d72bff603f8
Author: arichard <arichard>
Date:   Sat Sep 16 14:50:14 2000 +0000

    Corrected another syntax error in ADMIN_GRP testing.
    Stop automake complaining about LIBTOOL (added AM_PROG_LIBTOOL).

commit a11f0013bb5ea6d917ff2a284813934ab994a049
Author: arichard <arichard>
Date:   Sat Sep 16 13:48:21 2000 +0000

    Corrected a little syntax error generated by AC_DEFINE (ADMIN_GRP)

commit 8381e418716310880c6e0d365fa9f1d1322718b0
Author: itlm019 <itlm019>
Date:   Fri Sep 15 20:12:09 2000 +0000

    ADMIN_GRP fix

commit 19c4c917d2ff6faa7cddf666279b2f83f2f2b6eb
Author: jnewman <jnewman>
Date:   Fri Sep 15 16:54:44 2000 +0000

    correctly handle null return from fopen instead of crashing later

commit 430426c0b730c4bbd2d3efa9e64e9b9ad0604eff
Author: itlm019 <itlm019>
Date:   Thu Sep 14 20:58:28 2000 +0000

    Minor bug fix.  Some UAMs don't give logging control back to afpd when they're
    done (including PAM).  Not a problem unless you're trying to log afpd logins
    somewhere else.

commit 9ac30b9ba9deefd1995067f3dca9e8ff6ea3a2a2
Author: itlm019 <itlm019>
Date:   Wed Sep 13 23:56:02 2000 +0000

    Commented out ADMIN_GRP option here and left it enabled by default.  It can
    still be controlled from afpd.conf.

commit 5a48d192014eb7bd5de35e0b3ee8482f8959cd32
Author: itlm019 <itlm019>
Date:   Wed Sep 13 23:43:48 2000 +0000

    One of the changes we made for our particular server configuration concerning
    log information accidently got in here in my last commit.  Took it out.

commit 7012f006668604050e51b7785fb1e9b48d6fc853
Author: itlm019 <itlm019>
Date:   Tue Sep 12 22:26:27 2000 +0000

    Documented -admingroup option

commit 4fa33d44f86bac40ca63c8127aaece28950a136b
Author: rufustfirefly <rufustfirefly>
Date:   Tue Sep 12 20:22:01 2000 +0000

    Jonathan Newman's USE_LASTDID and host_{os,cpu} patches

commit 24c79dad1d7e8874ea8147c1ceaa2b7ee2973938
Author: rufustfirefly <rufustfirefly>
Date:   Tue Sep 12 18:49:04 2000 +0000

    moved from @bindir@ to @prefix@/bin to stop stupid subst problems

commit d4317303a5947d0092c552376fe34b7df5519555
Author: rufustfirefly <rufustfirefly>
Date:   Tue Sep 12 18:45:01 2000 +0000

    Added /usr to OpenSSL prefix try list for Mandrake compatibility

commit 79e77d4fe3ff1572e987ec63d9d78675de1a99be
Author: itlm019 <itlm019>
Date:   Mon Sep 11 23:55:00 2000 +0000

    Sam Noble's ADMIN_GRP patch, removed Marc's old ADMIN_GRP patch.

commit 8128ad3f6eec56f046d76b67ae9eef31492add9e
Author: rufustfirefly <rufustfirefly>
Date:   Mon Sep 11 18:42:39 2000 +0000

    added UAM_RNDNUM to acconfig.h to match AC_DEFINE

commit 7d80b618220cbc14d9c38ccda2adb4fe0f714d27
Author: rufustfirefly <rufustfirefly>
Date:   Thu Sep 7 18:03:57 2000 +0000

    added mac osx specific stuff from sys/osx/Makefile to configure script

commit 6502818347bb4844a1edb41c1e41023b9a415d32
Author: jnewman <jnewman>
Date:   Wed Sep 6 18:35:58 2000 +0000

    Openssl checking added, so remove UAM_RNDNUM definition

commit 865773c57e8d1618b24fafa3cd5f809bff59a305
Author: jnewman <jnewman>
Date:   Wed Sep 6 18:34:02 2000 +0000

    Openssl checking, so remove UAM_RNDNUM as it will be defined appropriately

commit a1166e588a0a6aaa019803c73e3bc43cb91c01f6
Author: jnewman <jnewman>
Date:   Wed Sep 6 18:30:17 2000 +0000

    Add check for openssl and enable DHX and RANDNUM when it is available.

commit d64af0df9bcc2343f1df6edd6fe403818d3f121d
Author: jnewman <jnewman>
Date:   Tue Sep 5 17:18:04 2000 +0000

    Fix enable/disable debug

commit b7d0a5bfda4de3cacd788e44780de7c135cb6368
Author: rufustfirefly <rufustfirefly>
Date:   Tue Sep 5 15:21:18 2000 +0000

    moved "bindir" to prefix/bin/ to solve passing as variables problem from autoconf

commit ba2f9bbf01115b5cde9c7f928eb8c6becbf6e2d4
Author: arichard <arichard>
Date:   Mon Sep 4 16:46:25 2000 +0000

    Added a -rdynamic option to the linking of afpd and papd in order to be
    able to load uam modules at runtime

commit 60e3585ad90d017df492c6e11295c9aa36541f4d
Author: arichard <arichard>
Date:   Mon Sep 4 15:21:29 2000 +0000

    Corrected a little syntax error that was creating a boggus "6," file during
    ./configure

commit d1245208df452416a3e9b0ae984aeaba2d944ae2
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 31 14:13:48 2000 +0000

    added undef DROPKLUDGE for the new configure option

commit eb4818b61d53d955c94b235dc64ec680f5365f60
Author: itlm019 <itlm019>
Date:   Wed Aug 30 21:34:35 2000 +0000

    Added --enable-dropkludge flag (NOT VERY SECURE)

commit d49b524698050c8e95c3987981a8af598545c9ec
Author: itlm019 <itlm019>
Date:   Wed Aug 30 20:37:09 2000 +0000

    Fixes necessary for NATALI netatalk support; shouldn't affect anything else.

commit 3cc6ca93ec7b173bffbf9c04e30b58a7ce954397
Author: itlm019 <itlm019>
Date:   Sat Aug 26 00:12:50 2000 +0000

    Dropbox kludge -- fixed file overwrites, I don't plan any more dev. on this.
    See docs for details.  THERE IS A KNOWN SECURITY HOLE IN THIS KLUDGE WHICH
    I CAN'T FIGURE OUT HOW TO FIX.

commit 7f33050d6d0bab0f1a54614f7e8dfb0eb0116281
Author: itlm019 <itlm019>
Date:   Wed Aug 23 20:15:51 2000 +0000

    Permission kludge; 95% bug-free!

commit a90f296a22e7eca54c1cd97c4afc23723b137c8e
Author: itlm019 <itlm019>
Date:   Tue Aug 22 22:54:41 2000 +0000

    Cleaned up DROPKLUDGE tags.

commit d3e5cf15dea527bd649b665acdd9859d51b17c8f
Author: itlm019 <itlm019>
Date:   Tue Aug 22 21:52:40 2000 +0000

    Another fix for the dropbox kludge

commit 8f8a970904027f72ae1e6d9759d97ae6df1d1320
Author: itlm019 <itlm019>
Date:   Fri Aug 18 21:39:45 2000 +0000

    More kludge work.  Now updates the owner/group correctly but crashes afpd.
    Kludge is still disabled so you shouldn't notice anything.

commit e6c8641c258e81aa3c2028d38ee81887a74ca5cf
Author: itlm019 <itlm019>
Date:   Thu Aug 17 00:06:16 2000 +0000

    Improvements to ownership kludge (new code still doesn't work and is disabled).

commit 068ef5a731ae75038f40d01d832c2fc0743d1658
Author: itlm019 <itlm019>
Date:   Wed Aug 16 23:31:29 2000 +0000

    File ownership kludge, not yet complete.

commit 5a0843ea53c07c8dab7a4d8d06ab0375e6d0e626
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 14 20:54:31 2000 +0000

    Properly generates sbindir

commit 86549131028a387141594854bfb762d6ab1d09c4
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 14 16:23:30 2000 +0000

    openssl works properly now, uams build without lib_ prepended

commit 941fcdff849e12c7844551b5c0983224471f7b7f
Author: itlm019 <itlm019>
Date:   Fri Aug 11 22:24:19 2000 +0000

    Renabled unlink call for server messaging to eliminate clutter.  See docs for
    details on controlling clutter.

commit a6cadab71dcd4dd93eb461abacdd4407381ece36
Author: rufustfirefly <rufustfirefly>
Date:   Fri Aug 11 19:08:38 2000 +0000

    Removed extra -DVERSION

commit af83c425274c909a4370c70c9e1fa1b8d3f41961
Author: rufustfirefly <rufustfirefly>
Date:   Fri Aug 11 19:05:52 2000 +0000

    Removed duplicate -I cruft from automake files

commit 37b682453fb33c3b2d9ea595adaedcf2475dabb2
Author: rufustfirefly <rufustfirefly>
Date:   Fri Aug 11 16:30:07 2000 +0000

    netatalk now starts in the foreground by default

commit d9cec61ce43ae0478b0f29d13048083e0278ecd6
Author: itlm019 <itlm019>
Date:   Thu Aug 10 21:21:23 2000 +0000

    Disabled attempting to delete the file after it has been read.  Fixed reading
    from the default MSGDIR/message file.

commit e383b9e8c5fb27b6780c5ed0bfc0ecf2c5ee19ee
Author: itlm019 <itlm019>
Date:   Thu Aug 10 21:03:44 2000 +0000

    Added making the MSGDIR for server messages in "make install"

commit f8b53de5aec713a3d4b279b407662fb6d3334d59
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 10 16:08:14 2000 +0000

    Removed redundant CFLAGS defs for include directories

commit ebf3cb6b87c507f1c4c5e4d5a6e68c6a97931261
Author: jnewman <jnewman>
Date:   Wed Aug 9 20:57:32 2000 +0000

    Fix DDP support so --enable-ddp and --disable-ddp work as expected.

commit 6b7542ab2d1c765c9b9bf52fb6cb75556d6a5b4f
Author: rufustfirefly <rufustfirefly>
Date:   Wed Aug 9 14:52:37 2000 +0000

    memory allocation for address

commit 203d442820746f7ae02c08d256a29b5e73e6bafa
Author: rufustfirefly <rufustfirefly>
Date:   Wed Aug 9 14:12:06 2000 +0000

    /usr/local/bin/perl -> /usr/bin/perl and portability fixes

commit 315b32ab11a2d3091b3aded1985ca89b0d49b27b
Author: rufustfirefly <rufustfirefly>
Date:   Wed Aug 9 14:10:04 2000 +0000

    Updated automake / autoconf for use with contrib/shell_utils/

commit e542fbd5ac645e6515755fda31f761e739f5c05b
Author: rufustfirefly <rufustfirefly>
Date:   Wed Aug 9 14:08:06 2000 +0000

    Shell utils from http://www.-genome.wi.mit.edu/ftp/distribution/software/Bass/bass-1.29/apple_util/ (initial import)

commit 3cddcd109e23bd4481ed1ca7e67a5ca8fdbb6c27
Author: jnewman <jnewman>
Date:   Tue Aug 8 22:15:07 2000 +0000

    Fix cracklib support to accept an empty path
    defaults to /usr/lib/cracklib_dict

commit 8bb5a9e584e257bd6674152bf71c38aca1b23c18
Author: morgana <morgana>
Date:   Tue Aug 8 20:14:14 2000 +0000

    Updated TODO list.  We should use this to track the next version's release requirements.

commit c557262a5d6e6b576cf3dda80c3ede6d3e64e514
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 19:40:46 2000 +0000

    automake file for bin/afile/

commit 41ff2f10c3f4b464cb12c2516b8df019326894b0
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 19:40:17 2000 +0000

    Added timeout executable

commit 2646e1cb02408ab08a0f788bdc964e2c44032059
Author: jnewman <jnewman>
Date:   Tue Aug 8 18:10:32 2000 +0000

    Fix DDP enable/disable

commit 1c6383f8fc0dd28766352e9ee1e64020fa66823c
Author: itlm019 <itlm019>
Date:   Tue Aug 8 17:27:12 2000 +0000

    macusers script erased one TODO; utmp/wtmp would still be nice.  :)

commit 111d68053a5cd19d13bac3d025f4f4bc9f9867de
Author: itlm019 <itlm019>
Date:   Tue Aug 8 17:24:54 2000 +0000

    A more comprehensive "who's logged in now?" than nu

commit e7131df5f7ab2b299d68f9ce090dd5e15d46d9d1
Author: itlm019 <itlm019>
Date:   Tue Aug 8 17:01:05 2000 +0000

    Moved things into the correct categories

commit 2669e7be4729d0314d822e7e3c8b38c8a2fb03d0
Author: itlm019 <itlm019>
Date:   Tue Aug 8 16:49:34 2000 +0000

    Stuff that still needs to be done; still needs to be fixed.

commit 2f55f7dc63ebb5ce5862129c4458f2d24801f732
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 16:30:34 2000 +0000

    Removed duplicate -I tags from CFLAGS

commit e9ea8267c58570779c9512d567be12e59a8e08c9
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 16:28:48 2000 +0000

    Wesley Craig's > 2GB patch

commit 066669d2e9280880866280277a915379ee09732f
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 16:00:50 2000 +0000

    Modifications for bin/afile/* to work

commit ed95c1e2136ddca4a13de0caaf0d99f0a1b7ba3e
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 15:51:59 2000 +0000

    Added man pages to Makefile.am

commit 4650c65eefe0fbb35e5b8f7ea0371daed4418da1
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 15:49:38 2000 +0000

    Added man files from afile package

commit c2e32656f4c312caba50574354d4af4707e9bf75
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 15:47:30 2000 +0000

    Moved man pages to man/man1/

commit 96e3f5f4937c16b39a6f86d7015e95c47a24d4ff
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 15:46:33 2000 +0000

    Path and portability fix for this script

commit af7280a707ff788803095d1b47a00dc50b7f7e03
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 15:44:58 2000 +0000

    Modified orginal Makefile to use tree paths

commit a430494545ea5ac26315a1560c1bfa4fb599cb1c
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 15:43:44 2000 +0000

    Added afile utilities to bin tree (unmodified package)

commit 0b83a742ba66bd4e66f9f69bb06b8beb72dadf06
Author: jnewman <jnewman>
Date:   Tue Aug 8 15:43:34 2000 +0000

    Modified cracklib

commit 599237f10809ce77d565b358fe049ddc33afd883
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 15:41:01 2000 +0000

    Added legacy defines for adouble applications from 990130

commit e7c9f07234deb4ab6c01feec484439ae1706d5a8
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 15:26:28 2000 +0000

    Added timelord to SUBDIRS so that it can be compiled now

commit 51544e9b02e089adefbbb2a838854d3adcce697c
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 15:25:51 2000 +0000

    Timelord compilation fixes and makefile adjustment

commit 905f060e1b578d2bc8ad13582a577bbc7fa8d9bf
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 13:55:19 2000 +0000

    Redundancy kludge for libtool to pull in all libraries

commit 08ecfe04724b6e9b056c98551c4baa7db027dba8
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 8 13:49:10 2000 +0000

    netscape-config and automake file generation that was accidentally left out yesterday

commit 2b0b4799ea0928b78fbbfcab8a56fbfad8c22dc4
Author: morgana <morgana>
Date:   Tue Aug 8 05:19:19 2000 +0000

    Fix papd so it will spool to a BSD lpr queue and change the owner of the file to the authenticated username.  This makes papd compatible with lpr 0.46.
    Also added a fix for server messaging in afpd.  Wrong member of structure accessed for dsi info.

commit 1da90c608755986047c64d2313b5a6e4d02c4971
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 7 20:30:49 2000 +0000

    added contrib/timelord/Makefile to list

commit e11010db6ff288efe2fd93a90b0ac099d2265be0
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 7 20:30:18 2000 +0000

    New automake/autoconf file for contrib/timelord/

commit e681f3ce031edd64869ff754413e564d9cc92db6
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 7 20:29:33 2000 +0000

    Changed Makefile to work with current tree setup

commit 70476e0b409c4135ab79f24eaa305e962991a6af
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 7 20:26:13 2000 +0000

    Import of timelord into CVS tree

commit 0062987105ec2f4327684128717277369cd6568e
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 7 19:43:03 2000 +0000

    Added m4 and -config files, built rc.atalk.redhat, updated SUBDIRS

commit 80d761ab746dd43e58ae1b3386cc8d4f8269fe5a
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 7 19:42:18 2000 +0000

    Updated SUBDIRS to include distrib

commit 45868253b27aebbe7a4413c664f2fa3beb1c3ed7
Author: rufustfirefly <rufustfirefly>
Date:   Mon Aug 7 19:41:56 2000 +0000

    New directories, more fixes, more files built

commit dcfd09729cab6de87156d6962fc122459ef24b37
Author: rufustfirefly <rufustfirefly>
Date:   Sun Aug 6 22:50:35 2000 +0000

    etc/afpd/afp_dsi.c needed #ifdef SERVERTEXT with hooks

commit d5f0ad97219e0ef85aee9ec77c2caef03cc217b3
Author: itlm019 <itlm019>
Date:   Sat Aug 5 01:49:23 2000 +0000

    Added server messaging support

commit 1ca71b02aca8a83a49279216654fce1b3fbcd2ee
Author: itlm019 <itlm019>
Date:   Fri Aug 4 21:41:03 2000 +0000

    This adds server notification support beyond "the server will shut down in 5 minutes"
    
    SIGUSR2 triggers afpd to read the message from a text file.

commit 97ad74672576fe48873c63eac601146bf7ef36e2
Author: itlm019 <itlm019>
Date:   Fri Aug 4 20:33:43 2000 +0000

    Fixes file permissions; thus enables *partial* dropoff folder support.
    Ownerships for picking up items dropped in the box is still a problem -- I invite someone else to figure that out.  :)

commit a2ce91b10e0ea26e7a82491eb806d9497557debf
Author: itlm019 <itlm019>
Date:   Fri Aug 4 20:18:58 2000 +0000

    ADMIN_GRP support added (superuser file permissions)

commit 150adfdd86cd2c00da06799e89d28e43e399606f
Author: rufustfirefly <rufustfirefly>
Date:   Fri Aug 4 19:17:31 2000 +0000

    Added --disable-ddp for NO_DDP define

commit d275295045da592697047cda4b94b7ce6d45f158
Author: itlm019 <itlm019>
Date:   Fri Aug 4 19:04:02 2000 +0000

    ADMIN_GRP support added (allows a group of people to have superuser access)

commit e7065758d35b8fa1d2ff0452093d86b94bff283a
Author: rufustfirefly <rufustfirefly>
Date:   Fri Aug 4 16:56:50 2000 +0000

    New afppasswd.1 man page for Netatalk 1.5

commit 7579c87b8ee5e748824a082fe4fef3f09a9a6c1c
Author: rufustfirefly <rufustfirefly>
Date:   Fri Aug 4 15:56:31 2000 +0000

    Added "nu" to contrib (netatalk users script)

commit 8b9ea538cfa2a1cb498dd08c1628076948939b05
Author: rufustfirefly <rufustfirefly>
Date:   Fri Aug 4 15:55:12 2000 +0000

    Portability improvement for script (GNU recommendation)

commit 0b1bc8f161441d47f3d48632892197256239c9d8
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 3 21:43:16 2000 +0000

    getopt() fix. will read documentation next time before patching.

commit f5c593e169308b6de9b686d2075d08b39f07e94b
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 3 20:19:55 2000 +0000

    Authenticated printing support in autoconf

commit edcad4128771f75e14021f7f71d629d511c3014c
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 3 20:19:08 2000 +0000

    Removed legacy DEBUG declarations

commit 737061f8954e8affb24c3429427346564935c662
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 3 19:47:12 2000 +0000

    Fixes for stupid paper bag compile-time problems with conditionals

commit acb5fd288f85b77302ae0233902c61a04aef39e9
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 3 16:11:54 2000 +0000

    Minor fixes, added --enable-debug support

commit 02f4310c8d6aaa6be301b5c229baf78bada043ae
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 3 15:34:27 2000 +0000

    afpd.passwd -> afppasswd, make fixes for afppasswd

commit 4b3192fc58442ef1cacf7465a757c9de561440cf
Author: rufustfirefly <rufustfirefly>
Date:   Thu Aug 3 15:29:15 2000 +0000

    Enhanced flags description, allowed disabling of cracklib checking

commit 714593ab6f26b41965f193cb4f0b418a49ef4f26
Author: rufustfirefly <rufustfirefly>
Date:   Wed Aug 2 21:26:27 2000 +0000

    paper bag configure.in bug, plus USE_PAM supported

commit 458fcac4e6aee7eb54ba744f57169f70cce12505
Author: rufustfirefly <rufustfirefly>
Date:   Wed Aug 2 19:28:05 2000 +0000

    implemented config.h

commit ee7d12ecf5c4e385b54519f40a3b643d652f0e9c
Author: rufustfirefly <rufustfirefly>
Date:   Wed Aug 2 15:02:23 2000 +0000

    Added checking for USE_CRACKLIB

commit 7a1b21d077f38a31ec356aee96fb97638d017219
Author: morgana <morgana>
Date:   Wed Aug 2 14:06:13 2000 +0000

    If the username is set through authentication, papd will now set real and effective uids to that user when the printer output is piped to a program.  This way lpr will store print jobs as the authenticated user instead of root.

commit 099a0945c7e844a9c5f848b0bd658dd15fa3a6cd
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 1 21:10:55 2000 +0000

    Added config.h checks in bin/ code

commit 59e06f3bc066c364d2f40aba49a915631ba68252
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 1 21:10:28 2000 +0000

    Added checks for config.h in bin/ code

commit d6d83a55a9ffe690e6e0cfd40ba1b911c226f5f7
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 1 20:14:53 2000 +0000

    Some more large autoconf/automake fixes. include/ and sys/ should install

commit cb76e7060badfed470ae7fecf809675f57b8ba03
Author: rufustfirefly <rufustfirefly>
Date:   Tue Aug 1 05:17:07 2000 +0000

    Megatron should build properly now (PAPER BAG .... PAPER BAG)

commit 55d3d532ef80cafe642739f947b7aaf8f14900b0
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jul 31 20:58:18 2000 +0000

    Minor shadow passwords patch from netatalk-admins list

commit 6b8324c74f997879b61482aa75c5b2e9dd146a8f
Author: rufustfirefly <rufustfirefly>
Date:   Mon Jul 31 20:53:19 2000 +0000

    More automake/autoconf updates (megatron is disabled, but netatalk builds)

commit 017528e91b395562eeeb236e3a895d2c97ba0905
Author: morgana <morgana>
Date:   Mon Jul 31 16:02:41 2000 +0000

    The papd patches to enable CAP style printing.  This also changes the printcap
    flag used for Print Server Security Protocol authentication to "sp".  See
    README.MORGAN and the example papd.conf for help.

commit 25bfd99d17d409917ff3790d0cac934de5885e7b
Author: morgana <morgana>
Date:   Sat Jul 29 18:24:51 2000 +0000

    The first half of changes necessary for CAP style authenticated printing.  These are the changes necessary for afpd.  Changes for papd will be forthcoming.  See the top-level Makefile's CAPDIR setting for a description of this feature.

commit 40ea20b77c81f82eba3e3054e87e37d9b56a3b3e
Author: rufustfirefly <rufustfirefly>
Date:   Fri Jul 28 21:06:37 2000 +0000

    automake/autoconf fixes (libatalk now builds supposedly)

commit 021c9ea67a4c1e3c7af979d49541f64c29713e4c
Author: rufustfirefly <rufustfirefly>
Date:   Fri Jul 28 18:46:50 2000 +0000

    Moved INSTALL to doc/

commit dbd803415ad079c643c0b3950ec189346f0473da
Author: rufustfirefly <rufustfirefly>
Date:   Fri Jul 28 18:45:04 2000 +0000

    Removing INSTALL directory (conflict with automake)

commit e64869610d311a489e93e75e8d9a641e31b40197
Author: rufustfirefly <rufustfirefly>
Date:   Fri Jul 28 14:52:53 2000 +0000

    Automake/autoconf fixes/additions

commit c33da21a91640199db844e2c17652aeaf55188e4
Author: rufustfirefly <rufustfirefly>
Date:   Fri Jul 28 14:19:51 2000 +0000

    Mirrored Makefile changes from Andy Morgan in Makefile.am

commit 33cdcb8d9746a9594df782e5a4f200f4ab61585f
Author: morgana <morgana>
Date:   Fri Jul 28 06:27:37 2000 +0000

    Initial patch for authenticated printing. Requires LaserWriter 8.5.1 or
    greater on client.  See README.MORGAN for information.

commit 1c48539d061c18961002650ad1047e8ba8af7d2e
Author: morgana <morgana>
Date:   Fri Jul 28 03:54:15 2000 +0000

    Stop papd from stripping '"' from PPD values.  This prevented proper
    reporting of LanguageLevel and other PPD Features.

commit 5a54506f4479c412cf5ef6d75e530e7d4f1b6db3
Author: morgana <morgana>
Date:   Fri Jul 28 03:45:25 2000 +0000

    Add 'showppd' utility for showing how papd parses PPD files.
    Showppd will display the list of Font and Feature queries which
    papd will respond to.
    Showppd is installed in BINDIR of installation.

commit d90fa49b57e39bc1ac366a7535bfb844fc086651
Author: rufustfirefly <rufustfirefly>
Date:   Thu Jul 27 21:01:17 2000 +0000

    Added include for ../../sys headers

commit a51398a16a740152f0b36a4730bbd7e7df544b4e
Author: rufustfirefly <rufustfirefly>
Date:   Thu Jul 27 20:27:29 2000 +0000

    Major automake/autoconf commit. Not working yet.

commit d50d3e4f16e7d20be2a29a0c04b7015fd5ba74b7
Author: rufustfirefly <rufustfirefly>
Date:   Wed Jul 26 20:31:35 2000 +0000

    More automake support.

commit 1bf5a55b0fa761de2498b2009f3c0d4ce8048c90
Author: rufustfirefly <rufustfirefly>
Date:   Wed Jul 26 19:31:20 2000 +0000

    New automake files for the man pages

commit 31843674b7bd32eabcce3a1ad6159b4f94921f79
Author: rufustfirefly <rufustfirefly>
Date:   Tue Jul 25 21:08:58 2000 +0000

    Initial revision
